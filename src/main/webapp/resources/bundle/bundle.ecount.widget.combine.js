window.__define_resource&&__define_resource("MSG01136","MSG04553","LBL12742","LBL12743","LBL12744","LBL08414","LBL08413","LBL08412","LBL08411","LBL02474","LBL02462","LBL02456","LBL05716","LBL02247","LBL10785","LBL08019","LBL03134","LBL80071","LBL00612","LBL03755","LBL07247","LBL03136","LBL08396","LBL02876","LBL06789","LBL05714","LBL05715","LBL02056","LBL09263","LBL09264","LBL00930","LBL05426","LBL10756","LBL09363","LBL03311","LBL03747","LBL02191","LBL03312","LBL05305","LBL00363","LBL09605","LBL14831","LBL18982","LBL00909","LBL02692","LBL00253","LBL07879","LBL07880","LBL12933","LBL12934","LBL12935","LBL12936","LBL17391","LBL17389","LBL17398","LBL17397","MSG00629","LBL13044","LBL01246","LBL00747","LBL00739","BTN00236","LBL00703","LBL07542","MSG04446","LBL01926","LBL11618","LBL05654","LBL01751","MSG03448","LBL01772","LBL01083","LBL00592","BTN00364","LBL01783","BTN00441","LBL04602","LBL04596","LBL03132","LBL01680","LBL01161","LBL00777","LBL02890","LBL01084","LBL10521","LBL01089","LBL10517","LBL10518","LBL10519","LBL08864","LBL02042","LBL02159","LBL02475","LBL02343","LBL07517","LBL07518","LBL03580","LBL02433","LBL01716","LBL02659","LBL11295","LBL00465","LBL00515","LBL00486","LBL01890","LBL02678","LBL01905","LBL01918","LBL01913","BTN00168","LBL20026","LBL07703","BTN00070","MSG00297","LBL09480","LBL12153","LBL12154","LBL12655","LBL13111","LBL13112","LBL01374","LBL03028","LBL02569","LBL03193","LBL03630","LBL08075","LBL02178","LBL05512","LBL09370","LBL00792","LBL00843","LBL01901","LBL00391","LBL03742","LBL03743","LBL03627","LBL09123","LBL09327","LBL10763","LBL10764","LBL02006","LBL01399","LBL12481","LBL12482","LBL12483","LBL12484","LBL08936","LBL15194","LBL01370","LBL12721","LBL12722","LBL12723","LBL12720","LBL12724","LBL12704","LBL09400","LBL07530","LBL80064","LBL03584","LBL04656","LBL35192","LBL05100","LBL04657","LBL02238","LBL04864","LBL04865","LBL12287","LBL12286","LBL12288","BTN00425","LBL17703","LBL17704","LBL12862","LBL12290","LBL09395","LBL01390","LBL08244","LBL02716","LBL11523","LBL09356","LBL09357","LBL85292","LBL01448","LBL03589","LBL85287","LBL01688","LBL09969","LBL08625","LBL01829","LBL13716","MSG01397","LBL13717","LBL01048","LBL01046","LBL02677","LBL01826","LBL05318","LBL02293","LBL00342","LBL02683","LBL03254","LBL03235","LBL14204","LBL13534","LBL11400","LBL03726","LBL19062","LBL05624","LBL02401","LBL00778","LBL30022","LBL00013","LBL00821","LBL00291","LBL00320","LBL05868","LBL05869","LBL05609","LBL05481","LBL05482","LBL07217","LBL04446","LBL04267","LBL01899","LBL00640","LBL05536","LBL02739","LBL02740","LBL06519","LBL12690","LBL12691","LBL04701","LBL12255","LBL00329","LBL00499","LBL02869","LBL04057","LBL03749","LBL03750","LBL03751","LBL03752","LBL10723","BTN00035","BTN00802","BTN00803","BTN00804","LBL09918","LBL10233","LBL10242","LBL00723","LBL70401","LBL10235","LBL11613","LBL09676","LBL10234","LBL03635","LBL00725","LBL06716","LBL04440","LBL11137","LBL06722","LBL93729","LBL10052","LBL30017","LBL30019","LBL08031","LBL01202","LBL06247","LBL02958","LBL80089","LBL11776","LBL11777","LBL11325","LBL11779","LBL11013","LBL11780","LBL11328","LBL11231","LBL11782","LBL11783","LBL11781","LBL11275","LBL03552","LBL06999","LBL11784","LBL11785","LBL11961","LBL12042","LBL11738","LBL11788","LBL11798","MSG06712","LBL11797","LBL11329","LBL11244","LBL11245","LBL11246","LBL00397","LBL15850","LBL11276","LBL11491","LBL11492","LBL11493","LBL11468","LBL11443","LBL11444","LBL11250","LBL11251","LBL11963","LBL11445","LBL11802","LBL02627","LBL11916","LBL05761","LBL06619","LBL11819","LBL11820","LBL11917","LBL11821","LBL11822","LBL14882","LBL11134","LBL12043","LBL08872","LBL08842","LBL01342","LBL09371","LBL08365","LBL03539","LBL03576","LBL03577","LBL09543","LBL09037","LBL09038","LBL00590","LBL03076","LBL07974","LBL01623","LBL06593","LBL06594","LBL06595","LBL03550","LBL03551","LBL03553","LBL03554","LBL08097","LBL03557","LBL07759","LBL00488","LBL00487","LBL00480","LBL02014","LBL05470","LBL17605","LBL17606","LBL17607","LBL08099","LBL08100","LBL08101","LBL08102","LBL07516","LBL17602","LBL07520","LBL17603","LBL12654","LBL08195","LBL17604","LBL13143","LBL03582","LBL13169","LBL01467","LBL08976","LBL08104","LBL08105","LBL08363","LBL08111","LBL08109","BTN00765","LBL35866","LBL05860","BTN00581","BTN00486","BTN00107","LBL04842","LBL08304","LBL11718","LBL07376","LBL01587","LBL11355","LBL01532","LBL01185","LBL00830","LBL09235","LBL01593","LBL85009","LBL01259","LBL01333","LBL01547","LBL00321","LBL00785","LBL02464","LBL00791","LBL06643","LBL00784","LBL06644","LBL85249","LBL85250","LBL70612","LBL12319","LBL03786","LBL02684","LBL05668","LBL05669","LBL05670","LBL05671","LBL00630","LBL05672","LBL00737","LBL05823","LBL13074","LBL01098","LBL01117","LBL01092","LBL01248","LBL00467","LBL02579","LBL00299","LBL00926","LBL13075","LBL00116","LBL00117","LBL00118","LBL00119","LBL13076","LBL08023","LBL13077","LBL13078","LBL08135","LBL08136","LBL08137","LBL08138","LBL08139","LBL08140","LBL08141","LBL08142","LBL08143","LBL08144","LBL08145","LBL08146","LBL02576","LBL93024","LBL93002","LBL02695","LBL10288","LBL80195","BTN00346","LBL12479","BTN00458","LBL02728","LBL09351","LBL01563","LBL02586","LBL01550","LBL02283","LBL01411","LBL00344","LBL05122","LBL01294","LBL00749","LBL11874","BTN00084","LBL11056","MSG01767","LBL10932","LBL10923","LBL02025","LBL01387","LBL02538","LBL01250","LBL01523","LBL15087","LBL01647","LBL00921","LBL09574","BTN00572","LBL10728","LBL10729","LBL10730","BTN00539","BTN00026","LBL01809","LBL02116","LBL02117","LBL01437","LBL01314","LBL04070","LBL01035","LBL04071","LBL00223","LBL04085","LBL01591","LBL02471","LBL01434","LBL01640","LBL00504","MSG01423","LBL08981","LBL08921","LBL08942","LBL01780","LBL05604","LBL05606","LBL07932","LBL00562","LBL01970","LBL00564","LBL08554","LBL09261","LBL09262","LBL09404","LBL09265","LBL09338","LBL05718","MSG01396","LBL11536","MSG00923","LBL02041","LBL13503","LBL01018","LBL02704","LBL13501","LBL13502","LBL09108","LBL80322","MSG00008","MSG00957","LBL13541","MSG07990","LBL40210","LBL85243","LBL02020","LBL02621","LBL00292","LBL01715","LBL09541","LBL09542","LBL09618","LBL13748","LBL35769","LBL08567","LBL08568","LBL08571","LBL17774","LBL04452","LBL17775","LBL17776","LBL17778","LBL18160","LBL17777","MSG01207","BTN00028","LBL05033","LBL06115","LBL06126","LBL06127","LBL13757","LBL14131","LBL14133","LBL14134","LBL01777","LBL14154","LBL14156","LBL14158","LBL20709","LBL14147","LBL14495","LBL14135","LBL01144","LBL14149","LBL14496","LBL14136","LBL14137","LBL14138","LBL14139","LBL14150","LBL14151","LBL14140","LBL14141","LBL14142","LBL14143","LBL14144","LBL14145","LBL15124","LBL15238","LBL02155","LBL01159","LBL14155","LBL14157","LBL14910","LBL00847","LBL00389","LBL80170","LBL01356","LBL03067","LBL14123","LBL00916","LBL01957","LBL01977","LBL10304","LBL14280","LBL14281","LBL10059","LBL10058","LBL14282","LBL12912","LBL13082","LBL12847","LBL10064","LBL14525","LBL14527","LBL09499","LBL12849","LBL09523","LBL09504","LBL13199","LBL02836","LBL01239","LBL09602","LBL09970","LBL00482","LBL01992","LBL07137","LBL02211","LBL14569","LBL14570","LBL14571","LBL14572","LBL14573","LBL00899","LBL10510","LBL14574","LBL09953","LBL14424","LBL10023","LBL00848","LBL01014","LBL01347","LBL14824","LBL14825","LBL02884","LBL14818","LBL14819","LBL14820","LBL14821","LBL14822","LBL07443","LBL07377","LBL00090","LBL18494","LBL14823","LBL00870","LBL02707","LBL09252","LBL02690","LBL00182","LBL17381","LBL01750","LBL01193","LBL02490","LBL02834","LBL08935","LBL01420","LBL07917","LBL07870","LBL07871","LBL07872","LBL07918","LBL21900","LBL21013","LBL02092","LBL07735","LBL04750","LBL18106","LBL05887","LBL01813","LBL02318","LBL07397","LBL07372","LBL07396","LBL07494","LBL14901","LBL05595","LBL14902","LBL14903","LBL14904","LBL10587","LBL00802","LBL22654","LBL02065","LBL02206","LBL85100","LBL01881","LBL02037","LBL07334","LBL07335","LBL10302","LBL02355","MSG05789","LBL04156","MSG05747","MSG05782","LBL07839","MSG03472","LBL00286","MSG05783","LBL01509","LBL02524","LBL02516","MSG05784","LBL10303","MSG05785","LBL00913","MSG05794","LBL35804","MSG05786","LBL15076","LBL04832","LBL04947","LBL06308","LBL05893","LBL06405","LBL02221","LBL03815","BTN00443","LBL08001","LBL08004","LBL15198","LBL15199","LBL15200","LBL15201","LBL07454","LBL07368","LBL15204","LBL15207","LBL15203","LBL15205","LBL15206","LBL06406","LBL15248","LBL05511","LBL15249","LBL12497","LBL15250","LBL04920","LBL16288","LBL04853","LBL80082","LBL02846","LBL01254","LBL16635","LBL16636","LBL21864","LBL03181","LBL16952","LBL17578","LBL03253","LBL04294","MSG06115","LBL80221","LBL20118","LBL00040","LBL20114","LBL20115","LBL10735","LBL10734","BTN00069","LBL20116","LBL02792","LBL13255","LBL02660","LBL05455","LBL04686","LBL70748","LBL70628","LBL70629","MSG04499","LBL70632","MSG03839","MSG09516","MSG05825","MSG01889","LBL18633","LBL18634","LBL21056","LBL15181","LBL15182","LBL09329","LBL01947","LBL16391","LBL03266","LBL05473","LBL10466","LBL16771","LBL16435","LBL18041","LBL17004","LBL04835","LBL11726","LBL21963","LBL21964","LBL21962","LBL03519","LBL03518","LBL05853","LBL21972","LBL21973","LBL21974","LBL21975","LBL21976","LBL21991","LBL21965","LBL00279","LBL21966","LBL21967","LBL17060","LBL01355","LBL21969","LBL21970","LBL21971","LBL02629","LBL21968","LBL03092","LBL20940","LBL18830","LBL01427","LBL22111","LBL01906","LBL03123","LBL17452","LBL02829","LBL08775","LBL09409","LBL02291","LBL01685","LBL04713","LBL17924","LBL00475","LBL00174","LBL11417","LBL16403","LBL16404","LBL11071","LBL17024","LBL17025","LBL17026","LBL17957","LBL17956","LBL12051","LBL09420","LBL09421","LBL09422","LBL09423","LBL01731","LBL17717","MSG09474","LBL17718","LBL17719","LBL16834","LBL18040","LBL17693","LBL17694","LBL80272","LBL17695","LBL02263","LBL18078","LBL09092","MSG08884","MSG08854","MSG08916","LBL18172","LBL15219","LBL02882","LBL02880","LBL06766","MSG10473","LBL09095","LBL00955","LBL09348","LBL09305","LBL09306","LBL05875","LBL01369","LBL17722","LBL09302","LBL17873","LBL09596","LBL09600","LBL09208","LBL09209","LBL17874","LBL00832","LBL12890","LBL02809","LBL05325","LBL90131","LBL00558","MSG09668","LBL02613","LBL01851","LBL01837","LBL02570","LBL80270","LBL18268","LBL18281","LBL08855","LBL19121","LBL19143","LBL08528","LBL02001");widget.combine={};widget.combine._baseLoaded=!1;widget.combine._export=function(){return{_default:{controlType:"widget.combine",_isCombinedControl:!0,_setDefaultPlaceholder:!0,needValidate:!1,errorMessage:"",changeStateFuncNameSuper:null,changeStateFuncCallFlag:!0,cutInControlsTag:!1,hidden:!1,renderMoldingFlag:!1,isGridV3:!1,init:function(n){this._initializeOptions(n);this._initializeControls(n);this.initializer=ecount.global.findCallback(this.ecPageID,ecount.widget.initializerByCombine)},_initializeOptions:function(n){$.extend(this,n||{},{initData:ecount.control.getInitData(n.baseControlType||n.controlType,n.inIncludePage,n.ecPageID),_controls:n._controls,controlList:[],_activeControls:[],activeControlList:[],itemList:[],inlineInfo:{},combineControlType:n.controlType||this.controlType,isDummyControl:n.isDummyControl,__originData:n.data,preventValidateIdx:n.preventValidateIdx,__HEADLESS:!1,_delegatorQueue:[],searchItemCode:n.searchItemCode,popoverType:n.popoverType?n.popoverType:"popover",isLayerPopup:n.popupType==="layer",pId:n.tabID||n.tabId});this.setEcPath();this.setEcIKey();this.initializeOptions(n)},getEcPath:function(){return this.ecPath},setEcPath:function(){this.ecPath=[this.ecPageID,this.containerName,this.tabID,"",this.gridID,this.id,this.pcid].join(ecount.separator.ecPath)},getEcIKey:function(){return this.ecIKey},setEcIKey:function(){this.ecIKey=ecount.global.registerEcInstance(this)},getValueOrigin:function(n){var t=this.get(n);return t.controlType.indexOf("widget.select")!=-1?this.getComponenPath.call(t,"option")[0].map(function(n){return n.value}):this.getComponenPath.call(t,"value")},getComponenPath:function(n){for(var r=this.getOriginState([n]),t,u=[],i=0,f=r.length;i<f;i++)t=r[i],_.isNumber(t[0])&&n==t[1]&&u.push(t[2]);return u},initializeOptions:function(){},_initializeControls:function(n){var f=widget.generator.control(),r=f.define(this._super.controlType,n.id,n.name,n.subTitle),i,t,u;if(!_.isEmpty(n.extractData)&&n.extractData._controls)$.extend(this,n.extractData);else{if(this.onInitChildControl_submit)this.onInitChildControl_submit(r,n);else this.onInitChildControl&&this.onInitChildControl(r,n);$.extend(this,r.end(),{controlType:n.controlType})}for(this.initializeGridOptions(n),t=0,u=(this._controls||[]).length;t<u;t++)i=this._controls[t],n._hiddenIndexList&&n._hiddenIndexList.contains(t)&&(i.hidden=!0),ecount.common.isTrue(n.colEssentialYn)!=!0||this.preventValidateIdx&&this.preventValidateIdx.contains(t)||(i.dataRules&&!this._controls[t].dataRules.contains("required")?i.dataRules.push("required"):i.dataRules=["required"])},_getFormTableIndex:function(n,t,i){var r={};return n&&n._useTableRowIndex&&(r={_useTableRowIndex:n._useTableRowIndex,rowIdxTable:n.rowIdxTable,columnIdxTable:n.columnIdxTable,originControlID:t||""},$.isNull(i)||(r._makeCommand=i)),r},render:function(n){this._renderControlList();this._renderInlineIndex();!this.__HEADLESS&&this.onBeforeRender()?this.attachView(n,!0):this._$parent=n},_renderControlList:function(){var u,t,n,i,f,r,e;if(this._controls&&this.controlList.length==0){for(i=0,f=this._controls.length;i<f;i++)n=this._controls[i],n.containerName=this.containerName,n.useWrapperSet=!1,n.delegator=this.delegator,n.executeParentChangeDelegator=this.executeChangeDelegator.bind(this),n.cIndex=i,n.ccIndex=i,n.pId=this.pId,n.pcid=this.id,n.ppcid=this.pcid,n.pSubTitle=this.subTitle,n.tabID=this.tabID,n.onSync=this.onSync,n.ecPageID=this.ecPageID,n.__HEADLESS=this.__HEADLESS,n._readOnly=$.isNull(this._readOnly)?n._readOnly:this._readOnly,n.OBSERVE_CHANGE_STATE=this.ON_CHANGE_CHILD_STATE.bind(this),n.popupID=this.popupID,n.popupLevel=this.popupLevel,n.popupType=this.popupType,n.parentPageID=this.parentPageID,n.responseID=this.responseID,n.inIncludePage=this.inIncludePage,n.eventContainer=this.eventContainer,n.alreadyIncludedLayout=this.alreadyIncludedLayout,n.originControlID=this.originControlID,this.gridID&&(n.gridID=this.gridID,n.gridDataKey=this.gridDataKey,n.gridColumnID=this.gridColumnID,n.gridSectionType=this.gridSectionType),n.isGridV3=this.isGridV3,n.searchItemCode=this.searchItemCode,n.addonPopoverOptions&&(n.otherPopoverContainer=this.otherPopoverContainer),n=_.merge(n,this.generateChildControlOption(n)),this.initializer&&ecount.control.initializeByUserSetting(this.initializer,n),this.isHasRecursivedControls==!0&&(n.__pnode=this.__pnode),this._serializeByAll==!0&&(n._serializeByAll=!0),this._useCommonSerialize==!0&&(n._useCommonSerialize=!0),ecount.control.lazyLoad(n.controlType),u=ecount.common.createNamespace(n.controlType),t=new u(n),this.__formId&&(t.__formId=this.__formId),!t.isCombinedControl()&&this.renderMoldingFlag&&this._renderMolding(t),t.isCombinedControl()&&t.changeStateFuncName&&(r=this[t.changeStateFuncName],r&&typeof r=="function"&&(e=function(){this.setChangeStateFuncCallFlag(!1);r.apply(this,arguments);this.setChangeStateFuncCallFlag(!0)},t.changeStateFuncNameSuper=e.bind(this))),this.controlList.push(t);this.itemList=this.controlList.slice(0)}},generateChildControlOption:function(){return{}},_renderMolding:function(n){var t=this;this.renderMolding&&this.renderMolding.apply(this,arguments);n.show=function(){var i=n.show;return function(){t.childShow?t.childShow(i,n):i.apply(n,arguments)}}();n.hide=function(){var i=n.hide;return function(){t.childHide?t.childHide(i,n):i.apply(n,arguments)}}();n.setValue=function(){var i=n.setValue;return function(){i.apply(n,arguments);t.afterChildSetValue&&t.afterChildSetValue(n.id)}}();n.setDateByString=function(){var i=n.setDateByString;return function(){i.apply(n,arguments);t.afterChildSetValue&&t.afterChildSetValue(n.id)}}();n.setDate=function(){var i=n.setDate;return function(){i.apply(n,arguments);t.afterChildSetValue&&t.afterChildSetValue(n.id)}}();n.showError=function(){var i=n.showError;return function(){n.controlType!="widget.input.password"&&(n.hasError()||t._errorStatus++);t.preChildShowError&&t.preChildShowError(n);i.apply(n,arguments)}}();n.hideError=function(){var i=n.hideError;return function(){n.controlType!="widget.input.password"&&t._errorStatus--;t.preChildHideError&&t.preChildHideError(n);i.apply(n,arguments)}}()},_renderInlineIndex:function(){function y(t){return this._inline||this.columns?0:$.isNull(n.inlineIndex)?i:t}var h=ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,r,f,u,t,e,n,o,v=_.isBoolean(this.isForm)?this.isForm:!0,c=v&&!this.isGridV3?"":"whole-row",i,l,s,a;for(this.inlineInfo={},this.isGridV3&&(this.$el=null),i=0,l=this.controlList.length;i<l;i++)n=this.controlList[i],r=n.inlineIndex=y.call(this,n.inlineIndex),f=n.__viewOptions&&n.__viewOptions.isVertical?"multi-line":"",u=n.isCombinedControl()?!n.hidden:n.isVisible(),this.inlineInfo[r]?(this.inlineInfo[r].push(n.id),u?t.removeClass("hidden"):n.isCombinedControl()||n.isGridCellControl()||n.setState(this._IT_SELF,"style.display",!1)):(this.inlineInfo[r]=[n.id],s=u&&this.hidden==!1?"":" hidden",a=n._treeIndent?"indent1":"",this.isGridV3?(e=$("<div><\/div>").attr("class",h),o=_.compact(["wrapper-toolbar",s,c,f]).join(" ")):o=_.compact([h,s,c,f,a]).join(" "),t=$("<div><\/div>").attr("class",o),t[0].ecIKey=this.ecIKey,this.$el=this.$el?this.$el.add(t):t,u||n.isCombinedControl()||n.isGridCellControl()||n.setState(this._IT_SELF,"style.display",!1)),!this.isGridV3||t.append(e),this._renderInstance(n,!this.isGridV3?t:e,i);this.onLoadItems();this.containerDelegator&&this.containerDelegator.triggerEvent("item.onload",{target:this.containerName,type:this.__type,__self:this})},_renderInstance:function(n,t,i){n.render(t);this._renderCutInControlsTag(n,t,i)},_renderCutInControlsTag:function(n,t,i){function u(n){n.html?r+=n.html:n.value&&(r+="<span style='margin: 0 5px;'>"+n.value+"<\/span>")}var r;this.cutInControlsTag&&this.cutInControlsTag.length>0&&(r="",this.cutInControlsTag.filter(function(n){return n.index==i&&n.front===!0},this).map(u,this),r!==""&&(n.ecview?n.ecview.getElements().before(r):t.prepend(r)),r="",this.cutInControlsTag.filter(function(n){return n.index==i&&n.front!==!0},this).map(u,this),r!==""&&(n.ecview?n.ecview.getElements().after(r):t.append(r)))},setCutInControlsTag:function(n){$.isArray(n)||(n=[n]);this.cutInControlsTag===!1&&(this.cutInControlsTag=n)},onLoadItems:function(){this._fixedSelectedValue&&_.isArray(this._fixedSelectedValue)&&this._fixedSelectedValue.length>0&&this.toggle(this._fixedSelectedValue);this._setDefaultPlaceholder&&this.setPlaceHolder()},toggle:function(n){n.length==1&&_.isNil(n[0])||this.setValue(n,!1)},getToggledByToolbar:function(){return!!this.toggledByToolbar},setToggledByToolbar:function(n){this.toggledByToolbar=n===!1?!1:!0},attachView:function(n,t){var n,r,i,u;if(t){for(n=n||this._$parent,i=0,u=this.controlList.length;i<u;i++)r=this.controlList[i],r.__HEADLESS&&r.attachView();this.onAfterAttachView(n);this.__HEADLESS=!1;this._onAfterRender()}},onAfterAttachView:function(n){var i=_.isBoolean(this.isForm)?this.isForm:!0,t;i||n.prop("tagName")==="DIV"?n&&n.append(this.$el):(t=$("<div class='wrapper-toolbar'><\/div>"),t.append(this.$el),n&&n.append(t))},_onAfterRender:function(){ecount.control.registerLazyRender(this,function(){this._onLazyRender()});this.onAfterRender&&this.onAfterRender.apply(this,arguments)},_onLazyRender:function(){this.onLazyRender()},onLazyRender:function(){},destroy:function(){for(var t,n=0,i=this.controlList.length;n<i;n++)t=this.controlList[n],t.destroy();this.$el&&(this.$el.off(),this.$el.length>0&&ecount.widget.removeChild(this.$el[0]),this.$el=null,delete this.$el)},get:function(n,t){if(typeof n=="string"){for(var i,r=0,u=this.controlList.length;r<u;r++)if((i=this.controlList[r],i._originId==n||i.id==n)||t&&i.isCombinedControl()&&(i=i.get(n,t),i))return i}else return this.controlList[n]},getIndex:function(n){if(typeof n=="string")for(var t=0,i=this.controlList.length;t<i;t++)if(this.controlList[t].id==n)return t;return null},getVisibleIndex:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isVisibleElement()&&this.controlList[n].isReadOnly()==!1&&t.push(n);return t},getValue:function(n){for(var f,r=[],t,i,e,u=0,o=this.controlList.length;u<o;u++){t=this.get(u);e=t.controlType.split(".").slice(0,2).join(".");switch(e){case"widget.radio":case"widget.select":case"widget.input":case"widget.input.general":case"widget.label":case"widget.combine":case"widget.custom":i=t.getValue();break;case"widget.checkbox":f=t.getComponents();i=this.isGridV3&&f.length==1&&f[0].value===undefined?t.getValue():t.getStandardValue();break;default:i=t.getStandardValue()}r.push(i)}return $.isNumber(n)?r[n]:r},isVisible:function(){var t=!1,n,i;if(this.hidden==!0)return t;for(n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isVisible()&&(t=!0);return t},isVisibleElement:function(){for(var t=!1,n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isVisibleElement()&&(t=!0);return t},isReadOnly:function(){for(var t=!0,n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isReadOnly()||(t=!1);return t},setValue:function(n){for(var t,i,r=0,u=this.controlList.length;r<u;r++)if(i=this.get(r),t=n[r],!$.isNull(t))switch(i.controlType){case"widget.checkbox":$.isBoolean(t)?i.setValue(t):i.setStandardValue(t);break;default:i.setStandardValue(t)}},setNationalFlag:function(){},getNationalFlag:function(){},serialize:function(){for(var t,n=[],i=0,r=this.controlList.length;i<r;i++)t=this.controlList[i].serialize(),$.isArray(t)?n=n.concat(t):n.push(t);return n},serializeById:function(){for(var t,n=[],i=0,r=this.controlList.length;i<r;i++)t=this.controlList[i].serializeById(),$.isArray(t)?n=n.concat(t):n.push(t);return n},save:function(){for(var i=[],t,n=0,r=this.controlList.length;n<r;n++)t=this.controlList[n].save(),_.isArray(t)?i=i.concat(t):i.push(t?t:{key:this.controlList[n].id,value:this.controlList[n].getValue()||this.controlList[n].getLabel()});return{key:this.id,value:i}},restore:function(n){for(var t=0,i=this.controlList.length;t<i;t++)n[t]&&this.controlList[t].restore(n[t].nationalCode?n[t]:n[t].value)},extract:function(){for(var i={},t,r=[],n=0,u=this.controlList.length;n<u;n++)t={extractData:this.controlList[n].extract()},t.id=this.controlList[n].id,t.name=this.controlList[n].name,t.controlType=this.controlList[n].controlType,t.inlineIndex=this.controlList[n].inlineIndex,this.controlList[n].isCombinedControl()&&(t.controlType=this.controlList[n].combineControlType),$.isNull(this.controlList[n].changeStateFuncName)||(t.changeStateFuncName=this.controlList[n].changeStateFuncName),$.isNull(this.controlList[n].combineControlType)||(t.combineControlType=this.controlList[n].combineControlType),$.isNull(this.controlList[n].baseControlType)||(t.baseControlType=this.controlList[n].baseControlType),r.push(t);return i._controls=r,i.changeStateFuncNameSuper=this.changeStateFuncNameSuper,i.changeStateFuncCallFlag=this.changeStateFuncCallFlag,i.cutInControlsTag=this.cutInControlsTag,i.hidden=this.hidden,i.renderMoldingFlag=this.renderMoldingFlag,$.isNull(this.combineControlType)||(i.combineControlType=this.combineControlType),i},reset:function(n){for(var t=0,i=this.controlList.length;t<i;t++)n&&n._controls&&Array.isArray(n._controls)?this.controlList[t].reset(n._controls[t].extractData):this.controlList[t].reset()},callChangeEvent:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.controlList[n].callChangeEvent()},addClassAllComponents:function(n){this.controlList.forEach(function(t){t.addClassAllComponents(n)})},removeClassAllComponents:function(n){this.controlList.forEach(function(t){t.removeClassAllComponents(n)})},hide:function(n){var t,f;if(!this.$el)return!1;if($.isEmpty(n)){var i="div."+ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,r=this.$el.hasClass(ecount.constValue.styleClassName.CONTROL_INLINE_CLASS)?this.$el:this.$el.find(i),u=r.parent();this.hidden=!0;r.addClass("hidden");this.pcid&&u.is(i)&&u.addClass("hidden")}else for($.isArray(n)||(n=[n]),t=0,f=n.length;t<f;t++)this.get(n[t]).hide()},show:function(n){var s,i,h,t,c;if(!this.$el)return!1;if($.isEmpty(n)){var u="div."+ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,f=this.$el.hasClass(ecount.constValue.styleClassName.CONTROL_INLINE_CLASS)?this.$el:this.$el.find(u),e=f.parent(),o,r;for(this.hidden=!1,t=0,s=Object.keys(this.inlineInfo).length;s>t;t++)for(r=this.inlineInfo[t],i=0,h=r.length;h>i;i++)o=this.get(r[i]),o.isVisible()&&f.eq(t).removeClass("hidden");this.pcid&&e.is(u)&&e.removeClass("hidden")}else for($.isArray(n)||(n=[n]),t=0,c=n.length;t<c;t++)this.get(n[t]).show()},hideAll:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.get(n).hide()},showAll:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.get(n).show()},showError:function(n,t,i,r){var u,e,s,o,f;this.isGridV3||this.hideError(this._IT_SELF);u=Array.prototype.slice.apply(arguments);e=!0;u.length==1&&($.isPlainObject(u[0])?(s=u[0].id,n=u[0].index,t=u[0].message,i=u[0].required,r=u[0].preventTrigger,e=!(u[0].directShow===!1),o=this.get(s||n)):(n=this._IT_SELF,t=u[0]));$.isNull(o)?this.hasError()&&$.isEmpty(t)||(this.needValidate=!0,(this.isVisibleElement()||this.isGridV3)&&(f=this.$el.parent(),this.isGridV3&&(f=this.$el.parents("td")),f.addClass("has-error"),f.find("div.validation").length==0&&f.prepend('<div class="validation"><\/div>'),this.setPopover({message:t,directShow:e,customTarget:f}),this._getGridCellInfo({},function(n){var i=[this.ecPageID,this.tabID,this.gridID].join(ecount.delimiter);ecount.runtime.notify("control.togglePopover",i,{flag:!0,control:this,gridInfo:n,validateInfo:{},popoverInfo:{message:t}})}.bind(this))),this.isGridV3||!r&&this.delegator&&this.delegator.triggerEvent("control.showError",{instance:this,cid:this.id})):o.showError(t)},multiLineError:function(n,t,i,r){var u=this.get(n);u&&(r&&(u._errPlacement=r),u.showError(t))},hasValidateNeededComponent:function(){return this.needValidate},setPreventHideError:function(){return!1},getErrorMessage:function(){return this.errorMessage},setErrorMessage:function(n){this.errorMessage=n},hideError:function(n,t){var i,r,u;if((this.controlType!="widget.combine.fileGroup"||this.$el)&&(i=this.$el.parent(),this.isGridV3&&(i=this.$el.parents("td")),this.needValidate=!1,(i.hasClass("has-error")||this.isGridV3)&&(i.removeClass("has-error"),i.find("div.validation").remove(),this.destroyPopover({customTarget:i}),this._getGridCellInfo({},function(n){var t=[this.ecPageID,this.tabID,this.gridID].join(ecount.delimiter);ecount.runtime.notify("control.togglePopover",t,{flag:!1,control:this,gridInfo:n,validateInfo:{},popoverInfo:{}})}.bind(this)),this.isGridV3||!t&&this.delegator&&this.delegator.triggerEvent("control.hideError",{instance:this,cid:this.id})),n!==this._IT_SELF))for(r=0,u=this.controlList.length;r<u;r++)this.controlList[r].hasError()&&this.controlList[r].hideError()},hasError:function(n){var i,t,r;if(n==this._IT_SELF)return this.needValidate;for(i=$.isNumber(n)?[this.controlList[n]]:this.controlList,t=0,r=i.length;t<r;t++)if(i[t].hasError())return!0;return!1},setPopover:function(n){if(this.controlType!="widget.combine.fileGroup"||this.$el){var t=_.get(n,"customTarget")||this.$el.parent(),u=this.isLayerPopup?$("div[data-ecpageid="+this.ecPageID+"]").closest("div.ui-dialog"):"body",r=(n.message||"").cr2br(),f=this.popoverPlacement||"auto",i;t.is(":visible")&&!$.isEmpty(r)&&(this.isGridV3&&ecount.popover.destroy(t),i=_.merge({type:this.popoverType,content:r,placement:f,container:u,html:!0,animation:!1,trigger:"hover focus",followMouse:!0,directShow:!0,isClearOnBodyClick:!0},n||{}),ecount.popover.create(t,i),this.popoverOptions=i)}},_getPopoverOptions:function(){return this.popoverOptions},destroyPopover:function(n){var t=_.get(n,"customTarget")||this.$el.parent();ecount.popover.destroy(t)},adjustDimensions:function(){this.delegator&&this.containerName=="header"?this.delegator.triggerEvent("page.adjustHeaderSearchDimensions"):this.delegator&&this.containerName=="contents"&&this.delegator.triggerEvent("page.adjustContentsDimensions")},adjustHeaderSearchDimensions:function(){this.delegator&&this.containerName=="header"&&this.delegator.triggerEvent("page.adjustHeaderSearchDimensions")},adjustContentsDimensions:function(){this.delegator&&this.containerName=="contents"&&this.delegator.triggerEvent("page.adjustContentsDimensions")},setPlaceHolder:function(){for(var n,t=0,i=this.controlList.length;t<i;t++)if(n=this.get(t),n._setDefaultPlaceholder){n.isCombinedControl()?n.setPlaceHolder():n.setPlaceHolder(n.getPlaceHolder()||n._placeHolder||n.getState(this._IT_SELF,"opt.addontitle")||this.subTitle||"");break}},getPlaceHolder:function(){return this.subTitle},setAddOnTitleResize:function(n){var t,e,f,r=0,o=[],i,u;for($.isEmpty(n)&&(n=!0),i=0,u=this.controlList.length;i<u;i++)t=this.controlList[i],(n?t.isVisible():!0)&&!t.isCombinedControl()&&(e=t.getState(this._IT_SELF,"opt.addontitle"),$.isEmpty(e)||(o.push(i),f=t.ecview&&t.ecview.$el?t.ecview.$el.find("span[addon-cid]").outerWidth():0,r<f&&(r=f)));if(0<r)for(i=0,u=this.controlList.length;i<u;i++)t=this.controlList[i],(n?t.isVisible():!0)&&!t.isCombinedControl()&&o.contains(i)&&t.ecview.$el.find("div").has("span[addon-cid]").width(r+"px")},setControlAddOnTitleResize:function(n,t){var i=this.get(n);i&&!i.isCombinedControl()&&i.ecview.$el.find("div").has("span[addon-cid]").width(t+"px")},getControlAddOnTitleSize:function(n,t){var r=null,i=this.get(n);return i&&!i.isCombinedControl()&&(r=t?i.ecview.$el.find("span[addon-cid]").outerWidth():i.ecview.$el.find("div").has("span[addon-cid]").width()),r},showErrorOfItemList:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.controlList[n].hasError()&&this.controlList[n].showError()},toggleSync:function(n,t,i,r,u){if(u!==!1){var f={syncHandler:this[n],cid:this.id,__self:this,targetID:this.id,isCombine:!0,args:[t,i,r,!1]};this.delegator&&this.delegator.triggerEvent("control.change",f)}},getDefaultBoundaryObject:function(){return{top:0,left:0,width:0,height:0}},getContainerBoundary:function(){return this.$el.length?ec$.getZoomedBoundary(this.$el.parent().get(0)):this.getDefaultBoundaryObject()},getComponentBoundary:function(n){var i=this.get(n),t,r=0;return!i||!i.isVisible()?this.getDefaultBoundaryObject():(t=i.ecview.$el,t.parent().find(".control").length>1&&(r=parseInt(t.css("margin-left"))),this.$el.length?ec$.getZoomedBoundary(t.get(0),{left:r}):this.getDefaultBoundaryObject())},getFunctionBoundary:function(){return this.getContainerBoundary()},getRoleHolderBoundary:function(){return this.getContainerBoundary()},getComposedDomString:function(){var f,s,t,i,e;if(!this.$el)return"";var n="",r=0,u=this.$el.clone(),o=u.find("div.control");for(f in this.inlineInfo)for(s="",t=0,i=this.inlineInfo[f];t<i.length;t++)e=this.get(i[t]),o.eq(r).replaceWith(e.getComposedDomString()),r++;return n=u.wrapAll("<div/>").parent().html(),_.isEmpty(this.gridID)||(n="<div class='wrapper-toolbar whole-row'>"+n+"<\/div>"),n},getComposedDomStringOld:function(){var t,n,i;if(this.$el){for(t="",n=0,i=this.$el.length;n<i;n++)t+=this.$el[n].outerHTML;return t}return""},set$El:function(n){var s=this.getEcIKey(),i,f,r,t,e,o,u;for(this.$el=n,i=0,f=this.$el.length;i<f;i++)for(this.$el[i].ecIKey=s,r=$(this.$el[i]).find("div.control"),t=0,e=r.length;t<e;t++)o=r.eq(t).attr("data-ecpath"),u=this.controlList.filter(function(n){return n.ecPath==o}),u.length>0&&(u[0].set$El(r.eq(t)),r[t].ecIKey=u[0].ecIKey)},toGeneratorOption:function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r.push(n[i][t]);return r},makeSelectOptions:function(n,t){return n.map(function(n,i){return[n,t[i]]})},validate:function(n,t,i){var e=[],h=this,r,s,u,f,c,o;if(this._executeValidateIfVisible&&!this.isVisible())return e;for(f=0,c=this.controlList.length;f<c;f++)(this.preventValidateIdx||[]).contains(f)||(r=this.controlList[f],s=r.isVisible(),(this._executeValidateIfVisible||r._executeValidateIfVisible)&&!s)||s&&(u=r.validate(n,t,i),u&&$.isArray(u)&&u.length>0?u.forEach(function(n){n.control=h;n.targetControl=r}):r.controlType&&(o=r.isContainsLimitedSpecial(),o&&o.result&&(u=[{message:o.message,control:h,targetControl:r,method:"limitedSpecial"}])),e=e.concat(u));return e},isPreventHideError:function(){for(var n=0,t=this.controlList.length;n<t;n++)if(this.controlList[n].isPreventHideError())return!0;return!1},setDataRuleMessage:function(n){var i,t,r;if((this.hasError()||this.hasError(this._IT_SELF))&&this.hideError(),n.length>0){for(i=[],t=0,r=n.length;t<r;t++)n[t].method!="required"&&(n[t].targetControl&&!n[t].targetControl.hasError()?i.push(n[t].message):n[t].targetControl||i.push(n[t].message));this.showError(i.length==0?null:i.join("<br/>"))}},setReadOnly:function(n,t){var f=$.isNull(t),i,u,r;if($.isBoolean(n)||(n=!0),f)for(i=0,u=this.controlList.length;i<u;i++)r=this.get(i),r&&r.isVisible()&&r.setReadOnly(n);else for($.isArray(t)||(t=[t]),i=0,u=t.length;i<u;i++)r=this.get(t[i]),r&&r.isVisible()&&r.setReadOnly(n)},removeChildControl:function(n){var e=[],o=[],r,f,i,t,u,s;for($.isArray(n)||(n=[n]),t=0,u=this.controlList.length;t<u;t++)n.contains(t)?(r=this.inlineInfo[this.controlList[t].inlineIndex],r=r.filter(function(n){return n!=this.controlList[t].id},this),r.length>0?this.inlineInfo[this.controlList[t].inlineIndex]=r:delete this.inlineInfo[this.controlList[t].inlineIndex]):(o.push(this._controls[t]),e.push(this.controlList[t]));for(f=0,t=0,u=this.controlList.length;t<u;t++)i=this.get(t),i&&n.contains(t)?(s=i.id,i.destroy(),this.isGridV3&&this.executeChangeDelegator({cid:s}),f++):i.inlineIndex=i.inlineIndex-f;this.inlineInfo=this.reNumberingJson(this.inlineInfo);this._controls=o;this.controlList=e;this.itemList=this.controlList.slice(0);this.activeControlSetDisplay()},addChildControl:function(n,t){this.activeDefineControls(n,t);this.activePushingIndex();this.activeRenderControls(t);this.activeRenderInlineIndex();this.__HEADLESS||this.activeAttachView(this.$el.parent())},activeDefineControls:function(n,t){var r=widget.generator,u=ecount.resource,i;this._activeControls=[];i=r.control();i.define("widget.input","testActiveCombine_sub","testActiveCombine_sub").setInlineIndex(t).end();i.end&&typeof i.end=="function"&&(i=i.end());i.data&&i.data.length>0&&i.data.forEach(function(n){n.pcid=this.id});i._pcid=this.id;this._activeControls.push(i)},activePushingIndex:function(){for(var r=this._activeControls[0].inlineIndex,u=this._activeControls[this._activeControls.length-1].inlineIndex,i={},t,n=0,f=this.controlList.length;n<f;n++)n<=r?t=this.controlList[n].inlineIndex:(t=this.controlList[n].inlineIndex+u,this.controlList[n].inlineIndex=t),$.isArray(i[t])?i[t].push(this.controlList[n].id):i[t]=[this.controlList[n].id];this.inlineInfo=i},convertJsonToArray:function(n){for(var i=[],t=0,r=Object.keys(n);t<r.length;t++)i.push(n[r[t]]);return i},convertArrayToJson:function(n){for(var i={},t=0,r=n.length;t<r;t++)i[t]=n[t];return i},reNumberingJson:function(n){for(var i={},t=0,r=Object.keys(n);t<r.length;t++)i[t]=n[r[t]];return i},activeRenderControls:function(n){var f,u,t,i,r;if(n=$.isNumber(n)?n:0,this._activeControls){for(this.activeControlList=[],i=0,r=this._activeControls.length;i<r;i++)t=this._activeControls[i],t.containerName=this.containerName,t.useWrapperSet=!1,t.executeParentChangeDelegator=this.executeChangeDelegator.bind(this),t.delegator=this.delegator,t.pId=this.pId,t.pcid=this.id,t.pSubTitle=this.subTitle,t.tabID=this.tabID,t.onSync=this.onSync,t.ecPageID=this.ecPageID,t.__HEADLESS=this.__HEADLESS,t.OBSERVE_CHANGE_STATE=this.ON_CHANGE_CHILD_STATE.bind(this),this.gridID&&(t.gridID=this.gridID,t.gridDataKey=this.gridDataKey,t.gridColumnID=this.gridColumnID,t.gridSectionType=this.gridSectionType),t.isGridV3=this.isGridV3,t.popupID=this.popupID,t.popupLevel=this.popupLevel,t.popupType=this.popupType,t.parentPageID=this.parentPageID,t.responseID=this.responseID,t.inIncludePage=this.inIncludePage,t.eventContainer=this.eventContainer,t.alreadyIncludedLayout=this.alreadyIncludedLayout,ecount.control.lazyLoad(t.controlType),f=ecount.common.createNamespace(t.controlType),u=new f(t),this.__formId&&(u.__formId=this.__formId),this.activeControlList.push(u);for(i=0,r=this.activeControlList.length;i<r;i++)this.controlList.splice(n+i,0,this.activeControlList[i]);for(i=0,r=this.controlList.length;i<r;i++)this.controlList[i].cIndex=i;this.itemList=this.controlList.slice(0)}},activeRenderInlineIndex:function(){for(var s=ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,r,f,u,e,t,n,o,h=this.activeControlList.map(function(n){return n.id}),c=_.isBoolean(this.isForm)?this.isForm:!0,l=c?"":"whole-row",i=0,a=this.controlList.length;i<a;i++)n=this.controlList[i],r=n.inlineIndex,f=this.inlineInfo[r],u=n.isCombinedControl()?!n.hidden:n.isVisible(),e=h.contains(n.id),e?($.isArray(f)?(this.inlineInfo[r].push(n.id),u?t&&t.removeClass("hidden"):n.setState(this._IT_SELF,"style.display",!1)):(this.inlineInfo[r]=[this.controlList[i].id],o=_.compact([s,u?"":" hidden",l]).join(" "),t=$("<div><\/div>").attr("class",o),t[0].ecIKey=this.ecIKey,this.$el.splice(i,0,t[0]),u||n.setState(this._IT_SELF,"style.display",!1)),n.render(t)):t=this.$el.eq(r),t&&this._renderCutInControlsTag(n,t,i)},activeAttachView:function(n){var n=n||this._$parent;n&&n.append(this.$el);this.__HEADLESS=!1;this.activeControlSetDisplay()},activeControlSetDisplay:function(){var t,o,n,i,s,h,r,c;if(this.$el){var u=null,l="div."+ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,t=this.$el.hasClass(ecount.constValue.styleClassName.CONTROL_INLINE_CLASS)?this.$el:this.$el.find(l),f=[],e=[];for(n=0,i=this.$el.length;n<i;n++)t=this.$el.eq(n),t&&(elFlag=t.hasClass(ecount.constValue.styleClassName.CONTROL_INLINE_CLASS),elFlag&&t.children().length===0?(f.push(t),e.push(n)):elFlag&&t.find("div.control").length===0&&(f.push(t),e.push(n)));for(f.map(function(n){n.remove()},this),o=0,e.map(function(n){var t=n-o;this.$el.splice(t,1);o++},this),n=0,i=Object.keys(this.inlineInfo).length;n<i;n++){for(s=this.inlineInfo[n],h=!1,r=0,c=s.length;r<c;r++)u=this.get(s[r]),u&&u.isVisible()&&(h=!0);h?this.$el&&this.$el.eq(n).removeClass("hidden"):this.$el&&this.$el.eq(n).addClass("hidden")}}},ON_CHANGE_CHILD_STATE:function(n){var i=n.key,e=n.path,r=n.state,u=n.targetID,f=("on_change_child_"+n.path.replace(/\./,"")).toUpperCase(),t=this.get(n.targetID);t&&this.CHANGE_STATE_FUNC_CALL_EVENT_CHECK(i,e,r,t)?t&&this.getChangeStateFuncCallFlag()!==!1&&(this.setChangeStateFuncCallFlag(!1),ec$.safeCall(this,t.changeStateFuncName,i,r,u),this.isCombinedControl()&&this.changeStateFuncNameSuper&&typeof this.changeStateFuncNameSuper=="function"&&this.changeStateFuncNameSuper(i,r,u),this.setChangeStateFuncCallFlag(!0)):t&&typeof this[f]=="function"&&this[f].call(this,i,r,u)},CHANGE_STATE_FUNC_CALL_EVENT_CHECK:function(n,t,i,r){var u=!1,e,f=r.controlType;if(u=["selectedLabel","attr.checked","value","selectedItems","selectedItem",].contains(t),u===!1)return u;f&&(e=f.split("."),f=e[0]+"."+e[1]);switch(f){case"widget.radio":i===!1&&(u=!1);break;case"widget.code":t=="value"&&(u=!1);break;case"widget.date":(t!="value"||r.getDateFormatByIndex(n).indexOf("d")===-1)&&(u=!1);break;case"widget.multiDate":(t!="value"||r.getDateFormatByIndex(n).indexOf("d")===-1)&&(u=!1)}return u},setChangeStateFuncCallFlag:function(n){this.changeStateFuncCallFlag=n},getChangeStateFuncCallFlag:function(){return this.changeStateFuncCallFlag},isToggle:function(n){var t=this.get(n),i=!1;return t&&(t.changeStateFuncName&&typeof t.changeStateFuncName=="string"||t.changeStateFuncNameSuper&&typeof t.changeStateFuncNameSuper=="function")&&(i=!0),i},ON_CHANGE_CHILD_STYLEDISPLAY:function(n,t,i){var f=this.get(i),r=f.inlineIndex,s=!this.isGridV3?ecount.constValue.styleClassName.CONTROL_INLINE_CLASS:"wrapper-toolbar",o=this.inlineInfo[r],l="div."+s,u=this.$el.hasClass(s)?this.$el:this.$el.find(l),e,h,c;if(this.isGridV3&&(this.delegatorEventGridChangeChildDisplay||(this.delegatorEventGridChangeChildDisplay=_.throttle(function(){this.delegator&&this.delegator.triggerEvent("grid.changeChildDisplay",{gridSectionType:this.gridSectionType,gridColumnID:this.gridColumnID,gridDataKey:this.gridDataKey,cid:this.cid,gridID:this.gridID,isForce:!0,targetId:i})}.bind(this),300)),this.delegatorEventGridChangeChildDisplay()),f.controlType&&f.controlType.indexOf("widget.code")!=-1&&n!="removeall"&&t==!0)u.eq(r).removeClass("hidden");else if(n==this._IT_SELF||n==this._ALL_COMP){for(e=0,h=o.length;e<h;e++)if(c=this.get(o[e]),c.isVisible())return u.eq(r).removeClass("hidden"),!1;u.eq(r).addClass("hidden")}else $.isNumber(n)&&o.length==1&&(f.isVisible()?u.eq(r).removeClass("hidden"):u.eq(r).addClass("hidden"))},_ON_CONTROL_FOCUSOUT:function(n){if(n&&n.__self.pcid!=this.id)return!0;var t=n.__self.getElements(),i=t.length-1;this.onNextFocus(i,t[i])},hasFocusableComponent:function(){return this.controlList.any(function(n){return n.hasFocusableComponent()})},setFocus:function(n,t){var i=this.get(n),r=0;if(i&&i.hasCheckControlType&&i.hasCheckControlType(i)&&(r=i.getPriorityDateFocusIndex()),i&&i.isVisibleElement()&&i.isReadOnly()==!1)i.setFocus(r,t);else if(i&&this.isVisibleElement())this.onNextFocus(n)},setFocusError:function(n,t){for(var r=0,i=0,u=this.controlList.length;i<u;i++)this.controlList[i].hasError()&&(r=i);this.setFocus(r,t)},hasFocus:function(){return this.controlList.any(function(n){return n.hasFocus()}.bind(this))},setChildFocus:function(n,t,i){var r=this.get(n);if(r&&r.isVisibleElement()&&r.isReadOnly()==!1)r.setFocus($.isNumber(t)?t:0,i);else if(r)this.onNextFocus(n)},onNextFocus:function(n){var f=_.isString(n)?this.getIndex(n):n,i=this.getVisibleIndex(),e=i[i.indexOf(f)+1],t=this.get(e),r=0,u;if(t&&t.controlType.indexOf("multiDate")>-1&&(r=t.getPriorityDateFocusIndex()),!t){this.setFocusOutTrigger();return}t.isCombinedControl()?t.get(0).setFocus(0):(u=t&&t.getComponents().any(function(n){return t.hasFocus(n.index)}),t.hasFocusableComponent()&&!u?t.setFocus(r):this.setFocusOutTrigger())},onFocusOut:function(){this._splitError&&(this._splitError=!1);this.onCompleteFocusOut=!0;for(var n,t=0;t<this.controlList.length;t++)(n=this.controlList[t],!n._executeValidateIfVisible||ecount.widget.isVisible(n.$el[0]))&&n.onFocusOut.apply(n,arguments);this.onCompleteFocusOut=!1},getInitFocusIndex:function(){return 0},getFocusableIndex:function(n){for(var i,f,e,r=n?this.controlList.slice().reverse():this.controlList,u=null,o=!1,t=0;t<r.length;t++)i=r[t],i.hasFocus()===!0&&(u=t);for(u===null&&(u=0),t=u;t<r.length;t++)if(i=r[t],f=n?i.getReversedFocusableIndex():i.getFocusableIndex(),f!==-1&&i.isVisible()){e=this.getIndex(i.id);console.log("control index: "+e+",  component index: "+f);o=[e,f];break}return o},getReversedFocusableIndex:function(){return this.getFocusableIndex(!0)},reflowContainer:function(){for(var t,n=0,i=this.controlList.length;n<i;n++)t=this.controlList[n],t.reflowContainer&&t.reflowContainer()},getGridViewHTML:function(){for(var n,o,f,t,s,i,e=this.controlList,r=[],u=0,h=e.length;u<h;u++)if(n=e[u],o=n.controlType,o.indexOf("combine")>-1&&n.hidden===!1)for(f=n.controlList,t=0,s=f.length;t<s;t++)i=f[t],i.isVisible()&&!i.isReadOnly()&&r.push(this.getGridComposedTitleLabel(i));else n.isVisible()&&!n.isReadOnly()&&r.push(this.getGridComposedTitleLabel(n));return this.getGridViewTemplate(r)},getGridViewTemplate:function(n){for(var e,u,s,o="",r=0,h=n.length;r<h;r++){var t=ecount.control.template["gridView"],f=n[r].title,i=n[r].label;if(this.setGridViewEmpty&&(_.isEmpty(f)&&(f=this.setGridViewEmpty.titleEmpty?"&nbsp;":""),_.isEmpty(i)&&(i=this.setGridViewEmpty.contentsEmpty?"&nbsp;":"")),t=t.replace("((this.title))",f),$.isArray(i)&&i.length>1){for(e=[],u=0,s=i.length;u<s;u++)e.push(i[u]);t=t.replace("((this.label))",e).split(",").join(", ")}else t=t.replace("((this.label))",i);o+=t}return o},_ON_BEFORE_CHANGE:function(){return!0},_ON_CHANGE:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_CHANGE(n,t,i,r)===!1?!1:void 0},ON_CHANGE:function(n,t){var i,r;(this.isToggle(n.cid)||!$.isEmpty(this.gridID))&&(i=this._getDefaultDelegatorInfo(n,t),i.cid=this.id,n.id&&(r=this.getIndex(n.id),$.isNumber(r)&&(i.cindex=r)),this.delegator&&this.delegator.triggerEvent("control.change",i))},executeChangeDelegator:function(n){if($.isEmpty(n)&&(n={}),this.isToggle(n.cid)||!$.isEmpty(this.gridID)){var t=this.getIndex(n.cid);_.merge(n,{cid:this.id,cindex:t,ccid:n.cid,ccindex:t});ecount.control.prototype.executeChangeDelegator.call(this,n)}},_ON_BEFORE_CLICK:function(){return!0},_ON_CLICK:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_CLICK(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_MOUSEOVER:function(){return!0},_ON_MOUSEOVER:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEOVER(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_MOUSEOUT:function(){return!0},_ON_MOUSEOUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEOUT(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_MOUSEDOWN:function(){return!0},_ON_MOUSEDOWN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEDOWN(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_INPUT:function(){return!0},_ON_INPUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_INPUT(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_FOCUSIN:function(){return!0},_ON_FOCUSIN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_FOCUSIN(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_FOCUSOUT:function(){return!0},_ON_FOCUSOUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:(this.hasError(this._IT_SELF)&&n.eventTriggerFromInternalCombinedControl!=!0&&this.hideError(),this.ON_FOCUSOUT(n,t,i,r)===!1?!1:void 0)},_ON_BEFORE_KEYDOWN:function(){return!0},_ON_KEYDOWN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this["_ON_"+n.keyEventHandlerName]&&this["_ON_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_KEYDOWN_OTHERS:function(){if(this.ON_KEYDOWN_OTHERS.apply(this,arguments)===!1)return!1},_ON_KEYDOWN_BACKSPACE:function(){if(this.ON_KEYDOWN_BACKSPACE.apply(this,arguments)===!1)return!1},_ON_KEYDOWN_SERVICE:function(n,t,i,r){if(this["_ON_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},_ON_BEFORE_KEYUP:function(){return!0},_ON_KEYUP:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this["_ON_"+n.keyEventHandlerName]&&this["_ON_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_KEYUP_SERVICE:function(n,t,i,r){if(this["_ON_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},_ON_BEFORE_DBLCLICK:function(){return!0},_ON_DBLCLICK:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_DBLCLICK(n,t,i,r)===!1?!1:void 0}},combineCar:{controlType:"widget.combine.combineCar",onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),r=t.id,u=t.name,s=t.option,f=t.maxlength||{message:String.format(ecount.resource.MSG01136,200,200),max:200},e=t.filterType||"maxlength";n.addControl(i.define("widget.code.carNum",r+"_code",u+"_CODE").dataRules(["required"]));n.addControl(i.define("widget.input",r+"_before",u+"_BEFORE").filter(e,f).numericOnly(null,0,ecount.resource.MSG04553).setAddonTitle(ecount.resource.LBL12742).setOptions({_isParentSpanTarget:!0,isNotChangeWidth:!0}));n.addControl(i.define("widget.input",r+"_after",u+"_AFTER").filter(e,f).numericOnly(null,0,ecount.resource.MSG04553).setAddonTitle(ecount.resource.LBL12743).setOptions({_isParentSpanTarget:!0,isNotChangeWidth:!0}));n.addControl(i.define("widget.input",r+"_input",u+"_INPUT").filter(e,f).numericOnly().setAddonTitle(ecount.resource.LBL12744).setOptions({_isParentSpanTarget:!0,isNotChangeWidth:!0}).readOnly())},toggleCalculate:function(){var n=this.get(2)?this.get(2).getValue():0,i=this.get(1)?this.get(1).getValue():0,t=n-i;this.get(3)&&(n>0?this.get(3).setValue(t>0?t:0):this.get(3).setValue(""))},ON_FOCUSOUT:function(n,t,i){var r=i?i.id.split("_"):[];i&&(r[r.length-1]=="before"||r[r.length-1]=="after")&&this.toggleCalculate()},getValue:function(){for(var t=[],n,i=0,r=this.controlList.length;i<r;i++)n=this.get(i),n.controlType=="widget.input"?t.push(n.getValue()):t.push(n.getSelectedItem());return t},setValue:function(n){this.controlList.length!=1&&(n=$.isArray(n)?n:[n],$.isPlainObject(n[0])?(n[0]&&this.get(0).addCode(n[0]),this.get(1).setValue(n[1]),this.get(2).setValue(n[2])):(this.get(1).setValue(n[0]),this.get(2).setValue(n[1])),this.toggleCalculate())},hide:function(){this.get(1).hide();this.get(2).hide();this.get(3).hide();this.get(1).reset();this.get(2).reset();this.adjustContainerDementions()},show:function(n){this.get(1).show();this.get(2).show();this.get(3).show();n?this.setValue(n):(this.settingDefault.push(this._fixedSelectedValue),this.setValue(this.settingDefault[0]));this.adjustContainerDementions()},adjustContainerDementions:function(){this.containerName==widget.generator.HEADER?this.delegator&&this.delegator.triggerEvent("page.adjustHeaderSearchDimensions"):this.delegator&&this.delegator.triggerEvent("page.adjustContentsDimensions")}},comparePeriod:{controlType:"widget.combine.comparePeriod",onInitChildControl:function(n,t){var u=widget.generator,c=u.control(),o=u.control(),s=u.control(),f=[],i=ecount.resource,t=t||{},h={SameTermYesterday:["1",i.LBL08414],SameTermlastweek:["2",i.LBL08413],SameTermlastmonth:["3",i.LBL08412],SameTermlastyear:["4",i.LBL08411],lastweek:["5",i.LBL02474],lastmonth:["6",i.LBL02462],lastyear:["7",i.LBL02456],set:["0",i.LBL05716]},r,e;if(t.comparePeriod)for(typeof t.comparePeriod=="string"&&t.comparePeriod=="ALL"&&(t.comparePeriod=["SameTermYesterday","SameTermlastweek","SameTermlastmonth","SameTermlastyear","lastweek","lastmonth","lastyear","set"]),r=0,e=t.comparePeriod.length;r<e;r++)f.push(h[t.comparePeriod[r]]);n.addControl(o.define("widget.select","selectPeriod","SELECTPERIOD","selectPeriod").setChangeStateFuncName("toggleDisplay").option(f));n.addControl(s.define("widget.multiDate","datePeriod","DATEPERIOD","datePeriod").hide())},toggleDisplay:function(){var n=this.get(0).getStandardValue();n=="0"?this.get(1).show():this.get(1).hide()},getSeletedValue:function(){return this.controlList&&this.controlList[0].getValue()},serialize:function(){for(var r,n=[],u=this.baseDate,f=this.getSeletedValue(),e,o,t,i=0,s=this.controlList.length;i<s;i++)this.controlList[i].isVisible()&&(r=this.controlList[i].serialize(),$.isArray(r)?n=n.concat(r):n.push(r));return u&&f!="0"&&(t=ecount.global.executeFuncWithScope(this.ecPageID,function(){var n=this.header.getControl(u);return n||(n=this.contents.getControl(u)),n&&(e=n.getDate(),o=n.getStartWeek()),ecount.infra.getCompareDate(e,f,o)})),$.isEmpty(t)||n.push({key:"COMPAREDATEPERIOD_FROM",value:t[0]},{key:"COMPAREDATEPERIOD_TO",value:t[1]}),n}},possessionWH:{controlType:"widget.combine.possessionWH",onInitChildControl:function(n){var r=widget.generator,t=r.control(),i=ecount.resource;n.addControl(t.define("widget.radio","possession_radio","possession_radio").label([i.LBL02247,i.LBL05716]).value([0,1]).setChangeStateFuncName("toggleWhCode").select(0)).addControl(t.define("widget.multiCode.wh","possession_wh_code","possession_wh_code").hide())},toggleWhCode:function(){var n=this.controlList[0].getValue();n=="1"?this.controlList[1].show():n=="0"&&(this.controlList[1].hide(),this.controlList[1].reset())},getValue:function(){return[this.controlList[0].getValue(),this.controlList[1].getSelectedItem()]},setValue:function(n){this.controlList[0].setValue(n[0]);this.controlList[1].addCodes(n[1])}},adjustSlip:{controlType:"widget.combine.adjustSlip",_showMgmtField:!1,onInitChildControl:function(n){var r=widget.generator,i=r.control(),t=ecount.resource;n.addControl(i.define("widget.checkbox","adjustSlip_chkbox","adjustSlip_chkbox").setChangeStateFuncName("toggleChkbox").label(t.LBL10785)).addControl(i.define("widget.radio","adjustSlip_radio_item","adjustSlip_radio_item").value(["Y","N"]).setChangeStateFuncName("toggleSubItem").label([t.LBL08019,t.LBL03134]).setAddonTitle(t.LBL80071).select("Y").hide()).addControl(i.define("widget.radio","adjustSlip_radio_admitList","adjustSlip_radio_admitList").value(["Y","N"]).label([t.LBL08019,t.LBL03134]).setAddonTitle(t.LBL00612).select("N").hide()).addControl(i.define("widget.radio","adjustSlip_radio_subItem","adjustSlip_radio_subItem").value(["Y","N"]).label([t.LBL03755,t.LBL07247]).setAddonTitle(t.LBL03136).select("N").hide())},toggleChkbox:function(){var n=this.controlList[0].getValue();n?(this.controlList[1].show(),this._showMgmtField&&this.controlList[2].show(),this.controlList[1].getValue()=="N"&&this.toggleSubItem(null,"N"),this.setFocus(1)):this._hideControls(1)},toggleSubItem:function(){var n=this.controlList[1].getValue();n=="N"?(this.controlList[3].show(),this.setFocus(3)):n=="Y"&&this._hideControls(3)},_hideControls:function(n){for(var r,t=n,i=this.controlList.length;t<i;t++)r=this.controlList[t],r.hide()},getValue:function(){for(var i,t=[],n=0,r=this.controlList.length;n<r;n++)i=this.controlList[n],n===0?t.push(i.getValue()==!0?"1":"0"):t.push(i.getValue());return t},setValue:function(n){for(var t=0,i=this.controlList.length;t<i;t++)t===0&&(n[t]=="1"&&(n[t]=!0),n[t]=="0"&&(n[t]=!1)),this.controlList[t].setValue(0,n[t])}},transactionType:{controlType:"widget.combine.transactionType",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=ecount.resource,i=t.id;selectControlType=t._selectType?["widget","select","ioType",t._selectType].join("."):"widget.select.ioType";n.addControl(r.define("widget.radio",i+"_transactionTypeRadio",i+"_transactionTypeRadio").label([u.LBL08396,u.LBL05716]).value(["Y","N"]).select("Y").setChangeStateFuncName("toggleSelect")).addControl(r.define(selectControlType,i+"_transactionTypeSelect",i+"_transactionTypeSelect").defaultOptions({isAllAdd:!1,isAdd:!0,useYn:"A"}).hide())},toggleSelect:function(){var n=this.controlList[0].getValue();n=="N"?(this.controlList[1].show(),this.setFocus(1)):n=="Y"&&this.controlList[1].hide()},openPopup:function(){var n,t;this.controlList[1].getSelectedItem().value.toString()=="99999"&&(n=$.extend({},this.defaultParam,{width:this.width||755,height:this.height||400,name:ecount.resource.LBL02876,url:"/ECERP/EMJ/EMJ001P_02",responseID:this.callbackID,EDITFLAG:"I",IOTYPE:"1",isCloseDisplayFlag:!0,popupType:!1,additional:!1}),this.delegator?this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:n,handler:function(n,t,i,r){var e,u,f;this.responseID=t;n.popupLevel=r;n.parentPageID=i||this.parentPageID;n.__ecPageID=this.ecPageID;n.alreadyIncludedLayout=!0;e=n.modal||this._modal;u=n.additional;delete n.modal;delete n.additional;f={url:n.url,name:n.name||ecount.resource.LBL06789,param:n,popupType:n.popupType,modal:n.modal||this._modal,control:{name:this.subTitle,id:this.id},popupLevel:r,additional:u};ecount.popup.openWindow(f)}.bind(this)}):(n.popupLevel=this.popupLevel,n.parentPageID=this.parentPageID,n.__ecPageID=this.ecPageID,n.alreadyIncludedLayout=!0,t={url:n.url,name:n.name||"control_popup",param:n,popupType:n.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id}},ecount.popup.openWindow(t)))},getValue:function(){return[this.controlList[0].getValue(),this.controlList[1].getSelectedItem()]},setValue:function(n){this.controlList[0].setValue(n[0]);this.controlList[1].setSelectedValue(n[1])},ON_CLICK:function(n,t,i){i&&i.id==this.controlList[0].id||this.openPopup()},ON_INPUT:function(n,t,i){i&&i.id==this.controlList[0].id||this.openPopup()}},taxEntity:{controlType:"widget.combine.taxEntity",onInitChildControl:function(n){var r=widget.generator,t=r.control(),i=ecount.resource;n.addControl(t.define("widget.radio","taxEntityRadio","taxEntityRadio").label([i.LBL05714,i.LBL05715,i.LBL05716]).value(["0","1","2"]).setChangeStateFuncName("toggleInput").select("0")).addControl(t.define("widget.input","taxEntityInput","taxEntityInput").readOnly(!0)).addControl(t.define("widget.multiCode.cust","taxEntityMultiCode","taxEntityMultiCode").setOptions({checkMaxCount:1}).hide())},toggleInput:function(){switch(this.get(0).getValue()){case"0":this.controlList[1].reset();this.controlList[1].show();this.controlList[1].setReadOnly(!0);this.controlList[2].hide();this.setFocus(1);break;case"2":this.controlList[1].show();this.controlList[1].setReadOnly(!1);this.controlList[2].hide();this.setFocus(1);break;case"1":this.controlList[1].reset();this.controlList[1].hide();this.controlList[2].show();this.setFocus(2)}},getValue:function(){return[this.controlList[0].getValue(),this.controlList[2].isVisible(this._IT_SELF)?this.controlList[2].getSelectedItem():this.controlList[1].getValue()]},setValue:function(n){this.controlList[0].setValue(n[0]);this.controlList[2].isVisible(this._IT_SELF)?this.controlList[2].addCode(n[2]):this.controlList[1].setValue(n[1])}},declarationType:{controlType:"widget.combine.declarationType",isDateSpace:!0,isFirstChange:!0,onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),h=ecount.resource,r=t.id,u=t.name,c=ecount.control.date.serverDate(t.ecPageID).getFullYear(),e=t.isUserDateSetting,s=t._subOptions||{},f;this.focusID=r+"_selectYear";this.bun=[["011","1 (1~3)"],["012","1 (4~6)"],["021","2 (7~9)"],["022","2 (10~12)"]];this.ban=[["013","1 (1~6)"],["023","2 (7~12)"]];f=new Date;f=f.getFullYear().toString();n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label(["/","()"]).value(["T","M"]).select("T").setChangeStateFuncName("toggleRadio").setInlineIndex(0));n.addControl(i.define("widget.select",r+"_selectYear",u+"_selectYear").setAddonTitle("").option([f,f]).css("btn-selectbox-inline").noneFlex(!0).setInlineIndex(1));n.addControl(i.define("widget.select",r+"_selectPeriod",u+"_selectPeriod").setChangeStateFuncName("toggleSelect").option(s.key[0]==1?this.ban:this.bun).inline().setInlineIndex(1));n.addControl(i.define("widget.multiDate.YM",r+"_datePeriod",u+"_datePeriod").setAddonTitle("").setYMM().disableDateManualInput(!0).hide().setInlineIndex(2));!e||i.setOptions({hasYearLimit:!0,_maxYearLimit:e.isMaxYearDate,_minYearLimit:e.isMinYearDate});n.addControl(i.define("widget.multiDate",r+"_dateMiss",u+"_dateMiss").useDateSpace().setOptions({_isOnlyMonth:!0}).hideDateIndividual().setAddonTitle("").setInlineIndex(3));n.addControl(i.define("widget.multiDate",r+"_dateMiss2",u+"_dateMiss2").setOptions({_isOnlyMonth:!0}).hide().hideDateIndividual().setAddonTitle("").setInlineIndex(4));n.addControl(i.define("widget.radio",r+"_radioSum",u+"_radioSum").setAddonTitle("").setChangeStateFuncName("toggleRadioSum").label(["",""]).value(["N","X"]).select("X").setInlineIndex(5));n.addControl(i.define("widget.select",r+"_select",u+"_select").setAddonTitle(" ").option([["00",""],["11","1 (01-03)"],["12","1 (04-06)"],["13","1 (01-06)"],["21","2 (07-09)"],["22","2 (10-12)"],["23","2 (07-12)"]]).hide().setInlineIndex(6))},changeType:function(n){this.get(2).removeOption();this.get(2).addOption(n==1?this.ban:this.bun)},changeDateSpace:function(){this.isDateSpace?(this.get(4).setDate(["",""]),this.get(4).show(),this.get(5).hide()):(this.get(4).hide(),this.get(5).show())},toggleRadio:function(){var n=this.controlList[0].getValue();n=="T"?(this.hideAll(),this.get(0).show(),this.get(1).show(),this.get(2).show(),this.get(this.isDateSpace?4:5).show(),this.get(6).show()):n=="M"&&(this.hideAll(),this.get(0).show(),this.get(3).show(),this.get(this.isDateSpace?4:5).show(),this.get(6).show());this.toggleRadioSum();this.adjustDimensions()},toggleRadioSum:function(){var n=this.get(6).getValue(),t=this.get(0).getValue();t=="M"&&(n=="X"?this.get(7).hide():this.get(7).show())},toggleSelect:function(){var t=this.controlList[1].getValue(),n=this.get(4).getSYear();t=="012"||t=="013"?(this.get(this.isDateSpace?4:5).show(),this.get(4).setDate([n+"01",n+"03"]),this.get(5).setDate([n+"01",n+"03"])):(t=="022"||t=="023")&&(this.get(this.isDateSpace?4:5).show(),this.get(4).setDate([n+"07",n+"09"]),this.get(5).setDate([n+"01",n+"03"]))},toggle:function(n){$.isArray(n)&&this.setValue(n)},getValue:function(){return[this.get(0).getValue(),this.get(1).getSelectedItem(),this.get(2).getSelectedItem(),this.get(3).getDate(),this.isDateSpace?this.get(4).getDate():this.get(5).getDate(),this.get(6).getValue(),this.get(7).getSelectedItem()]},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setSelectedValue(n[1]);this.get(2).setSelectedValue(n[2]);this.get(3).setDate(n[3]);this.get(4).setDate(n[4]);this.get(5).setDate(n[4]);this.get(6).setValue(n[6]);this.get(7).setSelectedValue(n[7]);n[0]&&this.toggleRadio(null,n[0])},serialize:function(){for(var t,i=[],n=0,r=this.controlList.length;n<r;n++)t=this.controlList[n].serialize(),n==4&&this.isDateSpace===!1?(n+=1,t=this.controlList[n].serialize(),t[0].key=this.get(4).id+"_FROM",t[1].key=this.get(4).id+"_TO"):n==4&&this.isDateSpace===!0&&(n+=1),$.isArray(t)?i=i.concat(t):i.push(t);return i},ON_CLICK:function(n,t,i,r){n&&n.ownerKey==this.controlList[2].ecIKey&&this.toggleSelect(null,r.selected.value)}},budgetManage:{controlType:"widget.combine.budgetManage",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=ecount.resource,i=t.id;n.addControl(r.define("widget.radio",i+"_radio",i+"_radio").label([u.LBL02056,u.LBL09263,u.LBL09264,u.LBL00930]).value(["0","1","2","3"]).select("0").setChangeStateFuncName("toggleRadio").setInlineIndex(0));n.addControl(r.define("widget.multiDate",i+"_month",i+"_month").setOptions({_isMonthCalendar:!1}).setInlineIndex(1));n.addControl(r.define("widget.select.fromToDouble.quarter",i+"_quarter",i+"_quarter").hide().setInlineIndex(2));n.addControl(r.define("widget.select.fromToDouble.halfYear",i+"_halfYear",i+"_halfYear").hide().setInlineIndex(3));n.addControl(r.define("widget.multiDate",i+"_year",i+"_year").setOptions({_isYearCalender:!0}).hide().setInlineIndex(4))},toggleRadio:function(){var n=this.get(0).getValue();this.hideAll();this.get(0).show();switch(n){case"0":this.get(1).show();break;case"1":this.get(2).show();break;case"2":this.get(3).show();break;case"3":this.get(4).show()}},getValue:function(){return[this.get(0).getValue(),this.get(1).getDate(),this.get(2).getValue(),this.get(3).getValue(),this.get(4).getDate()]},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setDate(n[1]);this.get(2).setValue(n[2]);this.get(3).setValue(n[3]);this.get(4).setDate(n[4])},serialize:function(){for(var r,n,t=[],u=/(\d{4})(\d{4})/g,i=0;i<this.controlList.length;i++)r=this.controlList[i],n=r.serialize(),r.id==this.id+"_year"&&(n[0].value=n[0].value.replace(u,"$10101"),n[1].value=n[1].value.replace(u,"$11231")),$.isArray(n)?t=t.concat(n):t.push(n);return t}},changeTarget:{controlType:"widget.combine.changeTarget",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=t.id,i=ecount.resource,h=t.name,c=t.data,e=t.radioChangeName||t._radioChangeName||t.name+"_RADIO_CHANGE",o=t.radioDivisionName||t._radioDivisionName||t.name+"_RADIO_DIVISION",s=t.selectChangeName||t._selectChangeName||t.name+"_SELECT_CHANGE",l=t._fixedSelectedValue;n.addControl(r.define("widget.radio",u+"_radio_change",e).label([i.LBL05426,i.LBL10756]).value([0,1]).setChangeStateFuncName("toggleChangeOption").select(0));n.addControl(r.define("widget.radio",u+"_radio_division",o).label([i.LBL09363,i.LBL03311]).value([0,1]).select(0));n.addControl(r.define("widget.select.exchangeType",u+"_select_division",s,undefined,undefined,"isCombine").setAddonTitle(i.LBL03747))},onInitChildSetting:function(n){n.controlType="widget.custom";n.pId.indexOf("custom")!=-1&&(n.onSync=!1);$.extend(n._controls[0],{callback:this.toggleChangeOption.bind(this)})},serialize:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.get(n).serialize());return t},setValue:function(n){for(var t=0;t<n.length;t++)this.controlList[t].setValue(n[t])},getValue:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.controlList[n].getValue());return t},getLastValue:function(){for(var r,t=[],i=[],n=0,u=this.controlList.length;n<u;n++)r=this.get(n),i=r.getValue(),t.push(i);return t},toggleChangeOption:function(){var n=this.get(0).getValue();n=="1"?(this.get(1).hide(),this.get(2).hideOption(0)):(this.get(1).show(),this.get(2).showOption(0))}},dateGubun:{controlType:"widget.combine.dateGubun",onInitChildControl:function(n,t){var h=widget.generator,r=h.control(),i=ecount.resource,u=t.id,c=t.name,l=t.data,f=t._subOptions&&t._subOptions.label||[i.LBL02191,i.LBL02056,i.LBL09363,i.LBL03312,i.LBL03311,i.LBL05305,i.LBL00363,i.LBL09605],e=t._subOptions&&t._subOptions.value||["1","2","3","4","5","6","7","8"],o=t._subOptions&&t._subOptions.selected,s;this.isSingleDate=t.isSingleDate||!1;t.useUserCustomizeSummary&&!f.contains(i.LBL14831)&&(f.push(i.LBL14831),e.push((e.length+1).toString()));t.useCustEmailSend&&(f.push(i.LBL18982),e.push("10"));s=f.length<6?r.define("widget.radio",u+"_radio","SUM_FLAG").label(f).value(e).setChangeStateFuncName("toggleDisplay").select(o||e[2]):r.define("widget.select",u+"_radio","SUM_FLAG").option(this.makeSelectOptions(e,f)).setChangeStateFuncName("toggleDisplay").select(o||e[2]);n.addControl(s);this.isSingleDate?(n.addControl(r.define("widget.date",u+"_date","BASE_DATE")),n.addControl(r.define("widget.date",u+"_date_ym","BASE_DATE").setOptions({_isMonthCalendar:!1}).hide())):(n.addControl(r.define("widget.multiDate",u+"_date","BASE_DATE")),n.addControl(r.define("widget.multiDate",u+"_date_ym","BASE_DATE").setOptions({_isMonthCalendar:!1}).hide()),n.addControl(r.define("widget.date",u+"_date_single","BASE_DATE").hide()));f.contains(i.LBL14831)&&n.addControl(r.define("widget.combine.summaryCondition",u+"_summaryCondition",c+"_summaryCondition").setOptions({useSummaryTarget:t.useSummaryTarget,useComparePeriod:t.useComparePeriod,selectComparePeriod:t.selectComparePeriod,selectOther:t.selectOther,typeSubs:t.typeSubs,orders:t.orders,useTogglingBtn:t.useTogglingBtn}).hide())},toggleDisplay:function(){var t=this.id,i=this.getSumFlagValue(),n=this.get(t+"_summaryCondition"),r=this.controlList.slice(1,this.controlList.length);r.forEach(function(n){n.hide()});switch(i.label){case ecount.resource.LBL02056:this.get(2).show();break;case ecount.resource.LBL14831:this._subOptions&&this._subOptions.customizeSummary=="yyyyMM"?this.get(2).show():this.get(1).show();n&&n.show();break;default:this.get(1).show()}this.adjustDimensions()},getValue:function(){var n=[],t=this.getSumFlagValue(),i=this.get(this.id+"_summaryCondition");n.push(t.value);switch(t.label){case ecount.resource.LBL02056:n.push(this.get(2).getDate());break;case ecount.resource.LBL14831:this._subOptions&&this._subOptions.customizeSummary=="yyyyMM"?n.push(this.get(2).getDate()):n.push(this.get(1).getDate());n.push(i.getStandardValue());break;default:n.push(this.get(1).getDate())}return n},getSumFlagValue:function(){var n={};return this._subOptions&&this._subOptions.label&&this._subOptions.label.length<6?(n.value=this.get(0).getValue(),n.label=this.get(0).getCheckedLabel()):n=this.get(0).getSelectedItem()||{},n},setValue:function(n){var t=this.get(this.id+"_summaryCondition");this.get(0).setStandardValue(n[0]);this.get(1).setStandardValue(n[1]);n.length>2?t?(this.get(2).setStandardValue(n[1]),t.setStandardValue(n[2])):this.get(2).setStandardValue(n[2]):this.get(2).setStandardValue(n[1])},getDateControl:function(){var n=this.getSumFlagValue();switch(n.label){case ecount.resource.LBL02056:case ecount.resource.LBL14831:return this.get(2);default:return this.get(1)}},serialize:function(){var n=[],r=this.get(0).getValue(),i=this.get(this.id+"_summaryCondition"),t;return n.push(this.get(0).serialize()),r=="2"?(t=this.get(2).serialize(),t[0].value=t[0].value.substr(0,6)+"01",t[1].value=new Date(this.get(2).getStandardValue()[1].getFullYear(),this.get(2).getStandardValue()[1].getMonth()+1,0).format("yyyyMMdd"),n=n.concat(t)):n=n.concat(this.get(1).serialize()),i&&(n=n.concat(i.serialize())),n},getSelectOption:function(n){var t=this.get(this.id+"_summaryCondition");return t&&t.getSelectOption(n)},setSelectOption:function(n,t,i){var r=this.get(this.id+"_summaryCondition");r&&r.setSelectOption(n,t,i)},save:function(){for(var n=[],r=this.id+"_summaryCondition",t,i=0;i<this.controlList.length;i++)t=this.controlList[i],t.id===r?n=n.concat(t.save().value):n.push(t.save());return{key:this.id,value:n}},restore:function(n){if(n&&$.isArray(n)){for(var t=Object.clone(n,!0),f,i,r,u=0;u<this.controlList.length;u++)i=this.controlList[u],r=t.find(function(n){return n.key===i.id}),i.id===this.id+"_summaryCondition"?f=i:r&&(t.splice(t.findIndex(function(n){return n.key===r.key}),1),i.restore(r.value));!$.isEmpty(t)&&f&&f.restore(t)}}},dateGubunNew:{controlType:"widget.combine.dateGubunNew",onInitChildControl:function(n,t){var y=widget.generator,r=y.control(),i=ecount.resource,u=t.id,p=t.name,w=t.data,f=t._tempOptions&&t._tempOptions.label||[i.LBL00909],e=t._tempOptions&&t._tempOptions.value||["1"],o=t._tempOptions&&t._tempOptions.selected,h=t._subOptions&&t._subOptions.label||[i.LBL02191,i.LBL02056,i.LBL09363,i.LBL03312,i.LBL03311,i.LBL05305,i.LBL00363,i.LBL09605],s=t._subOptions&&t._subOptions.value||["1","2","3","4","5","6","7","8"],v=t._subOptions&&t._subOptions.selected,c=null,l=null,a=null;this.isSingleDate=t.isSingleDate||!1;t.useUserCustomizeSummary&&!f.contains(i.LBL02692)&&(f.push(i.LBL02692),e.push((s.length+1).toString()));t.useCustEmailSend&&(f.push(i.LBL18982),e.push("10"));c=r.define("widget.radio",u+"_tempType","VIEW_TYPE").label(f).value(e).setChangeStateFuncName("toggleDisplay").select(o||e[0]);f.length==1&&c.hide();n.addControl(c);l=h.length<6?r.define("widget.radio",u+"_radio","SUM_FLAG").label(h).value(s).setChangeStateFuncName("toggleDisplay").select(v||s[2]):r.define("widget.select",u+"_radio","SUM_FLAG").option(this.makeSelectOptions(s,h)).setChangeStateFuncName("toggleDisplay").select(v||s[2]);o&&o!=e[0]&&l.hide();n.addControl(l);this.isSingleDate?(n.addControl(r.define("widget.date",u+"_date","BASE_DATE")),n.addControl(r.define("widget.date",u+"_date_ym","BASE_DATE").setOptions({_isMonthCalendar:!1}).hide())):(n.addControl(r.define("widget.multiDate",u+"_date","BASE_DATE")),n.addControl(r.define("widget.multiDate",u+"_date_ym","BASE_DATE").setOptions({_isMonthCalendar:!1}).hide()),n.addControl(r.define("widget.date",u+"_date_single","BASE_DATE").hide()));f.contains(i.LBL02692)&&(a=r.define("widget.combine.summaryCondition",u+"_summaryCondition",p+"_summaryCondition").setOptions({useSummaryTarget:t.useSummaryTarget,useComparePeriod:t.useComparePeriod,selectComparePeriod:t.selectComparePeriod,selectOther:t.selectOther,typeSubs:t.typeSubs,orders:t.orders,useTogglingBtn:t.useTogglingBtn}),o&&o==e[1]||a.hide(),n.addControl(a))},toggleDisplay:function(){var t=this.id,i=this.get(0).getValue(),r=this.getValueOrigin(0),u=this.get(0).getCheckedLabel(),f=this.getSumFlagValue(),n=this.get(t+"_summaryCondition"),e=this.controlList.slice(1,this.controlList.length);if(e.forEach(function(n){n.hide()}),i==r[0]){this.get(1).show();switch(f.label){case ecount.resource.LBL02056:this.get(3).show();break;default:this.get(2).show()}}else u==ecount.resource.LBL02692?(this._subOptions&&this._subOptions.customizeSummary=="yyyyMM"?this.get(3).show():this.get(2).show(),n&&n.show()):this.get(2).show();this.adjustDimensions()},getValue:function(){var n=[],t=this.get(0).getValue(),r=this.getValueOrigin(0),u=this.get(0).getCheckedLabel(),i=this.getSumFlagValue(),f=this.get(this.id+"_summaryCondition");return n.push(t),n.push(i.value),t==r[0]&&i.label==ecount.resource.LBL02056?n.push(this.get(3).getDate()):u==ecount.resource.LBL02692?(this._subOptions&&this._subOptions.customizeSummary=="yyyyMM"?n.push(this.get(3).getDate()):n.push(this.get(2).getDate()),n.push(f.getStandardValue())):n.push(this.get(2).getDate()),n},getSumFlagValue:function(){var n={};return this._subOptions&&this._subOptions.label&&this._subOptions.label.length<6?(n.value=this.get(1).getValue(),n.label=this.get(1).getCheckedLabel()):n=this.get(1).getSelectedItem()||{},n},setValue:function(n){var t=this.get(this.id+"_summaryCondition");this.get(0).setStandardValue(n[0]);this.get(1).setStandardValue(n[1]);this.get(2).setStandardValue(n[2]);n.length>3?t?(this.get(3).setStandardValue(n[2]),t.setStandardValue(n[3])):this.get(3).setStandardValue(n[3]):this.get(3).setStandardValue(n[2])},getDateControl:function(){var n=this.get(0).getValue(),t=this.get(0).getCheckedLabel(),i=this.getValueOrigin(0),r=this.getSumFlagValue();return n==i[0]&&r.label==ecount.resource.LBL02056?this.get(3):t==ecount.resource.LBL02692&&this._subOptions&&this._subOptions.customizeSummary=="yyyyMM"?this.get(3):this.get(2)},serialize:function(){var n=[],r=this.get(0).getValue(),u=this.getValueOrigin(0),f=this.get(0).getCheckedLabel(),e=this.getSumFlagValue(),o=this.get(1).getValue(),i=this.get(this.id+"_summaryCondition"),t;return n.push(this.get(0).serialize()),n.push(this.get(1).serialize()),r==u[0]&&e.label==ecount.resource.LBL02056||f==ecount.resource.LBL02692&&this._subOptions&&this._subOptions.customizeSummary=="yyyyMM"?(t=this.get(3).serialize(),t[0].value=t[0].value.substr(0,6)+"01",t[1].value=new Date(this.get(3).getStandardValue()[1].getFullYear(),this.get(3).getStandardValue()[1].getMonth()+1,0).format("yyyyMMdd"),n=n.concat(t)):n=n.concat(this.get(2).serialize()),i&&(n=n.concat(i.serialize())),n},getSelectOption:function(n){var t=this.get(this.id+"_summaryCondition");return t&&t.getSelectOption(n)},setSelectOption:function(n,t,i){var r=this.get(this.id+"_summaryCondition");r&&r.setSelectOption(n,t,i)},save:function(){for(var n=[],r=this.id+"_summaryCondition",t,i=0;i<this.controlList.length;i++)t=this.controlList[i],t.id===r?n=n.concat(t.save().value):n.push(t.save());return{key:this.id,value:n}},restore:function(n){if(n&&$.isArray(n)){for(var t=Object.clone(n,!0),f,i,r,u=0;u<this.controlList.length;u++)i=this.controlList[u],r=t.find(function(n){return n.key===i.id}),i.id===this.id+"_summaryCondition"?f=i:r&&(t.splice(t.findIndex(function(n){return n.key===r.key}),1),i.restore(r.value));!$.isEmpty(t)&&f&&f.restore(t)}}},noDateGubun:{controlType:"widget.combine.noDateGubun",initializeOptions:function(n){this.useUserCustomizeSummary=n.useUserCustomizeSummary},onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),i=ecount.resource,e=t.id,c=t.name,l=t.data,r=t._subOptions&&t._subOptions.label||[i.LBL02191,i.LBL02056,i.LBL09363,i.LBL03312,i.LBL03311,i.LBL05305,i.LBL00363,i.LBL09605],u=t._subOptions&&t._subOptions.value||["1","2","3","4","5","6","7","8"],o=t._subOptions&&t._subOptions.selected,s;t.useUserCustomizeSummary&&!r.contains(i.LBL14831)&&(r.push(i.LBL14831),u.push((u.length+1).toString()));s=r.length<6?f.define("widget.radio",e+"_radio","SUM_FLAG").label(r).value(u).setChangeStateFuncName("toggleDisplay").select(o||u[2]):f.define("widget.select",e+"_radio","SUM_FLAG").option(this.makeSelectOptions(u,r)).setChangeStateFuncName("toggleDisplay").select(o||u[2]);n.addControl(s);r.contains(i.LBL14831)&&n.addControl(f.define("widget.combine.summaryCondition",e+"_summaryCondition",c+"_summaryCondition").setOptions({useSummaryTarget:t.useSummaryTarget,useComparePeriod:t.useComparePeriod,selectComparePeriod:t.selectComparePeriod,selectOther:t.selectOther,typeSubs:t.typeSubs,orders:t.orders,useTogglingBtn:t.useTogglingBtn}).hide())},toggleDisplay:function(){var t=this.id,i=this.getSumFlagValue(),n=this.get(t+"_summaryCondition");switch(i.label){case ecount.resource.LBL14831:this.useUserCustomizeSummary&&n.show();break;default:this.useUserCustomizeSummary&&n.hide()}this.adjustDimensions()},getValue:function(){var n=[],t=this.getSumFlagValue(),i=this.get(this.id+"_summaryCondition");n.push(t.value);switch(t.label){case ecount.resource.LBL14831:i&&n.push(i.getStandardValue())}return n},getSumFlagValue:function(){var n={};return this._subOptions&&this._subOptions.label&&this._subOptions.label.length<6?(n.value=this.get(0).getValue(),n.label=this.get(0).getCheckedLabel()):n=this.get(0).getSelectedItem()||{},n},getSelectOption:function(n){var t=this.get(this.id+"_summaryCondition");return t&&t.getSelectOption(n)},setSelectOption:function(n,t,i){var r=this.get(this.id+"_summaryCondition");r&&r.setSelectOption(n,t,i)},save:function(){for(var n=[],r=this.id+"_summaryCondition",t,i=0;i<this.controlList.length;i++)t=this.controlList[i],t.id===r?n=n.concat(t.save().value):n.push(t.save());return{key:this.id,value:n}},restore:function(n){if(n&&$.isArray(n)){for(var t=Object.clone(n,!0),f,i,r,u=0;u<this.controlList.length;u++)i=this.controlList[u],r=t.find(function(n){return n.key===i.id}),i.id===this.id+"_summaryCondition"?f=i:r&&(t.splice(t.findIndex(function(n){return n.key===r.key}),1),i.restore(r.value));!$.isEmpty(t)&&f&&f.restore(t)}}},itemPrice:{controlType:"widget.combine.itemPrice",onInitChildControl:function(n,t){var u=widget.generator,r=u.control(),f=ecount.resource,i=t.id;n.addControl(r.define("widget.input",i+"itemPriceInput",i+"itemPriceInput").numericOnly(t.numericRange[0]+t.numericRange[1],t.numericRange[1]).showZeroInPoint(t._showZeroInPoint).setInlineIndex(0));n.addControl(r.define("widget.checkbox",i+"itemPriceCheckbox",i+"itemPriceCheckbox").label(f.LBL00253).setInlineIndex(0))}},csMinSoQty:{controlType:"widget.combine.csMinSoQty",onInitChildControl:function(n,t){var u=widget.generator,r=u.control(),i=ecount.resource;n.addControl(r.define("widget.select","csMinSoQtySelect","csMinSoQtySelect").option([["B",i.LBL08396],["Y",i.LBL07879],["N",i.LBL07880]]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.input","csMinSoQtyInput","csMinSoQtyInput").numericOnly(t.numericRange[0]+t.numericRange[1],t.numericRange[1]).showZeroInPoint(t._showZeroInPoint).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"B":case"N":this.controlList[1].hide();this.setFocus(0);break;case"Y":this.controlList[1].show();this.setFocus(1)}},getValue:function(n){var t=[];return t.push(this.controlList[0].getValue()),t.push(this.controlList[1].isVisible()?this.controlList[1].getValue():null),$.isNumber(n)?t[n]:t},setValue:function(n){this.controlList[0].setValue(n[0]);this.controlList[1].isVisible()&&this.controlList[1].setValue(n[1])}},selectCode:{controlType:"widget.combine.selectCode",onInitChildControl:function(n,t){var f=widget.generator,u=f.control(),i=ecount.resource,r=t.id;n.addControl(u.define("widget.radio",r+"_radio",r+"_radio").label([i.LBL12933,i.LBL12934,i.LBL12935,i.LBL12936]).value(["1","2","3","4"]).select("1").setOptions({_useTableRowIndex:t._useTableRowIndex,rowIdxTable:t.rowIdxTable,columnIdxTable:t.columnIdxTable,originControlID:""}).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(u.define("widget.code.prod",r+"_code",r+"_code").setOptions({_useTableRowIndex:t._useTableRowIndex,rowIdxTable:t.rowIdxTable,columnIdxTable:t.columnIdxTable,originControlID:""}).setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();n=="1"?this.show(1):this.hide(1)}},dailyReportType:{controlType:"widget.combine.dailyReportType",isAccessibleCustomer:ecount.config.user.ALL_GROUP_CUST=="1"?!0:!1,radioDisableArray:["0","2"],onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),e=ecount.resource,u=t.id,o=t.name,s=[ecount.resource.LBL17391,ecount.resource.LBL17389,ecount.resource.LBL17398,ecount.resource.LBL17397],i=["CR","IC","RT","ST"],h=this.isAccessibleCustomer?i[i.length-1]:i[0];n.addControl(r.define("widget.multiCode.statusList",u+"_multiCode",o+"_multiCode").dataRules(["required"],e.MSG00629).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_radio","REP_CUST_CONVERT_FLAG").label(s).value(i).select(h).hide().setChangeStateFuncName("toggleDisplay").setInlineIndex(1))},toggleDisplay:function(){var t=this.get(0).getSelectedCode(),n,i;if(t.indexOf("ESD025R")>=0||t.indexOf("ESP016R")>=0){if(this.get(1).show(),this.isAccessibleCustomer&&this.radioDisableArray&&$.isArray(this.radioDisableArray)&&this.radioDisableArray.length>0)for(n=0,i=this.radioDisableArray.length;n<i;n++)this.get(1).setReadOnly(!0,this.radioDisableArray[n])}else this.get(1).hide()}},timeRangeLink:{controlType:"widget.combine.timeRangeLink",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=ecount.resource,i=t.id;n.addControl(r.define("widget.date.timeRange",i+"_timeRange",i+"_timeRange").setInlineIndex(0));n.addControl(r.define("widget.checkbox",i+"_checkbox",i+"_checkbox").label(u.LBL13044).value("allday").noneFlex(!0).setInlineIndex(1));n.addControl(r.define("widget.label",i+"_label",i+"_label").label('<span class="inline-divider"><\/span>').noneFlex(!0).setInlineIndex(1));n.addControl(r.define("widget.link",i+"_link",i+"_link").label(u.LBL01246).noneFlex(!0).setInlineIndex(1))},getValue:function(){return[this.get(0).getDate(),this.get(1).getCheckedValue()]},setValue:function(n){$.isArray(n)?(n[0]&&this.get(0).setDate(n[0]),n[1]&&this.get(1).setCheckedValue(n[1])):n&&this.get(0).setDate(n)}},specName:{controlType:"widget.combine.specName",onInitChildControl:function(n){var i=widget.generator,t=i.control(),r=ecount.resource;n.addControl(t.define("widget.select","specNameSelect","specNameSelect").option([["2",ecount.resource.LBL05716],["0",ecount.resource.LBL00747],["1",ecount.resource.LBL00739]]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(t.define("widget.input.general","specNameInput","specNameInput").hasFn([{id:"sizeDesDupCheck",label:ecount.resource.BTN00236}]).maxLength(100).setInlineIndex(1));n.addControl(t.define("widget.multiCode.prodSize","specNameMultiCD","specNameMultiCD").setOptions({popupURL:"/ECERP/SVC/Popup/CM002P",checkMaxCount:1,isOnePopupClose:!1,isIncludeInactive:!1}).hide().setInlineIndex(2))},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"2":case"1":this.get(1).show();this.get(2).hide();this.setFocus(0);break;case"0":this.get(1).hide();this.get(2).show();this.setFocus(1)}}},taxType:{controlType:"widget.combine.taxType",renderMoldingFlag:!0,controlIndex:{taxType:0,combineView:1,eTaxInvoiceType:2,orgIdIssue:3,taxDeduct:4,sNo:5},_editMode:"V",_viewModeWidget:["eTaxInvoiceType","orgIdIssue","taxDeduct","sNo"],_ecTaxShow:["11","12","13","18","19","21","22","23","24","25","2A","2B","2C","2D","28","29","2J","1F","2F","1K","2P"],onInitChildControl:function(n,t){function f(n,t){var e,r,f,u;if(i&&i[n]){t=$.extend({},i[n],t);switch(n){case"taxType":i[n]._defaultOptions&&(t._defaultOptions=i[n]._defaultOptions);break;case"eTaxInvoiceType":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);break;case"orgIdIssue":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);break;case"taxDeduct":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);break;case"sNo":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden)}if(i[n].data)for(r=0,f=i[n].data.length;r<f;r++)e=i[n].data,t.data[r]=$.extend(t.data[r],e[r]);if(i[n]._fixedSelectedValue)for(r=0,f=t.data.length;r<f;r++)u=t.data[r],u.selected&&delete u.selected,i[n]._fixedSelectedValue[0]==u.value&&(u.selected=!0)}return t}var e=widget.generator,u=e.control(),r=ecount.resource,i=t._initGeneratorOptions;n.addControl(f("taxType",u.define("widget.select.taxType","taxType","TAX_TYPE").defaultOptions({isAllAdd:!1,isAdd:!1}).setOptions({_isParentSpanTarget:!0}).setChangeStateFuncName("toggleSubItem").end()));n.addControl(u.define("widget.label.combineView","combineView","combineView").userData(this._viewModeWidget).label(["","","",""]).setOptions({onClick:this.onViewModeClick.bind(this)}).end());n.addControl(f("eTaxInvoiceType",u.define("widget.select.eTaxInvoiceType","eTaxInvoiceType","ETAX_INVOICE_TYPE").setAddonTitle(r.LBL00703).setAddonOptions({css:"text-left"}).setOptions({_isParentSpanTarget:!0}).setChangeStateFuncName("toggleSubItemOfETaxInvoiceType").end()));n.addControl(f("orgIdIssue",u.define("widget.input.general","orgIdIssue","ORG_ID_ISSUE").setAddonTitle(r.LBL07542).setAddonOptions({css:"text-left"}).filter("maxlength",{message:String.format(ecount.resource.MSG04446,24,24),max:24}).setOptions({_isParentSpanTarget:!0}).end()));n.addControl(f("taxDeduct",u.define("widget.radio","taxDeduct","TAX_DEDUCT"+(t.rowKey||this.ecPageID)).setAddonTitle(r.LBL01926).setAddonOptions({css:"text-left"}).value(["0","1"]).label([r.LBL11618,r.LBL05654]).select("0").setOptions({_isParentSpanTarget:!0}).isUserNameSet().end()));n.addControl(f("sNo",u.define("widget.input.general","sNo","S_NO").setAddonTitle(r.LBL01751).setAddonOptions({css:"text-left"}).filter("maxlength",{message:String.format(r.MSG01136,30,30),max:30}).setOptions({_isParentSpanTarget:!0}).end()))},onAfterRender:function(){_.isEmpty(this._fixedSelectedValue)&&this.setLabelCombineViewVisible();this.setLabelListValue();this.setViewModeChange();this.toggleFnHideShow()},setLabelCombineViewVisible:function(){for(var t=0,i=this.controlList.length,n;t<i;t++)n=this.controlList[t],n.isVisible()===!1&&this._viewModeWidget.contains(n.id)&&this.get(1).hideLabelById(n.id)},ON_CLICK:function(n){if(!_.isEmpty(this.controlList)){if(n&&n.cid=="combineView")this.onViewModeClick(2+n.cindex);if(!this.isGridV3)return!1}},toggleSubItem:function(){var n=this.get(0).getValue(),t=this.controlIndex.eTaxInvoiceType,e,o,s,h,i,f,r,u;this._ecTaxShow.contains(n)?(["1F","2F","1K","2P"].contains(n)?this.controlList[t].hide():this.controlList[t].show(),ecount.config.company.ECTAX_FLAG=="N"||["1F","2F","1K","2P"].contains(n)==!0?this.controlList[t].setValue("00"):ecount.config.company.ECTAX_FLAG=="Y"&&this.controlList[t].setValue("99")):(this.controlList[t].hide(),this.controlList[t].setValue("00"));e=this.controlIndex.orgIdIssue;o=!1;ecount.config.limited.menu.USE_ETAX==!0&&this._ecTaxShow.contains(n)&&(o=ecmodule.account.common.isShowOrgIssue({outType:n,inTypeEcTaxFlag:this.controlList[t].getValue()}));o==!0?this.controlList[e].show():this.controlList[e].hide();s=this.controlIndex.taxDeduct;h=ecmodule.account.common.isShowTaxDeduct({TYPE:"0",TAX_TYPE:n,USE_PREPAID_OMIT:ecount.config.nation.USE_PREPAID_OMIT});h?this.controlList[s].show():this.controlList[s].hide();i=this.controlIndex.sNo;f=this.controlList[this.controlIndex.taxType].getCodeData();$.isEmpty(f.ETC_CODE)==!1?(this.controlList[i].setValue(""),this.controlList[i].show(),this.controlList[i].changeAddonTitle(f.ETC_CODE),this.controlList[i].setPlaceHolder(f.ETC_CODE),this.setLabelListValue()):this.controlList[i].hide();this.setViewModeChange();this.toggleFnHideShow();["27","2E","2M","2O"].contains(n)==!0?(this._editMode="E",this.setViewModeChange(),r=this.get(0),r&&r.isVisible()&&r.isVisibleElement()&&r.setFocus(0),setTimeout(function(){var n=this.controlList[i];n&&n.isVisible()&&n.isVisibleElement()&&n.setFocus(0)}.bind(this),50)):(u=this.get(0),u&&u.isVisible()&&u.isVisibleElement()&&u.setFocus(0))},toggleFnHideShow:function(){$.isEmpty(this._callback)||this._callback(this)},toggleSubItemOfETaxInvoiceType:function(){var u=this.get(2).getSelectedItem().value,f=this.get(2).getValue(),r=this.controlIndex.eTaxInvoiceType,n=this.controlList[this.controlIndex.taxType].getValue(),t,i;["13","18","23","2B","2D"].contains(n)&&f=="05"&&(ecount.alert(ecount.resource.MSG03448,function(){var n=this.controlList[r];n&&n.isVisible()&&n.isVisibleElement()&&n.setFocus(0)}.bind(this)),this.controlList[r].setValue("99"));t=this.controlIndex.orgIdIssue;i=!1;ecount.config.limited.menu.USE_ETAX==!0&&this._ecTaxShow.contains(n)&&(i=ecmodule.account.common.isShowOrgIssue({outType:n,inTypeEcTaxFlag:u}));i==!0?this.controlList[t].show():this.controlList[t].hide();this.setViewModeChange()},setModeChange:function(n){this._editMode=n;n=="V"&&this.setLabelListValue();this.setViewModeChange()},setSNoInputValue:function(n){var t=this.getSNoInputControl();t.setValue(n)},getSNoInputControl:function(){return this.controlList[this.controlIndex.sNo]},toggle:function(n){this.setLabelCombineViewVisible();this.setChangeStateFuncCallFlag(!1);this.controlList[0].setValue(0,n.toString(),!0);this.toggleSubItem();this.setChangeStateFuncCallFlag(!0)},getValue:function(){return[this.controlList[0].getValue().toString(),]},setValue:function(n){this.toggle(n[0])},restore:function(n){var i,t,r;for(this.setChangeStateFuncCallFlag(!1),i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&this.get(t).controlType!="widget.label.combineView"&&(this.controlList[t].restore(n[t].value),i.push(n[t].value)),t==0&&this.toggleSubItem(),t==2&&this.toggleSubItemOfETaxInvoiceType();this.setModeChange("V");this.setChangeStateFuncCallFlag(!0)},childHide:function(n,t){var i=this.controlIndex.combineView;this._editMode=="V"&&this._viewModeWidget.contains(t.id)||n&&n.apply(t);this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.controlList[i].hideLabelById(t.id);this.adjustContentsDimensions()},childShow:function(n,t){var i=this.controlIndex.combineView;this._editMode!="V"&&(n&&n.apply(t),this._viewModeWidget.contains(t.id)&&this.setAddonTitleWidthResize());this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.controlList[i].showLabelById(t.id,this._editMode!="E");this.adjustContentsDimensions()},afterChildSetValue:function(n){this._viewModeWidget.contains(n)&&this.setLabelListValue()},preChildShowError:function(){this._editMode="E";this.setViewModeChange()},preChildHideError:function(){},validate:function(){this.setViewModeChange();var n=this._super.validate.apply(this,arguments);return n.length==0?this.setViewModeChange():this._editMode="E",n},onViewModeClick:function(n){this._editMode="E";this.setViewModeChange();this.controlList[n].setFocus(0)},setViewModeChange:function(){var n=this.controlIndex.combineView;if(this._editMode=="V"){var t=this.controlIndex.eTaxInvoiceType,i=this.controlIndex.orgIdIssue,r=this.controlIndex.taxDeduct,u=this.controlIndex.sNo;this._editMode="C";this.controlList[n].getShowLabelList().length>1&&this.controlList[n].show();this.controlList[t].hide();this.controlList[i].hide();this.controlList[r].hide();this.controlList[u].hide();this._editMode="V"}else this.setAddonTitleWidthResize(!0),this.controlList[n].hide();ecount.__isEventCaptureMode()&&ecount.eventLog("control.toggle",{type:"control.toggle",self:this})},setAddonTitleWidthResize:function(n){for(var u=this.controlIndex.combineView,r,i=n?this.controlList[u].getShowLabelList():this._viewModeWidget,t=0;t<i.length;t++)r=this.controlIndex[i[t]],n&&this.controlList[r].show();this.isGridV3||this.setAddOnTitleResize()},setLabelListValue:function(){for(var n,t,i=this.controlIndex.combineView,u=this._viewModeWidget,r=0;r<u.length;r++)if(n=u[r],n!="combineView"){t="";switch(n){case"taxDeduct":t=this.controlList[this.controlIndex[n]].getCheckedLabel();break;case"eTaxInvoiceType":t=this.controlList[this.controlIndex[n]].getSelectedItem().label;break;default:t=this.controlList[this.controlIndex[n]].getValue()}t?(this.controlList[i].removeClass("label-muted",n),this.controlList[i].addClass("label-light",n),this.controlList[i].setValue(t,n)):(t=this.controlList[this.controlIndex[n]].getAddonTitle(),this.controlList[i].setValue(t,n),this.controlList[i].addClass("label-muted",n),this.controlList[i].removeClass("label-light",n))}},onFocusOut:function(){if(this.isGridV3){this._super.onFocusOut.apply(this,arguments);return}var n=this.controlIndex.eTaxInvoiceType,t=this.controlIndex.orgIdIssue,i=this.controlIndex.taxDeduct,r=this.controlIndex.sNo;this.controlList[n].hasError()&&this.controlList[n].hideError();this.controlList[t].hasError()&&this.controlList[t].hideError();this.controlList[i].hasError()&&this.controlList[i].hideError();this.controlList[r].hasError()&&this.controlList[r].hideError();this.setLabelListValue();this.setViewModeChange()},getFoldLayerValue:function(){var t="",i=this.get("taxType"),n;return i&&(n=i.getSelectedItem(),n&&(t=String.format("[{0}]{1}",n.value||"",n.label||""))),t}},bankAccountIn:{controlType:"widget.combine.bankAccountInOut",renderMoldingFlag:!0,controlIndex:{acctNoF:0,combineView:1,bondDebitNo:2,dueDate:3,manage:4,projection:5},_editMode:"V",_viewModeWidget:["bondDebitNo","dueDate"],onInitChildControl:function(n,t){function u(n,t){var r,u,f;if(i&&i[n]){t=$.extend({},i[n],t);switch(n){case"bondDebitNo":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);break;case"dueDate":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);i[n]._useSlip&&(t._useSlip=i[n]._useSlip);break;case"manage":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);i[n].baseType&&(t.baseType=i[n].baseType);break;case"projection":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);i[n].baseType&&(t.baseType=i[n].baseType)}if($.isNull(i[n].data)==!1)for(r=0,u=i[n].data.length;r<u;r++)f=i[n].data,t.data[r]=$.extend(t.data[r],f[r])}return t}var h=widget.generator,r=h.control(),f=ecount.resource,i=t._initGeneratorOptions,e,o,s;n.addControl(u("acctNoF",r.define("widget.code.bankAccountInOut","acctNoF","ACCT_NO_F").setChangeStateFuncName("toggleSubItem").end()));n.addControl(r.define("widget.label.combineView","combineView","combineView").userData(this._viewModeWidget).label(["",""]).setChangeStateFuncName("onViewModeClick").end());n.addControl(u("bondDebitNo",r.define("widget.input.general","bondDebitNo","BONDDEBIT_NO").setAddonTitle(f.LBL01772).setAddonOptions({css:"text-left"}).setOptions({_isParentSpanTarget:!0}).multiLine().end()));n.addControl(u("dueDate",r.define("widget.date","dueDate","DUE_DATE").setAddonTitle(f.LBL01083).setAddonOptions({css:"text-left"}).setOptions({_isParentSpanTarget:!0}).multiLine().useSlipDate(!1).end()));e=r.define("widget.link","manage","MANAGE").label(f.LBL00592);["A","B","D","N","X"].contains(ecount.config.inventory.USE_NUM)==!0&&e.hide();n.addControl(u("manage",e.end()));o=r.define("widget.link","projection","PROJECTION").label(f.BTN00364);s=["Y","A","B","X"];(s.contains(ecount.config.inventory.USE_NUM)||ecount.config.limited.menu.USE_CASH_FLOW!=!0||ecount.config.company.MANAGE_BOND_NO=="X")&&o.hide();n.addControl(u("projection",o.end()))},onAfterRender:function(){this.setLabelCombineViewVisible();this.setLabelListValue();this.setViewModeChange()},setLabelCombineViewVisible:function(){for(var t=0,i=this.controlList.length,n;t<i;t++)n=this.controlList[t],n.isVisible()===!1&&this._viewModeWidget.contains(n.id)&&this.get(1).hideLabelById(n.id)},toggleSubItem:function(n,t){var i=event&&(event.messageObj||event.srcElement),r="";t?r=t:i&&i.data&&(r=i.data.GYE_CODE);switch(r){}},toggle:function(n){this.controlList[0].setValue(n.toString());this.toggleSubItem(null,n.toString());ecount.__isEventCaptureMode()&&ecount.eventLog("control.toggle",{type:"control.toggle",self:this})},getValue:function(){return[this.controlList[0].getValue(),]},restore:function(n){for(var i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&this.get(t).controlType!="widget.label.combineView"&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this.toggleSubItem(null,n[0].value.toString());this._editMode="V";this.setViewModeChange()},childHide:function(n,t){var i=this.controlIndex.combineView;this._editMode=="V"&&this._viewModeWidget.contains(t.id)||n&&n.apply(t);this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.controlList[i].hideLabelById(t.id);this.adjustContentsDimensions()},childShow:function(n,t){var i=this.controlIndex.combineView;this._editMode!="V"&&(n&&n.apply(t),this._viewModeWidget.contains(t.id)&&this.setAddonTitleWidthResize());this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.controlList[i].showLabelById(t.id,this._editMode!="E");this.adjustContentsDimensions()},afterChildSetValue:function(n){this._viewModeWidget.contains(n)&&this.setLabelListValue()},preChildShowError:function(){this._editMode="E";this.setViewModeChange()},preChildHideError:function(){},validate:function(){this.setViewModeChange();var n=this._super.validate.apply(this,arguments);return n.length==0?this.setViewModeChange():this._editMode="E",n},onViewModeClick:function(n){this._editMode="E";this.setViewModeChange();var t=this.controlList[n];t&&t.isVisible()&&t.isVisibleElement()&&t.setFocus(0)},setViewModeChange:function(){var n=this.controlIndex.combineView,t,i;this._editMode=="V"?(t=this.controlIndex.bondDebitNo,i=this.controlIndex.dueDate,this._editMode="C",this.controlList[n].getShowLabelList().length>1&&this.controlList[n].show(),this.controlList[t].hide(),this.controlList[i].hide(),this._editMode="V"):(this.setAddonTitleWidthResize(!0),this.controlList[n].hide());ecount.__isEventCaptureMode()&&ecount.eventLog("control.toggle",{type:"control.toggle",self:this})},setAddonTitleWidthResize:function(n){for(var u=this.controlIndex.combineView,r,i=n?this.controlList[u].getShowLabelList():this._viewModeWidget,t=0;t<i.length;t++)r=this.controlIndex[i[t]],n&&this.controlList[r].show();this.setAddOnTitleResize()},setLabelListValue:function(){for(var n,t,i=this.controlIndex.combineView,u=this._viewModeWidget,r=0;r<u.length;r++)if(n=u[r],n!="combineView"){t="";switch(n){case"dueDate":t=ecount.infra.getECDateFormat("date10",!1,this.controlList[this.controlIndex[n]].getDate()[0]);break;default:t=this.controlList[this.controlIndex[n]].getValue()}t?(this.controlList[i].removeClass("label-muted",n),this.controlList[i].addClass("label-light",n),this.controlList[i].setValue(t,n)):(t=this.controlList[this.controlIndex[n]].getAddonTitle(),this.controlList[i].setValue(t,n),this.controlList[i].addClass("label-muted",n),this.controlList[i].removeClass("label-light",n))}},onFocusOut:function(){var n=this.controlIndex.bondDebitNo,t=this.controlIndex.dueDate;this.controlList[n].hasError()&&this.controlList[n].hideError();this.controlList[t].hasError()&&this.controlList[t].hideError();this.setLabelListValue();this.setViewModeChange()},ON_CLICK:function(n){if(n&&n.ecPath==this.controlList[1].ecPath)this.onViewModeClick(2+n.cindex)},getFoldLayerValue:function(){var n="",t=this.get("acctNoF");return t&&(n=_.join(_.map(t.getSelectedItem(),function(n){return _.isEmpty(n.value)&&_.isEmpty(n.label)?"":String.format("[{0}]{1}",n.value,n.label)})," ")),n}},bankAccountOut:{controlType:"widget.combine.bankAccountInOut",renderMoldingFlag:!0,controlIndex:{acctNoT:0,combineView:1,bondDebitNo:2,dueDate:3,manage:4,projection:5},_editMode:"V",_viewModeWidget:["bondDebitNo","dueDate"],onInitChildControl:function(n,t){function u(n,t){var r,u,f;if(i&&i[n]){t=$.extend({},i[n],t);switch(n){case"bondDebitNo":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);break;case"dueDate":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);i[n]._useSlip&&(t._useSlip=i[n]._useSlip);break;case"manage":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);i[n].baseType&&(t.baseType=i[n].baseType);break;case"projection":i[n]._addonTitle&&(t._addonTitle=i[n]._addonTitle);i[n].hidden&&(t.hidden=i[n].hidden);i[n].baseType&&(t.baseType=i[n].baseType)}if($.isNull(i[n].data)==!1)for(r=0,u=i[n].data.length;r<u;r++)f=i[n].data,t.data[r]=$.extend(t.data[r],f[r])}return t}var h=widget.generator,r=h.control(),f=ecount.resource,i=t._initGeneratorOptions,e,o,s;n.addControl(u("acctNoT",r.define("widget.code.bankAccountInOut","acctNoT","ACCT_NO_T").setOptions({callback:this.toggleSubItem.bind(this)}).end()));n.addControl(r.define("widget.label.combineView","combineView","combineView").userData(this._viewModeWidget).label(["",""]).setOptions({onClick:this.onViewModeClick.bind(this)}).end());n.addControl(u("bondDebitNo",r.define("widget.input.general","bondDebitNo","BONDDEBIT_NO").setAddonTitle(f.LBL01783).setAddonOptions({css:"text-left"}).setOptions({_isParentSpanTarget:!0}).multiLine().end()));n.addControl(u("dueDate",r.define("widget.date","dueDate","DUE_DATE").setAddonTitle(f.LBL01083).setAddonOptions({css:"text-left"}).setOptions({_isParentSpanTarget:!0}).multiLine().useSlipDate(!1).end()));e=r.define("widget.link","manage","MANAGE").label(f.LBL00592);["A","B","D","N","X"].contains(ecount.config.inventory.USE_NUM)==!0&&e.hide();n.addControl(u("manage",e.end()));o=r.define("widget.link","projection","PROJECTION").label(f.BTN00441);s=["Y","A","D","X"];(s.contains(ecount.config.inventory.USE_NUM)||ecount.config.limited.menu.USE_CASH_FLOW!=!0||ecount.config.company.MANAGE_DEBIT_NO=="X")&&o.hide();n.addControl(u("projection",o.end()))},onAfterRender:function(){this.setLabelCombineViewVisible();this.setLabelListValue();this.setViewModeChange()},setLabelCombineViewVisible:function(){for(var t=0,i=this.controlList.length,n;t<i;t++)n=this.controlList[t],n.isVisible()===!1&&this._viewModeWidget.contains(n.id)&&this.get(1).hideLabelById(n.id)},toggleSubItem:function(n,t){var i=n&&(n.messageObj||n.srcElement),r="";t?r=t:i&&i.data&&(r=i.data.GYE_CODE);switch(r){}},toggle:function(n){this.controlList[0].setValue(n.toString());this.toggleSubItem(null,n.toString())},getValue:function(){return[this.controlList[0].getValue(),]},restore:function(n){for(var i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&this.get(t).controlType!="widget.label.combineView"&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this.toggleSubItem(null,n[0].value.toString());this._editMode="V";this.setViewModeChange()},childHide:function(n,t){var i=this.controlIndex.combineView;this._editMode=="V"&&this._viewModeWidget.contains(t.id)||n&&n.apply(t);this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.controlList[i].hideLabelById(t.id);this.adjustContentsDimensions()},childShow:function(n,t){var i=this.controlIndex.combineView;this._editMode!="V"&&(n&&n.apply(t),this._viewModeWidget.contains(t.id)&&this.setAddonTitleWidthResize());this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.controlList[i].showLabelById(t.id,this._editMode!="E");this.adjustContentsDimensions()},afterChildSetValue:function(n){this._viewModeWidget.contains(n)&&this.setLabelListValue()},preChildShowError:function(){this._editMode="E";this.setViewModeChange()},preChildHideError:function(){},validate:function(){this.setViewModeChange();var n=this._super.validate.apply(this,arguments);return n.length==0?this.setViewModeChange():this._editMode="E",n},onViewModeClick:function(n){this._editMode="E";this.setViewModeChange();var t=this.controlList[n];t&&t.isVisible()&&t.isVisibleElement()&&t.setFocus(0)},setViewModeChange:function(){var n=this.controlIndex.combineView,t,i;this._editMode=="V"?(t=this.controlIndex.bondDebitNo,i=this.controlIndex.dueDate,this._editMode="C",this.controlList[n].getShowLabelList().length>1&&this.controlList[n].show(),this.controlList[t].hide(),this.controlList[i].hide(),this._editMode="V"):(this.setAddonTitleWidthResize(!0),this.controlList[n].hide());ecount.__isEventCaptureMode()&&ecount.eventLog("control.toggle",{type:"control.toggle",self:this})},setAddonTitleWidthResize:function(n){var u=this.controlIndex.combineView,i,f,t,r;for(i=n?this.controlList[u].getShowLabelList():this._viewModeWidget,f=0,t=0;t<i.length;t++)r=this.controlIndex[i[t]],n&&this.controlList[r].show();this.setAddOnTitleResize()},setLabelListValue:function(){for(var n,t,i=this.controlIndex.combineView,u=this._viewModeWidget,r=0;r<u.length;r++)if(n=u[r],n!="combineView"){t="";switch(n){case"dueDate":t=ecount.infra.getECDateFormat("date10",!1,this.controlList[this.controlIndex[n]].getDate()[0]);break;default:t=this.controlList[this.controlIndex[n]].getValue()}t?(this.controlList[i].removeClass("label-muted",n),this.controlList[i].addClass("label-light",n),this.controlList[i].setValue(t,n)):(t=this.controlList[this.controlIndex[n]].getAddonTitle(),this.controlList[i].setValue(t,n),this.controlList[i].addClass("label-muted",n),this.controlList[i].removeClass("label-light",n))}},onFocusOut:function(){var n=this.controlIndex.bondDebitNo,t=this.controlIndex.dueDate;this.controlList[n].hasError()&&this.controlList[n].hideError();this.controlList[t].hasError()&&this.controlList[t].hideError();this.setLabelListValue();this.setViewModeChange()},ON_CLICK:function(n){if(n&&n.ecPath===this.controlList[1].ecPath)this.onViewModeClick(2+n.cindex)},getFoldLayerValue:function(){var n="",t=this.get("acctNoT");return t&&(n=_.join(_.map(t.getSelectedItem(),function(n){return _.isEmpty(n.value)&&_.isEmpty(n.label)?"":String.format("[{0}]{1}",n.value,n.label)})," ")),n}},repeatType:{controlType:"widget.combine.repeatType",toolbar:null,onInitChildControl:function(n,t){function o(n){for(var i=[],t=1;t<=n;t++)i.push([t.toString(),t]);return i}function h(n){var i=t.checkedValue||0,r=n.length;return n.slice(i,r).concat(n.slice(0,i))}this.data=t.data;var c=widget.generator,r=c.control(),i=ecount.resource,u=t.id,f=t.name,e=t.data,l=h([i.LBL04602,i.LBL04596,i.LBL03132,i.LBL01680,i.LBL01161,i.LBL00777,i.LBL02890]),a=h([0,1,2,3,4,5,6]),s=o(31),v=o(12),y=o(5);s.push(["0",i.LBL01084]);this.toolbar=$('<div class="wrapper-toolbar hidden"/>');n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL02191,i.LBL10521,i.LBL02056,i.LBL00930]).value([e[0].value,e[1].value,e[2].value,e[3].value]).select(e[0].value).setChangeStateFuncName("toggleRadio")).addControl(r.define("widget.label",u+"_labelEveryYear",f+"_labelEveryYear").label(i.LBL01089).hide()).addControl(r.define("widget.select",u+"_selectMonth",f+"_selectMonth").option(v).setChangeStateFuncName("changeDaySelect").hide()).addControl(r.define("widget.label",u+"_labelFirst",f+"_labelFirst").label("").hide()).addControl(r.define("widget.select",u+"_selectWeek",f+"_selectWeek").option(y).hide()).addControl(r.define("widget.select",u+"_selectDay",f+"_selectDay").option(s).inline().hide()).addControl(r.define("widget.label",u+"_labelSecond",f+"_labelSecond").label("").hide()).addControl(r.define("widget.checkbox",u+"_checkbox",f+"_checkbox").label(l).value(a).hide())},toggleRadio:function(){var t=this.get(0).getValue(),n=ecount.resource;switch(t){case"0":this.toolbar.removeClass("hidden");this.hideAll();this.controlList[0].show();this.controlList[5].show();this.controlList[5].hideOption(this.controlList[5].getLength()-1);this.controlList[6].show();this.controlList[6].setLabel(n.LBL10517);this.setFocus(5);break;case"1":this.toolbar.removeClass("hidden");this.hideAll();this.controlList[0].show();this.controlList[4].show();this.controlList[6].show();this.controlList[6].setLabel(n.LBL10518);this.controlList[7].show();this.setFocus(4);break;case"2":this.toolbar.removeClass("hidden");this.hideAll();this.controlList[0].show();this.controlList[2].show();this.controlList[3].show();this.controlList[3].setLabel(n.LBL10519);this.controlList[5].show();this.controlList[5].showOption(this.controlList[5].getLength()-1);this.controlList[6].show();this.controlList[6].setLabel(n.LBL08864);this.setFocus(2);break;case"3":this.toolbar.removeClass("hidden");this.showAll();this.controlList[3].setLabel(n.LBL02042);this.controlList[6].setLabel(n.LBL02159);this.controlList[4].hide();this.controlList[7].hide();this.setFocus(2)}},changeDaySelect:function(){var t=this.controlList[2],n=this.controlList[5];if(this.controlList[0].getValue()=="2"&&n.getValue()=="0")switch(t.getValue()){case"1":case"3":case"5":case"7":case"8":case"10":case"12":n.setSelectedValue(31);break;case"4":case"6":case"9":case"11":n.setSelectedValue(30);break;case"2":n.setSelectedValue(28)}},ON_CLICK:function(n){n&&n.ownerKey==this.controlList[2].ecIKey&&this.changeDaySelect()}},endDate:{controlType:"widget.combine.endDate",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,i=t.data;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i[0].label,i[1].label]).value([i[0].value,i[1].value]).setChangeStateFuncName("toggleRadio")).addControl(r.define("widget.date",u+"_date",f+"_date").useSlipDate(!1).hide().multiLine()).addControl(r.define("widget.input",u+"_input",f+"_input").numericOnly(t.numericRange[0]+t.numericRange[1],t.numericRange[1]).showZeroInPoint(t._showZeroInPoint).hide().multiLine())},toggleRadio:function(n,t,i){var r=this.get(i).getValue();switch(r){case"A":this.controlList[1].show();this.controlList[2].hide();this.setFocus(1);break;case"B":this.controlList[1].hide();this.controlList[2].show();this.setFocus(1)}},setValue:function(n){for(var i,r,t=0,u=this.controlList.length;t<u;t++)r=this.get(t),i=n[t],$.isNull(i)||r.setStandardValue(i)}},accountGyeType:{controlType:"widget.combine.accountGyeType",toolbar:null,onInitChildControl:function(n,t){var a=widget.generator,i=a.control(),u=ecount.resource,c=t.id,l=t.name,f=t.selectedValue||[],r,e=[{value:"",label:u.LBL02475},{value:"AS",label:u.LBL02343},{value:"DE",label:u.LBL07517},{value:"CP",label:u.LBL07518},{value:"PL",label:u.LBL03580}],o,h,s;if(this.initData&&this.initData.result)for(o=0;o<this.initData.result.Data.length;o++)e.push({value:this.initData.result.Data[o].GYE_TYPE,label:this.initData.result.Data[o].GYE_DES});h=f&&["IN","OU"].contains(f[0])?f[0]:"";i.define("widget.radio",c+"_radio",l+"_radio");this.initData&&this.initData.config&&this.initData.config.IncomFlag!="0"?(r=[{label:u.LBL02433,value:""},{label:u.LBL01716,value:"IN"},{label:u.LBL02659,value:"OU"}],i.label([r[0].label,r[1].label,r[2].label]),i.value([r[0].value,r[1].value,r[2].value])):(r=[{label:u.LBL02433,value:""}],i.label([r[0].label]),i.value([r[0].value]));i.select(h).setChangeStateFuncName("toggleRadio").multiLine();n.addControl(i);s=[];e.forEach(function(n){s.push(n.value)});h==""&&f[0]!=""&&e.length!=f.length&&e.length-f.length>1&&(s=[],f.forEach(function(n){s.push(n)}));i.define("widget.checkbox.whole",c+"_input",l+"_input").setOptions({data:e}).multiLine();s.forEach(function(n){i.select(n)});h!=""&&i.hide();n.addControl(i)},toggleRadio:function(n,t,i){var r=this.get(i).getValue();this.controlList.length>1&&(["IN","OU"].contains(r)?this.controlList[1].hide():this.controlList[1].show())},getValue:function(){return this.makeGetValue()},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.makeGetValue().join(ecount.delimiter)},n])},makeGetValue:function(){if(this.controlList[0].getValue()==""){var n=this.controlList[1].getCheckedValue();return n.length==this.controlList[1].data.length&&n.splice(0,1),n}return[this.controlList[0].getValue()]}},detailMark:{controlType:"widget.combine.detailMark",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),o=ecount.resource,r=t.id,u=t.name,f=t.data[0];n.addControl(i.define("widget.input",r+"_input",u+"_input").value($.isNull(f)?"":f.value).setInlineIndex(0));n.addControl(i.define("widget.checkbox",r+"_checkbox",u+"_checkbox").label(o.LBL11295).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0))},toggleDisplay:function(){var t=this.get(1).getValue(),n=this.controlList[0];t===!0?(n.setValue(" "),n.setReadOnly(!0)):(n.reset(),n.setReadOnly(!1),this.setFocus(0))},serialize:function(n){return[{key:n||this.name,value:[this.controlList[0].getValue(),this.controlList[1].getValue()]}]}},invoiceGroup:{controlType:"widget.combine.invoiceGroup",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),i=ecount.resource,u=t.id,f=t.name,o=r.define("widget.checkbox",u+"_checkboxAll",f+"_checkboxAll").label([i.LBL02475]).value(["0"]).noneFlex(!0).setChangeStateFuncName("toggleAllCheckBox").setInlineIndex(0),e;t._fixedSelectedValue||o.select(["0"]);n.addControl(o);n.addControl(r.define("widget.label",u+"_label",f+"_label").label("|").noneFlex(!0).setInlineIndex(0));e=r.define("widget.checkbox",u+"_checkboxElse",f+"_checkboxElse").label([i.LBL00465,i.LBL00465+"("+i.LBL00515+")",i.LBL00486,i.LBL00486+"("+i.LBL00515+")",i.LBL01890]).value(["13","18","11","19","12"]).setChangeStateFuncName("toggleCheckBox").setInlineIndex(0);t._fixedSelectedValue||e.select(["13"],["18"],["11"],["19"],["12"]);n.addControl(e)},getValue:function(){return this.controlList[0].getValue()?["0"]:this.controlList[2].getCheckedValue()},setValue:function(n){n.length===1&&n[0]=="0"?(this.controlList[0].setCheckedValue(["0"],!0),this.controlList[2].setCheckedValue(["13","18","11","19","12"],!0)):(this.controlList[2].setStandardValue(n.map(function(n){return n.toString()})),this.controlList[2].getCheckedValue().length===5&&this.controlList[0].setCheckedValue(["0"],!0))},toggleAllCheckBox:function(){this.controlList[0].getValue()?this.controlList[2].setCheckedValue(["13","18","11","19","12"],!0):this.controlList[2].setCheckedValue(["13","18","11","19","12"],!1)},toggleCheckBox:function(){this.controlList[2].getCheckedValue().length===5?this.controlList[0].setCheckedValue(["0"],!0):this.controlList[0].setCheckedValue(["0"],!1)},serialize:function(){var n=[];return n.push({key:this.name,value:this.controlList[0].getValue()?["0"]:this.controlList[2].getCheckedValue()}),n},toggle:function(n){n[0]==null||n.length==1&&n[0]=="0"?this.controlList[0].setValue(!0):this.setValue(n)},validate:function(n,t){var i=[],r,u;if(this._executeValidateIfVisible&&!this.isVisible())return i;for(i=this.checkValidate(["required"],t),r=0,u=i.length;r<u;r++)i[r].control=this;return this.setDataRuleMessage(i),i},checkValidate:function(n,t){var i=this.serialize(),r=i[0].value.length===0?"":"OK";return ecount.validator.validate(r,n||this.dataRules,t||this.dataRulesMsg)}},comparisonPeriod:{controlType:"widget.combine.comparisonPeriod",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),i=ecount.resource,f=t.id,e=t.name,r=t.data;n.addControl(u.define("widget.radio",f+"_radio",e+"_radio").label([i.LBL02678,i.LBL01905,i.LBL05716,i.LBL01918]).value([r[0].value,r[1].value,r[2].value,r[3].value]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(u.define("widget.date",f+"_date",e+"_date").setOptions({_isMonthCalendar:!1}).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[2]?(this.show(1),this.setFocus(1)):this.hide(1)}},comparisonPeriodSet:{controlType:"widget.combine.comparisonPeriodSet",referenceDate:null,periodDate:null,onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,s=t.data,i=[];i.push={label:["","","","",""],value:["1","2","3","4","5"]};i.push={label:["","","","","",""],value:["6","7","8","9","4","5"]};n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label(i[1].label).value(i[1].value).setOptions({callback:this.toggleRadio.bind(this)}).multiLine()).addControl(r.define("widget.date",u+"_date",f+"_date").hide().setOptions({_isMonthCalendar:!1}).multiLine())},onImplementsChildControl:function(n){n.controlType=="widget.radio"&&(n._ON_CHANGE=function(t){n.callback&&n.callback(t);ecount.control.prototype._ON_CHANGE.call(n,t)})},toggleRadio:function(n,t){var i=n&&(n.target||n.srcElement),r=t||i.value;r.toString()=="4"?(this.get(1).show(),this.setFocus(1)):this.get(1).hide()},toggle:function(n){this.get(0).setValue(n.toString());this.toggleRadio(null,n.toString())},getValue:function(){if(this.referenceDate)return this.setPeriodDate(),this.periodDate[1]==null?this.periodDate[0]:this.periodDate},setValue:function(n){this.toggle(n[0]);this.get(1).setDate(n[1])},setReferenceDate:function(n){this.referenceDate=n},setPeriodDate:function(){var i=this.get(0).getValue(),r=this.findAccNum(),t,n;this.periodDate=[];this.periodDate.push(new Date);this.periodDate.push(null);switch(i){case"1":n=this.findAccNum(this.referenceDate[0])-1;this.periodDate[0]=this.makeDateType(this.accNum[n].from);this.periodDate[0].setDate(this.periodDate[0].daysInMonth());this.referenceDate[1]&&(this.periodDate[0].setDate(1),this.periodDate[1]=this.makeDateType(this.accNum[n].to),this.periodDate[1].setDate(this.periodDate[1].daysInMonth()));break;case"2":this.periodDate[0]=this.referenceDate[0];this.periodDate[0].setDate(this.periodDate[0].daysInMonth());this.periodDate[0].setYear(this.periodDate[0].getYear()-1);this.referenceDate[1]&&(this.periodDate[0].setDate(1),this.periodDate[1]=this.referenceDate[1],this.periodDate[1].setYear(this.periodDate[1].getYear()-1),this.periodDate[1].setDate(this.periodDate[1].daysInMonth()));break;case"3":t=new Date;n=this.findAccNum(t);this.periodDate[0]=this.makeDateType(this.accNum[n].from);this.periodDate[0].setDate(this.periodDate[0].daysInMonth());this.referenceDate[1]&&(this.periodDate[0].setDate(1),this.periodDate[1]=new Date,this.periodDate[1].setDate(this.periodDate[1].daysInMonth()));break;case"4":this.periodDate=this.get(1).getDate();break;case"5":this.periodDate=null;break;case"6":this.periodDate[0].setDate(this.referenceDate[0].getDate()-1);this.referenceDate[1]&&this.periodDate[1].setDate(this.referenceDate[1].getDate()-1);break;case"7":this.periodDate[0].setDate(this.referenceDate[0].getDate()-7);this.referenceDate[1]&&this.periodDate[1].setDate(this.referenceDate[1].getDate()-7);break;case"8":this.periodDate[0].setMonth(this.referenceDate[0].getMonth()-1);this.referenceDate[1]&&this.periodDate[1].setMonth(this.referenceDate[1].getMonth()-1);break;case"9":this.periodDate[0].setYear(this.referenceDate[0].getYear()-1);this.referenceDate[1]&&this.periodDate[1].setYear(this.referenceDate[1].getYear()-1)}},findAccNum:function(n){for(var t;t<this.accNum.length;t++)if(this.accNum[t].from<=n&&this.accNum[t].to>=n)return t},makeDateType:function(n){for(var r=0,i,u=new Date,t=0,f=(n.length-2)/2;t<f;t++)i=t==0?4:2,t==0?u.setYear(n.substr(r,i)):t==1?u.setMonth(n.substr(r,i)-1):t==2&&u.setDate(n.substr(r,i)),r+=i;return u}},baseCompareDate:{controlType:"widget.combine.baseCompareDate",radioValue:[["1","2","3","4","8","0"],["5","6","7","8","0"]],radioLabel:[[ecount.resource.LBL08414,ecount.resource.LBL08413,ecount.resource.LBL08412,ecount.resource.LBL08411,ecount.resource.LBL05716,ecount.resource.LBL01918],[ecount.resource.LBL02678,ecount.resource.LBL01905,ecount.resource.LBL01913,ecount.resource.LBL05716,ecount.resource.LBL01918]],onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),h=ecount.resource,u=t.id,c=t.name,l=t.data;this.typeNumber=this._getConvertibleRadioType(t);var i=this._isNotMonthCalendar(t)?!1:!0,o=this.typeNumber==0?"RPT_GUBUN":"PERIOD_TYPE",s=this._isNotMonthCalendar(t)?"BASE_MONTH_PREV":"BASE_PREV",f=this.initData.config;n.addControl(r.define(this._getDateControlType(t,0),u+"_date","BASE_DATE").setOptions({_isMonthCalendar:i,_isLastDay:!i}).select(f.baseDateFrom,f.baseDateTo).setChangeStateFuncName("changeBaseDate").setInlineIndex(0));n.addControl(r.define("widget.combine.convertible",u+"_radio",o).label(this.radioLabel[this.typeNumber]).value(this.radioValue[this.typeNumber]).setChangeStateFuncName("toggleRadio").setInlineIndex(1));n.addControl(r.define(this._getDateControlType(t,2),u+"_date2",s).setOptions({_isMonthCalendar:i,_isLastDay:!i}).hide().setInlineIndex(2));this._fixedSelectedValue||(this._fixedSelectedValue=[null,this.typeNumber?"5":"1",null])},_getDateControlType:function(n){return n.isSingleDate===!0?"widget.date":"widget.multiDate"},_getConvertibleRadioType:function(n){return n.typeNumber==undefined?0:n.typeNumber},_isNotMonthCalendar:function(n){return n._isMonthCalendar===!1},changeBaseDate:function(){var n=this.get(1).getValue();n!=8&&this.setPrevDate(n)},getDateControl:function(){return this.get(0)},toggleRadio:function(){var n=this.get(1).getValue();n=="8"?this.get(2).show():this.get(2).hide();this.setPrevDate(n)},extract:function(){var n=this._super.extract.call(this);return n.typeNumber=this.typeNumber,n.initData=this.initData,n._isMonthCalendar=this._isMonthCalendar,n},setPrevDate:function(n){var g=n,t=this.get(0).getDate(),i,r,s,h,l,y,p,w,b,k,nt,tt,f,o,d,c,e;console.log(": "+t[0].format("yyyy MM dd"));l=[];this.initData.result&&this.initData.result.Data&&this.initData.result.Data.length>0&&(l=this.initData.result.Data);g>4&&(t.length==1?(h=t[0].format("yyyyMM"),s=t[0].format("yyyyMM")):(h=t[0].format("yyyyMM"),s=t[1].format("yyyyMM")));switch(g){case"1":y=t[0].getDate();i=t[0].setDate(y-1);i=new Date(i).format("yyyyMMdd");p=t[1].getDate();r=t[1].setDate(p-1);r=new Date(r).format("yyyyMMdd");break;case"2":y=t[0].getDate();i=t[0].setDate(y-7);i=new Date(i).format("yyyyMMdd");p=t[1].getDate();r=t[1].setDate(p-7);r=new Date(r).format("yyyyMMdd");break;case"3":w=new Date(t[0].getYear(),t[0].getMonth()+1,0).getDate();b=new Date(t[0].getYear(),t[0].getMonth(),0).getDate();w==t[0].getDate()||b<t[0].getDate()?(i=t[0].setDate(0),i=new Date(i).format("yyyyMMdd")):(k=t[0].getMonth(),i=t[0].setMonth(k-1),i=new Date(i).format("yyyyMMdd"));w=new Date(t[1].getYear(),t[1].getMonth()+1,0).getDate();b=new Date(t[1].getYear(),t[1].getMonth(),0).getDate();w==t[1].getDate()||b<t[1].getDate()?(r=t[1].setDate(0),r=new Date(r).format("yyyyMMdd")):(k=t[1].getMonth(),r=t[1].setMonth(k-1),r=new Date(r).format("yyyyMMdd"));break;case"4":nt=t[0].getFullYear();i=t[0].setYear(nt-1);i=new Date(i).format("yyyyMMdd");tt=t[1].getFullYear();r=t[1].setYear(tt-1);r=new Date(r).format("yyyyMMdd");break;case"5":var u=new Date(parseInt(h.substr(0,4)),parseInt(h.substr(4,2))-1,1),f=u.format("yyyyMM"),o=l.where(function(n){return n.DATE_T<f});o&&o.length>0&&(i=o[o.length-1].Key.DATE_F,r=o[o.length-1].DATE_T,this.isSingleDate&&(i=o[o.length-1].DATE_T));$.isEmpty(i)&&(u=u.addYears(-1),i=u.format("yyyyMM"),this.isSingleDate&&(i=u.format("yyyy")+"12"));$.isEmpty(r)&&(u=new Date(parseInt(s.substr(0,4)),parseInt(s.substr(4,2))-1,1),u=u.addYears(-1),r=u.format("yyyyMM"));break;case"6":var a=parseInt(h.substr(0,4)),v=parseInt(h.substr(4,2)),u=new Date(a,v,1);for(e=1;e<25;e++)if(u=u.addMonths(-e),f=u.format("yyyyMM"),o=l.where(function(n,t){return n.USER_PHASE!="0"&&(t==0&&parseInt(n.Key.DATE_F)>parseInt(f)||parseInt(n.Key.DATE_F)<=parseInt(f)&&parseInt(n.DATE_T)>=parseInt(f))}),o.length>0&&(i=(parseInt(f.substr(0,4))-1).toString()+f.substr(4,2)),!$.isEmpty(i))break;for($.isEmpty(i)&&(u=new Date(a,v-1,1).addYears(-1),i=u.format("yyyyMM")),a=parseInt(s.substr(0,4)),v=parseInt(s.substr(4,2)),u=new Date(a,v,1),e=1;e<25;e++)if(u=u.addMonths(-e),f=u.format("yyyyMM"),o=l.where(function(n,t){return n.USER_PHASE!="0"&&(t==0&&parseInt(n.Key.DATE_F)>parseInt(f)||parseInt(n.Key.DATE_F)<=parseInt(f)&&parseInt(n.DATE_T)>=parseInt(f))}),o.length>0&&(r=(parseInt(f.substr(0,4))-1).toString()+f.substr(4,2)),!$.isEmpty(r))break;$.isEmpty(r)&&(u=new Date(a,v-1,1).addYears(-1),r=u.format("yyyyMM"));break;case"7":for(d=this.initData.result.Data,c=(new Date).format("yyyyMM"),e=0;e<d.length;e++)if(phaseFrom=d[e].Key.DATE_F,phaseTo=d[e].DATE_T,c>=phaseFrom&&c<=phaseTo){this.isSingleDate?(i=c,r=c):(i=phaseFrom,r=c);break}break;case"8":if(this.isReset)return;i=t[0]&&t[0].format("yyyyMMdd");r=t[1]&&t[1].format("yyyyMMdd")}g!="0"&&(i.length==6?(i=i&&new Date(i.substring(0,4),i.substring(4,6)-1,"01"),r=r&&new Date(r.substring(0,4),r.substring(4,6)-1,"01")):(i=i&&new Date(i.substring(0,4),i.substring(4,6)-1,i.substring(6,8)),r=r&&new Date(r.substring(0,4),r.substring(4,6)-1,r.substring(6,8))),this.get(2).setDate([i,r]))}},radioRate:{controlType:"widget.combine.radioRate",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,i=t.data;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i[0].label,i[1].label]).value([i[0].value,i[1].value]).setOptions(this._getFormTableIndex(t)).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0));n.addControl(r.define("widget.input",u+"_input",f+"_input").numericOnly(t.numericRange[0]+t.numericRange[1],t.numericRange[1]).value([i[2]&&i[2].value?i[2].value:""]).setOptions(this._getFormTableIndex(t)).showZeroInPoint(t._showZeroInPoint).hide().setInlineIndex(0).dataRules($.isEmpty(t.dataRules)?null:t.dataRules));n.addControl(r.define("widget.label",u+"_label",f+"_label").label(t._noSubLabel?"":"%").hide().noneFlex(!0).setInlineIndex(0))},toggleDisplay:function(){var n=this.get(0).getValue().toString(),t=this.getValueOrigin(0);n==t[0]?(this.hide(1),this.hide(2)):(this.show(1),this.show(2),this.setFocus(1))},setValue:function(n){this.controlList[0].setValue(n[0].toString());$.isEmpty(n[1])||this.controlList[1].setValue(n[1])},getValue:function(){return[this.controlList[0].getValue(),this.controlList[1].getValue()]}},radioLink:{controlType:"widget.combine.radioLink",ctrlIndex:0,onInitChildControl:function(n,t){var l=widget.generator,u=l.control(),h=ecount.resource,r=t.id,f=t.name,c=t.data,e=t.isCustomId,o,i,a=t._multiLine,s=0;this.isUserProp=t.isUserProp;this.ctrlIndex=_.isNil(t.subLinkLabel)?0:1;o=u.define("widget.radio",e?e:r+"_radio",e?e:f+"_radio").label(this.toGeneratorOption(c,"label")).value(this.toGeneratorOption(c,"value")).setAddonTitle(t._addonTitle?t._addonTitle[0]:null).setChangeStateFuncName("toggleRadio").setOptions({inlineDividerPos:t.inlineDivider}).setInlineIndex(0);t.isVertical?o.setVertical():o.noneFlex(!0);n.addControl(o);(a||t.isVertical)&&(s=1);i=u.define("widget.link",r+"_link",f+"_link").label(t.linkLabel||h.BTN00168).css("position-relative").setAddonTitle(t._addonTitle?t._addonTitle[1]:null).noneFlex(!0).setInlineIndex(s);t._useTableRowIndex&&(modifyID=r.split("_"),modifyID.pop(),modifyID=modifyID.join("_"),i.setOptions(this._getFormTableIndex(t,t.originControlID,modifyID)));t.linkDropdown&&i.hasDropdown(t.linkDropdown);n.addControl(i.hide());this.ctrlIndex==1&&(i=u.define("widget.link",r+"_subLink",f+"_subLink").label(t.subLinkLabel||h.LBL20026).css("position-relative").noneFlex(!0).setInlineIndex(s),n.addControl(i));n.addControl(u.define("widget.label",r+"_label",f+"_label").setInlineIndex(s))},toggleRadio:function(){var n=this.get(0).getValue(),t=this.get(0).data[this.get(0).data.length-1].value;n==t?(this.controlList[1].show(),this.isVertical&&this.controlList[2+this.ctrlIndex].show(),this.setFocus(1)):(this.controlList[1].hide(),this.isVertical&&this.controlList[2+this.ctrlIndex].hide())},addLinkClass:function(n,t){t=_.isNumber(t)?t:1;this.get(t).changeCss(this.get(t)._addClass(n))},removeLinkClass:function(n,t){t=_.isNumber(t)?t:1;this.get(t).changeCss(this.get(t)._removeClass(n))},getValue:function(){return[this.controlList[0].getValue()]},dropdownRemoveItem:function(n,t){var i=_.isNumber(t)?t:1;this.get(i).removeDropdownItem(n)},dropdownAddItems:function(n,t){var i=_.isNumber(t)?t:1;this.get(i).addDropdownItem(n)},getDropdownItemList:function(){return this.get(1).getDropdownItem()},serialize:function(){for(var n,i=[],t=0;t<this.controlList.length;t++)n=this.controlList[t].serialize(),n&&n.value.length>0?i.push(n):this._super.serialize.apply(this,arguments);return i},ON_CLICK:function(n,t,i,r){r.isUserProp=this.isUserProp}},inputLabel:{controlType:"widget.combine.inputLabel",onInitChildControl:function(n,t){var a=widget.generator,r=a.control(),v=ecount.resource,u=t.id,f=t.name,i=t._subOptions||{},e=t.data;if(t.numericOnly){var o=t.numericRange[0]+t.numericRange[1],s=t.numericRange[1],h=t.numericMsg,c=t._useNumericRequired,l=t._isPositiveInteger;t.__filter?n.addControl(r.define("widget.input",i.id?i.id[0]:u+"_radio",i.name?i.name[0]:f+"_radio").setAddonTitle(i.addonTitle?i.addonTitle[0]:t._addonTitle).dataRules(t.dataRules?t.dataRules:null,t.dataRulesMsg?t.dataRulesMsg:null).numericOnly(o,s,h,c,l).filter(t.__filter[0].type,{message:t.__filter[0].message,max:t.__filter[0].max}).maxLength(t.maxLength).value(this.toGeneratorOption(e,"value"))):n.addControl(r.define("widget.input",i.id?i.id[0]:u+"_radio",i.name?i.name[0]:f+"_radio").setAddonTitle(i.addonTitle?i.addonTitle[0]:t._addonTitle).dataRules(t.dataRules?t.dataRules:null,t.dataRulesMsg?t.dataRulesMsg:null).numericOnly(o,s,h,c,l).maxLength(t.maxLength).value(this.toGeneratorOption(e,"value")))}else t.__filter?n.addControl(r.define("widget.input",i.id?i.id[0]:u+"_radio",i.name?i.name[0]:f+"_radio").setAddonTitle(i.addonTitle?i.addonTitle[0]:t._addonTitle).dataRules(t.dataRules?t.dataRules:null,t.dataRulesMsg?t.dataRulesMsg:null).filter(t.__filter[0].type,{message:t.__filter[0].message,max:t.__filter[0].max}).maxLength(t.maxLength).value(this.toGeneratorOption(e,"value"))):n.addControl(r.define("widget.input",i.id?i.id[0]:u+"_radio",i.name?i.name[0]:f+"_radio").setAddonTitle(i.addonTitle?i.addonTitle[0]:t._addonTitle).dataRules(t.dataRules?t.dataRules:null,t.dataRulesMsg?t.dataRulesMsg:null).maxLength(t.maxLength).value(this.toGeneratorOption(e,"value")));n.addControl(r.define("widget.label",u+"_label",f+"_label").label(this.toGeneratorOption(e,"label")[0]||v.LBL07703));n.inline()},getValue:function(){return this.controlList[0].getValue()},setValue:function(n){this.controlList[0].setValue(n)}},inputLink:{controlType:"widget.combine.inputLink",onInitChildControl:function(n,t){var h=widget.generator,u=h.control(),c=ecount.resource,f=t.id,e=t.name,o=t.data,s=["position-relative"],i,r;t.linkCss&&s.push(t.linkCss);i=u.define("widget.input",f+"_input",e+"_input").value(o[0]?[o[0].value]:"").setInlineIndex(0);t.__filter&&i.filter(t.__filter[0].type,t.__filter[0]);t.numericOnly&&i.numericOnly(t.numericRange[0],t.numericRange[1],t.numericMsg,t._useNumericRequired,t._isPositiveInteger);t.maxLength&&i.maxLength(t.maxLength);n.addControl(i);r=u.define("widget.link",f+"_link",e+"_link").label(t.linkLabel||c.BTN00070).css(s.join(" ")).setInlineIndex(0);t.linkCommand&&r.setCommand(t.linkCommand);n.addControl(r)},getValue:function(){return this.controlList[0].getValue()},setValue:function(n){this.controlList[0].setValue(n)},addLinkClass:function(n){this.get(1).changeCss(this.get(1)._addClass(n))},removeLinkClass:function(n){this.get(1).changeCss(this.get(1)._removeClass(n))}},inputProd:{controlType:"widget.combine.inputProd",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),r=t.id;this.typeNumber=t.typeNumber==undefined?1:t.typeNumber;var c=t.maxlength||[10,1,10],l=t.readOnlyIndex==undefined?2:t.readOnlyIndex,e=t.maxbyte||{message:String.format(ecount.resource.MSG00297,"10","20"),max:20},o=t.dropdownOptions||[{id:"prodDupCheck",label:ecount.resource.BTN00236}],s=t.filterType||"maxbyte",i=$.isArray(t.containsTypes)?t.containsTypes:[],u={};i.length>0&&!$.isEmpty(i[0])&&(u={containsType:i[0]});n.addControl(f.define("widget.input",r+"_input",r+"_input").filter(s,e).hasFn(o).dataRules(["required"],ecount.resource.MSG00629).setOptions(_.merge({hidden:this.typeNumber==1?!0:!1},u)));u=i.length>0&&!$.isEmpty(i[1])?{containsType:i[1]}:{};n.addControl(f.define("widget.input.prod",r+"_input2",r+"_input2").filter(s,e).hasFn(o).setOptions(_.merge({_maxlength:c,readOnlyIndex:l,hidden:this.typeNumber==2?!0:!1},u)));this._fixedSelectedValue=this._fixedSelectedValue||[]},toggle:function(n){this.setValue(n);this.hasFn=!1;this.changeType(this.typeNumber)},getValue:function(){return this.controlList[this.typeNumber==1?1:0].getValue()},setValue:function(n,t){var t,i;this.controlList[this.typeNumber==1?1:0].setValue(n);t=$.isNull(t)?!0:t;t&&(i={syncHandler:this.setValue,cid:this.id,__self:this,targetID:this.id,isCombine:!0,args:[n,!1]},this.delegator&&this.delegator.triggerEvent("control.change",i))},serialize:function(){return{key:this.name,value:this.controlList[this.typeNumber==1?1:0].getValue()}},changeType:function(n,t){var t,i;this.hideAll();t=$.isNull(t)?!0:t;n=="1"?(this.get(1).show(),this.typeNumber=1):(this.get(0).show(),this.typeNumber=2);t&&(i={syncHandler:this.changeType,cid:this.id,__self:this,targetID:this.id,isCombine:!0,args:[n,!1]},this.delegator&&this.delegator.triggerEvent("control.change",i))},setMaxByte:function(n,t){this.get(this.typeNumber==1?1:0).setMaxByte(n,t)},setContainsTypes:function(n){$.isArray(n)&&($.isEmpty(n[0])||this.get(0).setState(this._IT_SELF,"validate.containstype",n[0]),$.isEmpty(n[1])||this.get(1).setState(this._IT_SELF,"validate.containstype",n[1]))},getContainsTypes:function(){return[this.get(0)._getContainsType(),this.get(1)._getContainsType()]}},textareaLink:{controlType:"widget.combine.textareaLink",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),o=ecount.resource,r=t.id,u=t.name,f=t.data;n.addControl(i.define("widget.textarea",r+"_textarea",u+"_textarea").maxLength(t.maxLength).filter(t.__filter[0].type,t.__filter[0]).value(f[0]?[f[0].value]:"").setInlineIndex(0));n.addControl(i.define("widget.link",r+"_link",u+"_link").label(o.BTN00070).css("position-relative").noneFlex(!0).setInlineIndex(0))},getValue:function(){return this.controlList[0].getValue()},setValue:function(n){this.controlList[0].setValue(n)}},radioInputMultidate:{controlType:"widget.combine.radioInputMultidate",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,i=t.data;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i[0].label,i[1].label,i[2].label]).value([i[0].value,i[1].value,i[2].value]).setChangeStateFuncName("toggleDisplay").select(i[0].value).setInlineIndex(0));n.addControl(r.define("widget.input",u+"_input",f+"_input").setOptions({isNotChangeWidth:!0}).numericOnly(t.numericRange[0]+t.numericRange[1],t.numericRange[1]).showZeroInPoint(t._showZeroInPoint).hide().noneFlex(!0).setInlineIndex(1));n.addControl(r.define("widget.label",u+"_label",f+"_label").hide().noneFlex(!0).setInlineIndex(1));n.addControl(r.define("widget.multiDate",u+"_multiDate",f+"_multiDate").hide().setInlineIndex(1))},toggleDisplay:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);switch(t){case n[0].toString():this.hide(1);this.hide(2);this.hide(3);this.controlList[2].setLabel("");break;case n[1].toString():this.show(1);this.show(2);this.show(3);this.controlList[2].setLabel(ecount.resource.LBL09480);this.setFocus(1);break;case n[2].toString():this.show(1);this.show(2);this.show(3);this.controlList[2].setLabel("%");this.setFocus(1)}}},radioIncomeCode:{controlType:"widget.combine.radioIncomeCode",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),o=ecount.resource,r=t.id,u=t.name,s=t.data,f=t.popupSetting;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label(["",""]).value(["0","1"]).select("0").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.multiCode.inPersonPayroll",r+"_multiCode1",u+"_multiCode1").hide().setAddonTitle("").setOptions(f[0]).setInlineIndex(1));n.addControl(i.define("widget.multiCode.inPersonRetire",r+"_multiCode2",u+"_multiCode2").hide().setAddonTitle("").setOptions(f[1]).setInlineIndex(2));n.addControl(i.define("widget.multiCode.inPersonDayWorkerPayroll",r+"_multiCode3",u+"_multiCode3").hide().setAddonTitle("").setOptions(f[2]).setInlineIndex(3));n.addControl(i.define("widget.multiCode.inPersonRetire",r+"_multiCode4",u+"_multiCode4").hide().setAddonTitle("").setOptions(f[1]).setInlineIndex(4));n.addControl(i.define("widget.multiCode.inPersonIncomeByType",r+"_multiCode5",u+"_multiCode5").hide().setAddonTitle("").setOptions(f[3]).setInlineIndex(5));n.addControl(i.define("widget.multiCode.inPersonIncomeByType",r+"_multiCode6",u+"_multiCode6").hide().setAddonTitle("").setOptions(f[3]).setInlineIndex(6));n.addControl(i.define("widget.multiCode.inPersonIncomeByType",r+"_multiCode7",u+"_multiCode7").hide().setAddonTitle("").setOptions(f[3]).setInlineIndex(7));n.addControl(i.define("widget.multiCode.inPersonIncomeByType",r+"_multiCode8",u+"_multiCode8").hide().setAddonTitle("").setOptions(f[3]).setInlineIndex(8));n.addControl(i.define("widget.multiCode.inPersonIncomeByType",r+"_multiCode9",u+"_multiCode9").hide().setAddonTitle("").setOptions(f[3]).setInlineIndex(9))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.callback&&this.callback();t||n==["0","1"][1]?this.showAll():(this.hideAll(),this.get(0).show())},setValueOnChange:function(n){this.get(0).setValue(0,n,!0)}},radioDeclarationCode:{controlType:"widget.combine.radioDeclarationCode",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),o=ecount.resource,r=t.id,u=t.name,s=t.data,e=t.popupSetting;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label([" ",""]).value(["0","1"]).select("0").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.multiCode.inPersonWithHoldingTax",r+"_multiCode1",u+"_multiCode1").setAddonTitle("( - )").setOptions(e).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.callback&&this.callback();t||n==["0","1"][1]?this.showAll():(this.hideAll(),this.get(0).show())},setValue:function(n){this.get(0).setValue(n[0]);n[1]&&this.get(1).addCodes(n[1])},setValueOnChange:function(n){this.get(0).setValue(0,n,!0)}},addupBalance:{controlType:"widget.combine.addupBalance",onInitChildControl:function(n,t){var h=widget.generator,e=h.control(),r=ecount.resource,o=t.id,s=t.name,i=t.data,u=[],f=[];ecount.config.company.USE_ACC102_SITE=="1"&&(u.push(r.LBL12153),f.push(i[3].value));ecount.config.company.USE_ACC102_PJT=="1"&&(u.push(r.LBL12154),f.push(i[4].value));u.length==0&&(this.hideCheckbox=!0);n.addControl(e.define("widget.radio",o+"_radio",s+"_radio").label([r.LBL12655,r.LBL00363]).value([i[0].value,i[1].value]).select(i[0].value).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(e.define("widget.checkbox",o+"_checkbox",s+"_checkbox").label(u).value(f).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[0]||this.hideCheckbox?this.get(1).hide():this.get(1).show()},getValue:function(n){var i=[],t=[],r=this.getValueOrigin(1),u=this.get(1).getCheckedValue();return i.push(this.get(0).getValue()),u.contains(r[0]&&r[0].toString())?t.push("4"):t.push(""),u.contains(r[1]&&r[1].toString())?t.push("5"):t.push(""),i.push(t),$.isNumber(n)?i[n]:i},setValue:function(n){for(var i,u,t=0,r=this.controlList.length;t<r;t++)i=this.get(t),i.controlType=="widget.checkbox"?i.setStandardValue(n[t]):i.setValue(n[t]);this.account==!1&&(u=this.getValueOrigin(0),this.get(0).hideCompByValue([u[1]]))}},aggreWithdraw:{controlType:"widget.combine.aggreWithdraw",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,f=t.name,i=t.data,o=$.extend(!0,{},t._uploaderConfig||{});n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i[0].label,i[1].label]).value([i[0].value,i[1].value]).setChangeStateFuncName("toggleRadio").setInlineIndex(0));n.addControl(r.define("widget.label",u+"_label",f+"_label").hide().setInlineIndex(1));n.addControl(r.define("widget.combine.fileGroup","attachment","attachment").setCallbackFunction(t._callback).setGroups({id:"print",name:i[2].label},{id:"file",name:i[3].label}).setReferenceConfig("print","COMMONLINK",function(){}).setMaxCount(["file",1]).setUploaderConfig("file",$.extend(!0,{isGMC:!0,url:"/Admin/BankAccountCMS/SaveCMSAgreeFile",dragdrop:!0,extensions:"jpg,jpeg,gif,tif",prevent_duplicates:!1,multi_selection:!1,autostart:!1,max_file_size:plupload.parseSize("20mb"),tot_size_lmt:{size:"20000",flag:!1},com_storage_size:{size:"100000000",flag:!0},use_storage_size:{size:"100"}},o)).setOptions({_storageSizeCheckPassFlag:!0,isNoLayer:!0}).hide().setInlineIndex(2))},toggleRadio:function(){var n=this.get(0).getValue(),t=this.toGeneratorOption(this.get(0).data,"value");n==t[0]?(this.get(1).setLabel("<div class=\"wrapper-article\">     <span class='text-danger'> <\/span> <span class='text-danger'>[CMS] <\/span>.<\/div>"),this.get(1).show(),this.get(2).hide()):n==t[1]&&(this.get(1).setLabel("<ol class=\"wrapper-article\"><li>''   'CMS  ' <span class='text-danger'><\/span>.<\/li><li>       <span class='text-danger'>   ,  <\/span>.<ul><li> <span class='text-danger'><\/span>   .<ul><li>    , ''   [CMS]  . (   : jpg, jpeg, gif, tif)<\/li><li>   , [ 010-7509-7532 ] .\t<\/li><li>  [ 02-584-3396 ] (fax).<\/li><\/ul><\/li><\/ul><\/li><\/ol>"),this.get(1).show(),this.get(2).show())},setValue:function(n){this.get(0).setValue(n)},setValueDontToggle:function(n){this.setChangeStateFuncCallFlag(!1);this.get(0).setValue(n);this.setChangeStateFuncCallFlag(!0)}},accountGyeType:{controlType:"widget.combine.accountGyeType",toolbar:null,onInitChildControl:function(n,t){var a=widget.generator,i=a.control(),u=ecount.resource,c=t.id,l=t.name,f=t.selectedValue||[],r,e=[{value:"",label:u.LBL02475},{value:"AS",label:u.LBL02343},{value:"DE",label:u.LBL07517},{value:"CP",label:u.LBL07518},{value:"PL",label:u.LBL03580}],o,h,s;if(this.initData&&this.initData.result)for(o=0;o<this.initData.result.Data.length;o++)e.push({value:this.initData.result.Data[o].GYE_TYPE,label:this.initData.result.Data[o].GYE_DES});h=f&&["IN","OU"].contains(f[0])?f[0]:"";i.define("widget.radio",c+"_radio",l+"_radio");this.initData&&this.initData.config&&this.initData.config.IncomFlag!="0"?(r=[{label:u.LBL02433,value:""},{label:u.LBL01716,value:"IN"},{label:u.LBL02659,value:"OU"}],i.label([r[0].label,r[1].label,r[2].label]),i.value([r[0].value,r[1].value,r[2].value])):(r=[{label:u.LBL02433,value:""}],i.label([r[0].label]),i.value([r[0].value]));i.select(h).setChangeStateFuncName("toggleRadio").multiLine();n.addControl(i);s=[];e.forEach(function(n){s.push(n.value)});h==""&&f[0]!=""&&e.length!=f.length&&e.length-f.length>1&&(s=[],f.forEach(function(n){s.push(n)}));i.define("widget.checkbox.whole",c+"_input",l+"_input").setOptions({data:e}).multiLine();s.forEach(function(n){i.select(n)});h!=""&&i.hide();n.addControl(i)},toggleRadio:function(n,t,i){var r=this.get(i).getValue();this.controlList.length>1&&(["IN","OU"].contains(r)?this.controlList[1].hide():this.controlList[1].show())},getValue:function(){return this.makeGetValue()},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.makeGetValue().join(ecount.delimiter)},n])},makeGetValue:function(){if(this.controlList[0].getValue()==""){var n=this.controlList[1].getCheckedValue();return n.length==this.controlList[1].data.length&&n.splice(0,1),n}return[this.controlList[0].getValue()]}},radioSelectMultiLine:{controlType:"widget.combine.radioSelectMultiLine",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),l=ecount.resource,u=t.id,f=t.name,e=t.data,h=t.selectType||"widget.select",c=t._defaultOptions||{},i,o;radioLabel=t.radioLabel||"";i=t.radioLabelCss||"";n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label(this.toGeneratorOption(e,"label")).value(this.toGeneratorOption(e,"value")).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0));_.isEmpty(radioLabel)||(i=i||"",o='<div class="control"><span class="'+i+'">'+radioLabel+"<\/span><\/div>",this.setCutInControlsTag([{index:0,html:o}]));n.addControl(r.define(h,u+"_select",f+"_select").defaultOptions(c).css(t.css?t.css:"").hide().setInlineIndex(1))},toggleDisplay:function(){var t=this.get(0).getValue(),i=this.getValueOrigin(0),n;if(this.disableToggle)n=this.selectOption[t],this.get(1).isVisible()||this.get(1).show(),$.isArray(n)||(n=[]),this.get(1).removeOption(),this.get(1).addOption(n);else switch(t.toString()){case i[0]:this.get(1).hide();break;case i[1]:this.get(1).show()}}},radioSelect:{controlType:"widget.combine.radioSelect",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,i=t.data;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i[0].label,i[1].label,i[2].label]).value([i[0].value,i[1].value,i[2].value]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.select",u+"_selectPrice",f+"_selectPrice").option(i[0].option[0]).hide().setInlineIndex(1));n.addControl(r.define("widget.select",u+"_selectRate",f+"_selectRate").option(i[0].option[1]).hide().setInlineIndex(2))},toggleDisplay:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);switch(t){case n[0].toString():this.hideAll();this.controlList[0].show();break;case n[1].toString():this.controlList[1].show();this.controlList[2].hide();this.setFocus(1);break;case n[2].toString():this.controlList[1].hide();this.controlList[2].show();this.setFocus(2)}},getValue:function(){return[this.controlList[0].getValue(),this.controlList[1].isVisible()?this.controlList[1].getSelectedItem():this.controlList[2].getSelectedItem()]},setValue:function(n){this.controlList[0].setValue(n[0]);this.controlList[1].isVisible()?this.controlList[1].setStandardValue(n[1]):this.controlList[2].setStandardValue(n[1])}},radioSingleCode:{controlType:"widget.combine.radioSingleCode",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),s=ecount.resource,u=t.id,f=t.name,i=t.data,o=t.codeTypeName||"wh";n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i[0].label,i[1].label]).value([i[0].value,i[1].value]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.code."+o,u+"_code",f+"_code").codeType(t.codeType).setAddonTitle(t._addonTitle||null).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[1]?(this.controlList[1].show(),this.setFocus(1)):n==t[0]&&this.controlList[1].hide()}},radioMultiCode:{controlType:"widget.combine.radioMultiCode",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),s=ecount.resource,r=t.id,u=t.name,f=t.data,o=t.codeTypeName||"wh";n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label(this.toGeneratorOption(f,"label")).value(this.toGeneratorOption(f,"value")).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.multiCode."+o,r+"_multiCode",u+"_multiCode").setAddonTitle(t._addonTitle||null).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[1]?this.show(1):n==t[0]&&(this.hide(1),this.get(1).reset())}},radioInputCode:{controlType:"widget.combine.radioInputCode",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),s=ecount.resource,r=t.id,u=t.name,f=t.data,o=t.codeTypeName||"code.wh";t.hasFn=!1;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label(this.toGeneratorOption(f,"label")).value(this.toGeneratorOption(f,"value")).setChangeStateFuncName("toggleDisplay").setOptions(this._getFormTableIndex(t,t.originControlID)).setInlineIndex(0));n.addControl(i.define("widget.input.codeName",r+"_input",u+"_input").dataRules(t.dataRules,t.dataRulesMsg).maxLength(t.maxLength).hide().setOptions(this._getFormTableIndex(t,t.originControlID)).setInlineIndex(1));n.addControl(i.define("widget."+o,r+"_code",u+"_code").codeType(t.codeType).setOptions({_enableDirectInput:t._enableDirectInput}).setAddonTitle(t._addonTitle||null).hasFn(t.dropdownOptions||!1).hide().setOptions(this._getFormTableIndex(t,t.originControlID)).setInlineIndex(2))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);switch(n){case t[0].toString():this.get(1).show();this.get(2).hide();break;default:this.get(2).show();this.get(1).hide()}},getValue:function(){return[this.get(0).getValue(),this.get(1).getValue(),this.get(2).getSelectedItem()]},setValue:function(n){var t=$.isArray(n)?n[0]:n;this.get(0).setValue(t);$.isArray(n)&&!$.isEmpty(n[1])&&this.get(1).setValue(n[1]);$.isArray(n)&&!$.isEmpty(n[2])&&this.get(2).addCode(n[2])}},radioDate:{controlType:"widget.combine.radioDate",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,i=t.data;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i[0].label,i[1].label]).value([i[0].value,i[1].value]).select(i[0].value).hide().noneFlex(!0).setInlineIndex(0).setChangeStateFuncName("toggleDisplay"));n.addControl(r.define("widget.date",u+"_date",f+"_date").noneFlex(!0).setInlineIndex(0))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[1]?(this.get(1).show(),this.setFocus(1)):n==t[0]&&this.get(1).hide()},showRadio:function(){this.get(0).show()},hideRadio:function(){this.get(0).hide()},setValue:function(n){$.isArray(n)||(n=[n]);this.get(0).setValue(n[0]);n[1]&&this.get(1).setDate(n[1])}},singleAndMultiCode:{controlType:"widget.combine.singleAndMultiCode",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),h=ecount.resource,r=t.id,u=t.name,c=t.data,e=t.singleCodeTypeName,o=t.singleCodeType,s=t.multiCodeTypeName;n.addControl(i.define(e,r+"_code",u+"_code").codeType(o).setOptions(t.singleCodeTypeOption).setInlineIndex(0));this.setCutInControlsTag([{index:0,value:"/"}]);n.addControl(i.define(s,r+"_multiCode",u+"_multiCode").setOptions(t.multiCodeTypeOption).setInlineIndex(0))},setContainsTypes:function(n){var t=n.singleCodeTypeOption,i=n.multiCodeTypeOption;$.isEmpty(t)||($.isEmpty(t.labelContainsType)||this.get(0).setLabelContainsType(t.labelContainsType),$.isEmpty(t.valueContainsType)||this.get(0).setValueContainsType(t.valueContainsType));$.isEmpty(i)||($.isEmpty(i.labelContainsType)||this.get(1).setLabelContainsType(i.labelContainsType),$.isEmpty(i.valueContainsType)||this.get(1).setValueContainsType(i.valueContainsType))},getContainsTypes:function(){return[this.get(0)._getContainsType(),this.get(1)._getContainsType()]}},separator:{controlType:"widget.combine.separator",onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),r=t.id,u=t.name,f=t.data,e=$.isEmpty(t.inputType)?"widget.input.codeType":"widget.input."+t.inputType;n.addControl(i.define("widget.label",r+"_label1",u+"_label1").label(f[0].label).noneFlex(!0).setInlineIndex(0));n.addControl(i.define(e,r+"_input1",u+"_input1").value(f[0].value).maxLength(1).setInlineIndex(0));n.addControl(i.define("widget.label",r+"_label2",u+"_label2").label(f[1].label).noneFlex(!0).setInlineIndex(0));n.addControl(i.define(e,r+"_input2",u+"_input2").value(f[1].value).maxLength(1).setInlineIndex(0));n.addControl(i.define("widget.label",r+"_label3",u+"_label3").label(f[2].label).noneFlex(!0).setInlineIndex(0));n.addControl(i.define(e,r+"_input3",u+"_input3").value(f[2].value).maxLength(1).setInlineIndex(0));n.addControl(i.define("widget.label",r+"_label4",u+"_label4").label(f[3].label).noneFlex(!0).setInlineIndex(0));n.addControl(i.define(e,r+"_input4",u+"_input4").value(f[3].value).maxLength(1).setInlineIndex(0))},getValue:function(){for(var i=[],n,t=0;t<this.controlList.length;t++)(n=this.get(t),n.controlType!="widget.label")&&i.push(n.getValue());return i},setValue:function(n){for(var t,i=0,r=0;i<this.controlList.length;i++)(t=this.get(i),t.controlType!="widget.label")&&t.setValue(n[r++])}},radioSeparator:{controlType:"widget.combine.radioSeparator",onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),e=ecount.resource,r=t.id,u=t.name,f=t.data;inputType=$.isEmpty(t.inputType)?"widget.input.codeType":"widget.input."+t.inputType;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label([e.LBL13111,e.LBL13112]).value(["P","S"]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.label",r+"_label1",u+"_label1").label(f[0].label).noneFlex(!0).setInlineIndex(1));n.addControl(i.define(inputType,r+"_input1",u+"_input1").value(f[0].value).maxLength(1).setInlineIndex(1));n.addControl(i.define("widget.label",r+"_label2",u+"_label2").label(f[1].label).noneFlex(!0).setInlineIndex(1));n.addControl(i.define(inputType,r+"_input2",u+"_input2").value(f[1].value).maxLength(1).setInlineIndex(1));n.addControl(i.define("widget.label",r+"_label3",u+"_label3").label(f[2].label).noneFlex(!0).setInlineIndex(1));n.addControl(i.define(inputType,r+"_input3",u+"_input3").value(f[2].value).maxLength(1).setInlineIndex(1));n.addControl(i.define("widget.label",r+"_label4",u+"_label4").label(f[3].label).noneFlex(!0).setInlineIndex(1));n.addControl(i.define(inputType,r+"_input4",u+"_input4").value(f[3].value).maxLength(1).setInlineIndex(1))},getValue:function(){for(var i=[],n,t=0;t<this.controlList.length;t++)(n=this.get(t),n.controlType!=="widget.label")&&i.push(n.getValue());return i},setValue:function(n){for(var t,i=0;i<this.controlList.length;i++)(t=this.get(i),t.controlType!=="widget.label")&&t.setValue(n.shift())},toggleDisplay:function(){var r=this.get(0).getValue(),i="",n,u,t;for(r=="S"?(this.get(1).hide(),i="gen"):r=="P"&&(this.get(1).show(),i="name"),n=2,u=0;n<this.controlList.length;n+=2,u++)t=this.get(n),t.setValue(""),t._setContainsType(t._IT_SELF,i)}},displayBudget:{controlType:"widget.combine.displayBudget",onInitChildControl:function(n,t){var s=widget.generator,u=s.control(),i=ecount.resource,f=t.id,e=t.name,r=[i.LBL02692],o=["A"];ecount.config.company.USE_DEPT=="Y"&&(r.push(i.LBL01374),o.push("D"));ecount.config.company.USE_PJT=="Y"&&(r.push(i.LBL03028),o.push("P"));n.addControl(u.define("widget.radio",f+"_radio",e+"_radio").label(r).value(o).select("A").setOptions({hidden:r.length==1?!0:!1}).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(u.define("widget.radio",f+"_radio_print",e+"_radio_print").label([i.LBL02569,i.LBL03193]).value(["Individual","Comparison"]).setAddonTitle(i.LBL03630).hide().select("Individual").setChangeStateFuncName("toggleDisplaySub").setInlineIndex(1));n.addControl(u.define("widget.radio",f+"_radio_mark",e+"_radio_mark").label([i.LBL02692,i.LBL02056]).value(["General","Monthly"]).setAddonTitle(i.LBL08075).select("Monthly").setInlineIndex(2))},toggleDisplay:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);n.length==1&&(this.get(0).hide(),this.get(1).hide(),this.get(2).show());switch(t){case n[0].toString():this.get(0).show();this.get(1).hide();this.get(2).show();break;default:this.get(0).show();this.get(1).show();this.get(2).show();this.toggleDisplaySub()}},toggleDisplaySub:function(){var n=this.get(1).getValue(),t=this.getValueOrigin(1);switch(n){case t[1].toString():this.get(2).hide();this.__saveRadioMarkValue=this.get(2).getValue();this.get(2).setValue("General");break;default:this.__saveRadioMarkValue&&this.get(2).setValue(this.__saveRadioMarkValue);this.get(2).show()}}},displayFinancial:{controlType:"widget.combine.displayFinancial",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),i=ecount.resource,f=t.id,e=t.name,u=[i.LBL02692],o=["A"];ecount.config.company.USE_DEPT=="Y"&&(u.push(i.LBL01374),o.push("D"));ecount.config.company.USE_PJT=="Y"&&(u.push(i.LBL03028),o.push("P"));r.define("widget.radio",f+"_radio",e+"_radio").label(u).value(o).setChangeStateFuncName("toggleRadioMain").select("A");u.length==1&&r.hide();n.addControl(r);n.addControl(r.define("widget.radio",f+"_radio_print",e+"_radio_print").label([i.LBL02178,i.LBL02056]).value(["General","Monthly"]).setAddonTitle(i.LBL05512).select("General"));n.addControl(r.define("widget.radio",f+"_radio_mark",e+"_radio_mark").label([i.LBL02569,i.LBL03193,i.LBL02056]).value(["Individual","Comparison","Monthly"]).setAddonTitle(i.LBL03630).hide().setChangeStateFuncName("toggleRadioSub").select("Individual"));r.define("widget.checkbox",f+"_check_target_data",e+"_check_target_data").label([i.LBL09370]).readOnly().value(["Y"]);u.length==1&&r.hide();n.addControl(r)},toggleRadioMain:function(n,t,i,r){var u=this.get(0).getValue();u.toString()=="A"?(this.get(1).show(),this.get(2).hide(),this.get(3).setCheckedValue(["Y"],!1),this.get(3).setReadOnly(!0)):(this.get(1).hide(),this.get(2).show(),this.toggleRadioSub(n,t,i,r))},toggleRadioSub:function(){var n=this.get(2).getValue();n=="Comparison"?(this.get(3).setReadOnly(!1),this.get(3).setCheckedValue(["Y"],!0)):(this.get(3).setCheckedValue(["Y"],!1),this.get(3).setReadOnly(!0))},serialize:function(){var t={key:"SITE_GUBUN",value:""},i={key:"PJT_GUBUN",value:""},f={key:"MONTHLY_PRINT",value:"N"},r=this.get(0).getValue(),u=r=="A"?this.get(1).getValue():this.get(2).getValue(),n;return r=="A"?(t.value="1",i.value="1"):r=="D"?(t.value=u=="Comparison"?"3":"2",i.value="1"):r=="P"&&(t.value="1",i.value=u=="Comparison"?"3":"2"),u=="Monthly"&&(f.value="Y"),n=[],n.push(t),n.push(i),n.push(f),n.push(this.get(3).serialize()),n}},reportPeriod:{controlType:"widget.combine.reportPeriod",validateRules:null,onInitChildControl:function(n,t){var a=widget.generator,r=a.control(),u=t.id,i=ecount.resource,v=t.name,h=t.dateName||t._dateName||t.name+"_DATE",c=t.compareDateName||t._compareDateName||t.name+"_COMPARE_DATE",y=t.data,e,f,l,o,s;if(this.validateRules={dataRules:t.dataRules,dataRulesMsg:t.dataRulesMsg},this._defaultDate=t.defaultDate,this._currentDate=t.currentDate,this._prevDate=t.prevDate,this._acc001Phase=t.acc001Phase,t.reportList.length===0&&(t.reportList.push(["0","",null,""]),this.reportList=t.reportList,this._reportType=""),this._reportType=t.reportList[0][3].toLowerCase(),e=r.define("widget.select",u+"_reports","REPORT_PERIOD_REPORTS").option(t.reportList).setAddonTitle(i.LBL00792).setChangeStateFuncName("toggleChangeReport").multiLine(),t.reportList.length!==0&&(e.select(t.selectedValue||0),t.selectedValue!==undefined))for(f=0,l=t.reportList.length;f<l;f++)t.reportList[f][0]==t.selectedValue&&(this._reportType=t.reportList[f][3].toLowerCase());n.setOptions({isHasRecursivedControls:!0});n.addControl(e);o=r.define("widget.date",u+"_period_date",h).setAddonTitle(i.LBL00843).setOptions({_isMonthCalendar:!1}).select(t.defaultDate.to).multiLine();this._reportType!=="month"&&o.hide();n.addControl(o);s=r.define("widget.multiDate",u+"_period_multidate",h).setAddonTitle(i.LBL00843).setOptions({_isMonthCalendar:!1}).select(t.defaultDate.from,t.defaultDate.to).multiLine();this._reportType==="month"&&s.hide();n.addControl(s);n.addControl(r.define("widget.radio",u+"_compare","REPORT_PERIOD_COMPARE").setAddonTitle(i.LBL01901).label([i.LBL02678,i.LBL01905,i.LBL01913,i.LBL05716,i.LBL01918]).value([1,4,5,6,0]).select(1).multiLine().setChangeStateFuncName("toggleCompareTarget"));n.addControl(r.define("widget.date",u+"_compare_date",c).setOptions({_isMonthCalendar:!1}).multiLine().select(t.prevDate.from).hide());n.addControl(r.define("widget.multiDate",u+"_compare_multidate",c).setOptions({_isMonthCalendar:!1}).select(t.prevDate.from,t.prevDate.to).hide().multiLine())},onLoadItems:function(){this._reportType==""&&this.get(0).removeOption()},toggleChangeReport:function(){var t=this.get(0).getCodeData(),n=t?t:this._reportType,i=this.get(3).getValue;if(this._reportType=n.toLowerCase(),n)switch(n.toLowerCase()){case"month":this.get(this.id+"_period_multidate").hide();this.get(this.id+"_period_multidate").hidden=!0;this.get(this.id+"_period_date").show();this.get(this.id+"_period_date").hidden=!1;i=="6"&&(this.get(this.id+"_compare_multidate").hide(),this.get(this.id+"_compare_multidate").hidden=!0,this.get(this.id+"_compare_date").show(),this.get(this.id+"_compare_date").hidden=!1);break;case"period":this.get(this.id+"_period_multidate").show();this.get(this.id+"_period_multidate").hidden=!1;this.get(this.id+"_period_date").hide();this.get(this.id+"_period_date").hidden=!0;i=="6"&&(this.get(this.id+"_compare_multidate").show(),this.get(this.id+"_compare_multidate").hidden=!1,this.get(this.id+"_compare_date").hide(),this.get(this.id+"_compare_date").hidden=!0)}},toggleCompareTarget:function(n,t,i){var i=$.isNull(i)?!0:i,r=t&&t.compareType||this.get(this.id+"_compare").getValue();this.calcTargetDate(r);this.toggleCompareType(r);this.get(this.id+"_compare").setValue(r)},extract:function(){var n=this._super.extract.call(this);return n._reportType=this._reportType,n.reportList=this.reportList,n._defaultDate=this._defaultDate,n._currentDate=this._currentDate,n._prevDate=this._prevDate,n._acc001Phase=this._acc001Phase,n.__saveValue=this.getLastValue(),n},serialize:function(){for(var t,n=[],i=0;i<this.controlList.length;i++)t=this.controlList[i].serialize(),$.isArray(t)?n=n.concat(t):n.push(t);return n},restore:function(n){for(var i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this._reportType=this.reportList.filter(function(n){return n[0]==i[0]})[0][3];this.toggleChangeReport(null,{reportType:this._reportType,compareType:i[3]});this.calcTargetDate(i[3]);this.toggleCompareType(i[3])},reset:function(n){this._super.reset.apply(this,arguments);this.setLastValue(n.__saveValue)},getValue:function(){var n=[this._reportType,this.get(0).getValue()];return this.get(1).hidden||n.push(this.get(1).serialize().value),this.get(2).hidden||n.push(this.get(2).serialize().map(function(n){return n.value})),n.push(this.get(3).getValue()),this._reportType=="month"?n.push(this.get(4).serialize().value):n.push(this.get(5).serialize().map(function(n){return n.value})),n},addReport:function(n){this.get(0).addOption({value:n[0],text:n[1],userData:n[3]});this.reportList.push(n)},removeReport:function(n){this.get(0).removeOption(n)},getLastValue:function(){for(var t,n=[],i=0,r=this.controlList.length;i<r;i++){t=this.get(i);switch(t.controlType){case"widget.select":case"widget.radio":n.push(t.getValue());break;case"widget.date":n.push(t.serialize().value);break;case"widget.multiDate":n.push(t.serialize().map(function(n){return n.value}))}}return n.push({_reportType:this._reportType}),n},setLastValue:function(n){var u,i,t,r;if(n)for(u=n[this.controlList.length],t=0,r=this.controlList.length;t<r;t++){i=this.controlList[t];switch(i.controlType){case"widget.select":case"widget.radio":i.setValue(n[t]);break;case"widget.date":case"widget.multiDate":this.get(t).setDateByString(n[t].slice(0))}}},setInitByValue:function(n){var r,t,i;n[0]&&this.get(0).setValue(n[0]);r=this.get(0).getSelectedItem().value;this._reportType=this.get(0).extract().data[0].option.filter(function(n){return n[0]==r})[0][3].toLowerCase();this.togglePeriodType(this._reportType);switch(this._reportType){case"month":n[1]&&n[1].length==2&&(n[1]=[n[1][0]]);n[3]&&n[3].length==2&&(n[3]=[n[3][0]]);break;case"period":n[1]&&(n[1].length==1||typeof n[1]=="string")&&(typeof n[1]=="string"&&(n[1]=[n[1]]),n[1][1]=n[1][0]);n[3]&&(n[3].length==1||typeof n[3]=="string")&&(typeof n[3]=="string"&&(n[3]=[n[3]]),n[3][1]=n[3][0])}if(n[1])for($.isArray(n[1])||(n[1]=[n[1]]),t=0,i=n[1].length;t<i;t++)n[1][t]=n[1][t].slice(0,6)+"01";if(this.get(1).hidden||this.get(1).setDateByString(n[1]),this.get(2).hidden||this.get(2).setDateByString(n[1]),!n[3])for($.isArray(n[3])||(n[3]=[n[3]]),t=0,i=n[1].length;t<i;t++)n[3][t]=n[3][t].slice(0,6)+"01";this.get(4).hidden||this.get(4).setDateByString(n[3]);this.get(5).hidden||this.get(5).setDateByString(n[3]);n[2]&&n[3]&&n[3]!=="4"&&(this.get(3).setValue(n[2]),this.calcTargetDate(n[2]),this.toggleCompareType(n[2]))},togglePeriodType:function(n){var f=this.get(this.id+"_compare").getValue(),t=this.get(this.id+"_period_multidate"),i=this.get(this.id+"_period_date"),r=this.get(this.id+"_compare_multidate"),u=this.get(this.id+"_compare_date");switch(n){case"month":t.hide();t.hidden=!0;i.show();i.hidden=!1;f=="6"&&(r.hide(),r.hidden=!0,u.show(),u.hidden=!1);break;case"period":t.show();t.hidden=!1;i.hide();i.hidden=!0;f=="6"&&(r.show(),r.hidden=!1,u.hide(),u.hidden=!0)}},toggleCompareType:function(n){if(n=="6")switch(this._reportType){case"month":this.get(this.id+"_compare_date").show();this.get(this.id+"_compare_date").hidden=!1;break;case"period":this.get(this.id+"_compare_multidate").show();this.get(this.id+"_compare_multidate").hidden=!1}else this.get(this.id+"_compare_date").hide(),this.get(this.id+"_compare_multidate").hide(),this.get(this.id+"_compare_date").hidden=!0,this.get(this.id+"_compare_multidate").hidden=!0},calcTargetDate:function(n){function i(n,t){return moment(n,"YYYYMMDD").add(t,"month").format("YYYYMMDD")}var s=this.get(this.id+"_compare"),r=this.get(this.id+"_period_multidate"),e=this.get(this.id+"_period_date"),u=this.get(this.id+"_compare_date"),f=this.get(this.id+"_compare_multidate"),o,t;switch(n){case"1":o=e.serialize().value.substr(0,6);t=this._acc001Phase.where(function(n){return n.USER_PHASE!="0"&&n.DATE_T<o});t&&t.length>0&&u.setDateByString(t[t.length-1].DATE_T+"01");o=r.serialize()[0].value.substr(0,6);t=this._acc001Phase.where(function(n){return n.USER_PHASE!="0"&&n.DATE_T<o});t&&t.length>0&&f.setDateByString([t[t.length-1].Key.DATE_F+"01",t[t.length-1].DATE_T+"01"]);break;case"2":u.setDateByString(i(e.serialize().value,-3));f.setDateByString([i(r.serialize()[0].value,-3),i(r.serialize()[1].value,-3)]);break;case"3":u.setDateByString(i(e.serialize().value,-6));f.setDateByString([i(r.serialize()[0].value,-6),i(r.serialize()[1].value,-6)]);break;case"4":u.setDateByString(i(e.serialize().value,-12));f.setDateByString([i(r.serialize()[0].value,-12),i(r.serialize()[1].value,-12)]);break;case"5":this._currentDate&&(u.setDateByString(this._currentDate.to),f.setDateByString([this._currentDate.from,this._currentDate.to]));break;case"6":u.setDateByString(e.serialize().value);f.setDateByString([r.serialize()[0].value,r.serialize()[1].value])}},toggle:function(n){var t=n[this.controlList.length];this._reportType=t._reportType;this.toggleChangeReport(null,{reportType:this._reportType,compareType:n[3]});this.calcTargetDate(n[3]);this.toggleCompareType(n[3])}},displayMainItem:{controlType:"displayMainItem",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,i=ecount.resource,h=t.name,o=t.data||[],s=ecount.config.user.ALL_GROUP_PROD=="1"?!0:!1,f;this.itemCodeBase=t.itemCodeBase;n.addControl(r.define("widget.radio",u+"_sort","SUM_FLAG").label([i.LBL00391,i.LBL03742,i.LBL03743,i.LBL03311,i.LBL03627]).value([0,1,3,2,4]).setAddonTitle(i.LBL00703).setChangeStateFuncName("toggleSort").select(2).multiLine()).addControl(r.define("widget.radio",u+"_price","WONGA_TYPE").label([i.LBL09123,i.LBL09327,i.LBL10763,i.LBL10764]).value([1,5,3,4]).setAddonTitle(i.LBL02006).setChangeStateFuncName("togglePrice").select(4).multiLine()).addControl(r.define("widget.select",u+"_period","ddlWongaGubun").option(o[0].option).setChangeStateFuncName("toggleWongaGubun").multiLine().hide()).addControl(r.define("widget.checkbox",u+"_convert","MAIN_PROD_CONVERT_YN").label([i.LBL01399,i.LBL12481]).value(["0","1"]).select("0","1").readOnly([!0,!1]).multiLine().setChangeStateFuncName("toggleCheck")).addControl(r.define("widget.radio",u+"_convert_target","MAIN_PROD_ALL_YN").setAddonTitle(i.LBL12482).label([i.LBL12483,i.LBL12484]).value(["Y","N"]).multiLine().select("N"));f=r.define("widget.checkbox",u+"_base_code","PRODCD_GROUP").label([i.LBL08936]).value([1]).select(1).multiLine();this.itemCodeBase||f.hide();n.addControl(f);s&&(this.disabledAll=!0,t._fixedSelectedValue?(this._fixedSelectedValue=t._fixedSelectedValue,this._fixedSelectedValue[3]="2"):this._fixedSelectedValue=[null,null,null,null,"2",null])},extract:function(){var n=this._super.extract.call(this);return n._itemCodeBase=this.itemCodeBase,n},restore:function(n){for(var i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&(this.controlList[t].restore(n[t].value),i.push(n[t].value))},serialize:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.get(n).serialize());return t},getValue:function(){for(var n,i=[],r=[],t=0,u=this.controlList.length;t<u;t++)n=this.get(t),r=n.controlType=="widget.checkbox"?n.getCheckedValue():n.getValue(),i.push(r);return i},setValue:function(n){for(var i,t=0,r=this.controlList.length;t<r;t++)i=this.get(t),i.controlType=="widget.checkbox"?i.setCheckedValue(n[t]):i.setValue(n[t]);var u=this.controlList[0].getValue().toString(),f=this.controlList[1].getValue().toString(),e=this.controlList[2].getValue().toString();this.controlList.length>1&&this.toggle([u,f,e])},toggle:function(n){this.toggleSort(null,{sortValue:n[0],priceValue:n[1],periodValue:n[2]});this.togglePrice(null,{sortValue:n[0],priceValue:n[1],periodValue:n[2]});this.toggleWongaGubun(null,{sortValue:n[0],priceValue:n[1],periodValue:n[2]});this.toggleCheck()},toggleSort:function(){var t=this.controlList[0].getValue(),u=this.controlList[1].getValue(),f=this.controlList[2].getValue(),n=this.get(this.id+"_convert"),i=this.get(this.id+"_convert_target"),r=this.get(this.id+"_base_code");t=="2"&&u=="3"?(f.split("/")[2]=="1"?(n.setCheckedValue(["0","1"],!0),n.setReadOnly(!0,0),i.show()):(n.setCheckedValue(["1"],!1),i.hide()),n.setReadOnly(!0,1)):n.setReadOnly(!1,1);t=="0"?r.setReadOnly(!0):r.setReadOnly(!1)},togglePrice:function(){var u=this.controlList[0].getValue().toString(),t=this.controlList[1].getValue().toString(),f=this.controlList[2].getValue().toString(),n=this.get(this.id+"_convert"),i=this.get(this.id+"_convert_target"),r=this.get(this.id+"_period");t=="3"?r.show():r.hide();u=="2"&&t=="3"?(f.split("/")[2]=="1"?(n.setCheckedValue(["0","1"],!0),n.setReadOnly(!0,0),i.show()):(n.setCheckedValue(["1"],!1),i.hide()),n.setReadOnly(!0,1)):n.setReadOnly(!1,1)},toggleWongaGubun:function(){var i=this.controlList[0].getValue().toString(),r=this.controlList[1].getValue().toString(),u=this.controlList[2].getValue().toString(),n=this.get(this.id+"_convert"),t=this.get(this.id+"_convert_target");i=="2"&&r=="3"?(u.split("/")[2]=="1"?(n.setCheckedValue(["0","1"],!0),n.setReadOnly(!0,0),t.show()):(n.setCheckedValue(["1"],!1),t.hide()),n.setReadOnly(!0,1)):n.setReadOnly(!1,1)},toggleCheck:function(){var n=this.get(this.id+"_convert"),i=this.get(this.id+"_convert_target"),t=n.getCheckedInfo();n.setReadOnly(!t[0].checked,1);n.setReadOnly(t[1].checked,0);t[1].checked?i.show():i.hide()}},displaySpecies:{controlType:"widget.combine.displaySpecies",onInitChildControl:function(n,t){var u=widget.generator,f=u.control(),e=t.id,s=ecount.resource,h=t.name,c=t.data,i=t._fixedSelectedValue;this.readOnlyOption=t.readOnlyOption;var o=[ecount.resource.LBL15194,ecount.resource.LBL01370],r=f.define("widget.radio",e+"_radio","MAIN_PROD_SUB_FLAG").label(o).value(["B","I"]).setChangeStateFuncName("toggleDisplay");i&&_.isArray(i)?r.select(i[0]):r.select("B");n.addControl(r)},onAfterRender:function(){if(this.readOnlyOption&&$.isArray(this.readOnlyOption)&&this.readOnlyOption.length>0&&this.readOnlyOption[0]&&$.isArray(this.readOnlyOption[0])&&this.readOnlyOption[0].length>0)for(var n=0,t=this.readOnlyOption[0].length;n<t;n++)this.get(0).setReadOnly(!0,this.readOnlyOption[0][n])},toggleDisplay:function(){},getValue:function(n){var t=[];return t.push(this.controlList[0].getStandardValue()),$.isNumber(n)&&this.controlList.length-1>n?t[n]:t},restore:function(n){if(n&&$.isArray(n))if(n.length==2){var t=Object.clone(n,!0),i=t.shift();this.controlList[0].restore(i.value)}else this.controlList[0].restore(_.first(n).value)},save:function(){var n=[],t;return t=this.controlList[0].save(),t.value=="B"?(n.push(t),n.push({key:"main_prod_checkbox",value:[!1]})):(t.value="I",n.push(t),n.push({key:"main_prod_checkbox",value:[!1]})),{key:this.id,value:n}},serialize:function(){var n=[],t=this.controlList[0].serialize();return t.value=="B"?(n.push(t),n.push({key:"MAIN_PROD_CONVERT_YN",value:"N"})):t.value=="Q"?(t.value="I",n.push(t),n.push({key:"MAIN_PROD_CONVERT_YN",value:"N"})):(t.value="I",n.push(t),n.push({key:"MAIN_PROD_CONVERT_YN",value:"N"})),n}},paymentStatus:{controlType:"widget.combine.paymentStatus",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=t.id,i=ecount.resource,s=t.name,e=t.compareDateName||t._compareDateName||t.name+"_USE",o=t.compareDateName||t._compareDateName||t.name+"_CAUSE",h=t.data;n.addControl(r.define("widget.radio",u+"_use",e).label(["Y","N"]).value(["1","0"]).select("1").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_cause",o).label([i.LBL01918,i.LBL12721,i.LBL12722,i.LBL12723]).value(["0","2","3","1"]).select("Y").setAddonTitle(i.LBL12720).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();n=="0"?this.get(1).show():this.get(1).hide()}},prepaymentStatus:{controlType:"widget.combine.prepaymentStatus",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,f=ecount.resource,s=t.name,e=t.compareDateName||t._compareDateName||t.name+"_USE",o=t.compareDateName||t._compareDateName||t.name+"_DATE",h=t.data;n.addControl(i.define("widget.radio",r+"_use",e).label(["Y","N"]).value(["1","0"]).setChangeStateFuncName("toggleUseYn").select("0"));n.addControl(i.define("widget.input.digit",r+"_date",o).setAddonTitle(f.LBL12724).maxLength(6).hide())},getLastValue:function(){for(var n,i=[],r=[],t=0,u=this.controlList.length;t<u;t++)n=this.get(t),r=n.controlType=="widget.checkbox"?n.getCheckedValue():n.getValue(),i.push(r);return i},toggleUseYn:function(){var t=this.get(0).getValue(),n=this.get(1);t=="1"?n.show():n.hide()}},serviceType:{controlType:"widget.combine.serviceType",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,s=ecount.resource,h=t.name,f=t.typeParamName||t._typeParamName||t.name+"_TYPE",e=t.baseDateName||t._baseDateName||t.name+"_BASE_DATE",o=t.data;n.addControl(i.define("widget.select",r+"_type",f).option(o[0].option));n.addControl(i.define("widget.input.digit",r+"_date",e).setAddonTitle("Access Denied (Date)").maxLength(8))},onInitChildSetting:function(n){n.controlType="widget.custom";n.pId.indexOf("custom")!=-1&&(n.onSync=!1)},restore:function(n){for(var i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this.toggle(i)},serialize:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.get(n).serialize());return t},getLastValue:function(){for(var n,i=[],r=[],t=0,u=this.controlList.length;t<u;t++)n=this.get(t),r=n.controlType=="widget.checkbox"?n.getCheckedValue():n.getValue(),i.push(r);return i},setValue:function(n){this.controlList[0].setValue(n[0]);this.controlList[1].setValue(0,n[1])}},groupwareUser:{controlType:"widget.combine.groupwareUser",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,s=ecount.resource,h=t.name,f=t.typeName||t._typeName||t.name+"_TYPE",e=t.maxDateName||t._maxDateName||t.name+"_DATE",o=t.maxUserName||t._maxUserName||t.name+"_MAX_USER",c=t.data;n.addControl(i.define("widget.radio",r+"_type",f).label(["Do Not Use","1MonthsFree","Service"]).value(["0","1","2"]).setChangeStateFuncName("toggleType").select("0"));n.addControl(i.define("widget.input.digit",r+"_date",e).setAddonTitle("Expiration Date").maxLength(8).hide());n.addControl(i.define("widget.input.digit",r+"_userCount",o).setAddonTitle("Person(s)").subLabel(t.subLabel||"").handler({keyup:t.__handler.keyup}).maxLength(4).hide())},onInitChildSetting:function(n){n.controlType="widget.custom";n.pId.indexOf("custom")!=-1&&(n.onSync=!1)},restore:function(n){for(var i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this.toggle(i)},serialize:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.get(n).serialize());return t},setValue:function(n){this.get(0).setValue(n);this.toggleType(null,n)},getLastValue:function(){for(var n,i=[],r=[],t=0,u=this.controlList.length;t<u;t++)n=this.get(t),r=n.controlType=="widget.checkbox"?n.getCheckedValue():n.getValue(),i.push(r);return i},toggleType:function(){var i=this.get(0).getValue(),n=this.get(1),t=this.get(2);i=="1"?(n.show(),n.setValue((new Date).addMonths(1).format("yyyyMMdd")),t.hide()):i=="2"?(n.hide(),t.show()):(n.hide(),t.hide())}},depositAccount:{controlType:"widget.combine.depositAccount",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,s=ecount.resource,h=t.name,f=t.typeName||t._typeName||t.name+"_TYPE",e=t.maxDateName||t._maxDateName||t.name+"_DATE",o=t.countCtrlName||t._countCtrlName||t.name+"_COUNT",c=t.data;n.addControl(i.define("widget.radio",r+"_type",f).label(["Do Not Use","1MonthFree","Service",""]).value(["0","1","2","3"]).setChangeStateFuncName("toggleType").select("0").setInlineIndex(0));n.addControl(i.define("widget.input.digit",r+"_date",e).setAddonTitle("Expiration Date").dataRules(["ecDate","empty"]).maxLength(8).hide().setInlineIndex(1));n.addControl(i.define("widget.input.digit",r+"_count",o).setAddonTitle("Number").maxLength(4).hide().setInlineIndex(2))},setValue:function(n){this.get(0).setValue(n)},toggleType:function(){var t=this.get(0).getValue(),n=this.get(1),i=this.get(2);t=="1"||t=="2"?(n.show(),n.setValue(moment().add(1,"month").format("YYYYMMDD")),i.show()):(n.hide(),i.hide())}},cardPurchaseDetails:{controlType:"widget.combine.cardPurchaseDetails",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,s=ecount.resource,h=t.name,f=t.typeName||t._typeName||t.name+"_TYPE",e=t.maxDateName||t._maxDateName||t.name+"_DATE",o=t.countCtrlName||t._countCtrlName||t.name+"_COUNT",c=t.data;n.addControl(i.define("widget.radio",r+"_type",f).label(["Do Not Use","1MonthFree","Service",""]).value(["0","1","2","3"]).setChangeStateFuncName("toggleType").select("0"));n.addControl(i.define("widget.input.digit",r+"_date",e).setAddonTitle("Expiration Date").dataRules(["ecDate","empty"]).maxLength(8).hide().multiLine());n.addControl(i.define("widget.input.digit",r+"_count",o).setAddonTitle("Number").maxLength(4).hide())},restore:function(n){for(var i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this.toggle(i)},serialize:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.get(n).serialize());return t},setValue:function(n){this.get(0).setValue(n);this.toggleType(null,n)},getLastValue:function(){for(var n,i=[],r=[],t=0,u=this.controlList.length;t<u;t++)n=this.get(t),r=n.controlType=="widget.checkbox"?n.getCheckedValue():n.getValue(),i.push(r);return i},toggleType:function(){var t=this.get(0).getValue(),n=this.get(1),i=this.get(2);t=="1"||t=="2"?(n.show(),n.setValue((new Date).addMonths(1).format("yyyyMMdd")),i.show()):(n.hide(),i.hide())}},displayMethodResult:{controlType:"widget.combine.displayMethodResult",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),i=t.id,r=ecount.resource,l=t.name,s=t.aggreCtrlName||"MAIN_SUMMARY_AGGRE",h=t.displayCtrlName||"MAIN_SUMMARY_DISPLAY",c=t.budgetCtrlName||"BUDGET_STANDARD",a=t.data,f=[r.LBL02692],e=["1"];ecount.config.company.USE_DEPT=="Y"&&(f.push(r.LBL01374),e.push("2"));ecount.config.company.USE_PJT=="Y"&&(f.push(r.LBL03028),e.push("3"));n.addControl(u.define("widget.radio",i+"_aggre",s).label(f).value(e).setChangeStateFuncName("toggleRadio").select("A"));n.addControl(u.define("widget.radio",i+"_display",h).setAddonTitle(r.LBL03630).label([r.LBL02569,r.LBL03193]).value(["1","2"]).setChangeStateFuncName("toggleDisplay").select("1").hide());n.addControl(u.define("widget.radio",i+"_budgetStandard",c).setAddonTitle(r.LBL12704).label([r.LBL02056,r.LBL09263,r.LBL09264,r.LBL00930]).value(["1","2","3","4"]).setChangeStateFuncName("toggleRadioStandard").select("1"));n.addControl(u.define("widget.multiDate",i+"_month",i+"_month").setOptions({_isMonthCalendar:!1}));n.addControl(u.define("widget.select.fromToDouble.quarter",i+"_quarter",i+"_quarter").hide());n.addControl(u.define("widget.select.fromToDouble.halfYear",i+"_halfYear",i+"_halfYear").hide());n.addControl(u.define("widget.multiDate",i+"_year",i+"_year").setOptions({_isYearCalender:!0}).hide())},setValue:function(n){this.toggleRadio(null,n[0]);this.toggleRadioStandard(null,n[2]);this.get(0).setValue(n[0]);this.get(1).setValue(n[1]);this.get(2).setValue(n[2]);this.get(3).setDate(n[3]);this.get(4).setValue(n[4]);this.get(5).setValue(n[5]);this.get(6).setDate(n[6])},getValue:function(){return[this.get(this.id+"_aggre").getValue(),this.get(this.id+"_display").getValue(),this.get(this.id+"_budgetStandard").getValue(),this.get(3).getDate(),this.get(4).getValue(),this.get(5).getValue(),this.get(6).getDate()]},serialize:function(){for(var n,u,i,t=[],r=0;r<3;r++)n=this.controlList[r].serialize(),$.isArray(n)?t=t.concat(n):t.push(n);return n=this.get(Number(this.get(2).getValue())+2).serialize(),this.get(2).getValue()=="4"&&(u=/(\d{4})(\d{4})/g,n[0].value=n[0].value.replace(u,"$10101"),n[1].value=n[1].value.replace(u,"$11231")),n.length==4&&(i=[],i.push({value:n[0].value+(n[1].value==1)?"0101":"0701"}),i.push({value:n[2].value+(n[3].value==1)?"0630":"1231"}),n=i),n[0].key="BASE_DATE_FROM",n[1].key="BASE_DATE_TO",t.concat(n)},toggleRadio:function(){var n=this.get(0).getValue(),t=this.get(1).getValue();n!=="1"?this.get(this.id+"_display").show():this.get(this.id+"_display").hide();(n=="2"||n=="3")&&t=="2"?(this.get(2).setValue("1"),this.get(2).setReadOnly(!0),this.get(3).show(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide()):this.get(2).setReadOnly(!1)},toggleDisplay:function(){var t=this.get(1).getValue(),n=this.get(0).getValue();(n=="2"||n=="3")&&t=="2"?(this.get(2).setValue("1"),this.get(2).setReadOnly(!0),this.get(3).show(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide()):this.get(2).setReadOnly(!1)},toggleRadioStandard:function(){var n=this.get(2).getValue();this.get(3).hide();this.get(4).hide();this.get(5).hide();this.get(6).hide();switch(n){case"1":this.get(3).show();break;case"2":this.get(4).show();break;case"3":this.get(5).show();break;case"4":this.get(6).show()}}},displayMainSummary:{controlType:"widget.combine.displayMainSummary",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=t.id,i=ecount.resource,h=t.name,e=t.aggreCtrlName||"MAIN_SUMMARY_AGGRE",o=t.displayCtrlName||"MAIN_SUMMARY_DISPLAY",s=t.budgetCtrlName||"BUDGET_STANDARD",c=t.data;n.addControl(r.define("widget.radio",u+"_aggre",e).label([i.LBL09400,i.LBL07530,i.LBL80064]).value([1,2,3]).select(1).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_display",o).setAddonTitle(i.LBL03630).label([i.LBL02569,i.LBL03193]).value([1,2]).select(1).hide().setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(r.define("widget.radio",u+"_budgetStandard",s).setAddonTitle(i.LBL12704).label([i.LBL02056,i.LBL09263,i.LBL09264,i.LBL00930]).value([1,2,3,4]).select(1).setInlineIndex(2))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.get(1).getValue();n!=="1"?this.get(1).show():this.get(1).hide();(n=="2"||n=="3")&&t=="2"?(this.get(2).setValue("1"),this.get(2).setReadOnly(!0)):this.get(2).setReadOnly(!1)}},userReportSummary:{controlType:"widget.combine.userReportSummary",onInitChildControl:function(n,t){var h=widget.generator,e=h.control(),o=t.id,i=ecount.resource,c=t.name,l=t.data,s;this.useDepartment=t.useDepartment;this.useProject=t.useProject;var r=e.define("widget.radio",o+"_aggre","USER_REPORT_AGGRE"),u=[i.LBL09400],f=[1];this.useDepartment&&(u.push(i.LBL07530),f.push(2));this.useProject&&(u.push(i.LBL80064),f.push(3));r.label(u).value(f).setInlineIndex(0).setChangeStateFuncName("toggleDisplay");r.select(1);n.addControl(r);s=e.define("widget.radio",o+"_display","USER_REPORT_DISPLAY").setAddonTitle(i.LBL08075).label([i.LBL09400,i.LBL02569]).value([1,2]).select(1).hide().setInlineIndex(1);n.addControl(s)},toggleDisplay:function(){var n=this.get(0).getValue();n!=="1"?(n=="2"&&this.useDepartment||n=="3"&&this.useProject)&&this.get(1).show():this.get(1).hide()},serialize:function(){var n=[],t=this.get(0).getValue();return t=="1"?(n.push({key:"SITE_GUBUN",value:"1"}),n.push({key:"PJT_GUBUN",value:"1"})):n.push({key:t=="2"?"SITE_GUBUN":"PJT_GUBUN",value:this.get(1).serialize()}),n}},integratedUnitPrice:{controlType:"widget.combine.integratedUnitPrice",onInitChildControl:function(n,t){for(var o,s,h=widget.generator,r=h.control(),u=t.id,i=ecount.resource,c=t.name,f=t.data||[],e=0;e<f.length;e++)o=f[e],o.selected&&(this._selectedValue=o.value);s=r.define("widget.radio",u+"_priceShow","PRICE_SHOW").label([i.LBL03584,i.LBL03630]).value(["0","1"]).select("1").setChangeStateFuncName("toggleDisplay").setInlineIndex(0);t.displayVisible||s.hide();n.addControl(s);n.addControl(r.define("widget.radio",u+"_salesPrice","SALES_PRICE").setAddonTitle(i.LBL04656).label([i.LBL04656,i.LBL04656+"(vat "+i.LBL03755+")",i.LBL10763,i.LBL35192+"("+i.LBL05100+")"]).value(["1","4","2","3"]).select("1").setChangeStateFuncName("toggleDisplay").setInlineIndex(1));t.isControlChange?n.addControl(r.define("widget.code.searchPeriod",u+"_salesPriceOriginal","SALES_ORIGINAL").setAddonTitle(i.LBL02006).addCode(f[0].option||[]).dataRules(["required"]).codeType(7).setInlineIndex(2).hide()):n.addControl(r.define("widget.select",u+"_salesPriceOriginal","SALES_ORIGINAL").setAddonTitle(i.LBL02006).option(f[0].option).hide().setInlineIndex(2));n.addControl(r.define("widget.radio",u+"_buyPrice","BUY_PRICE").setAddonTitle(i.LBL04657).label([i.LBL04657,i.LBL04657+"(vat "+i.LBL03755+")",i.LBL10763,i.LBL02238+"("+i.LBL05100+")"]).value(["1","4","2","3"]).select("1").setChangeStateFuncName("toggleDisplay").setInlineIndex(3));t.isControlChange?n.addControl(r.define("widget.code.searchPeriod",u+"_buyPriceOriginal","BUY_ORIGINAL").setAddonTitle(i.LBL02006).addCode(f[0].option||[]).dataRules(["required"]).codeType(7).setInlineIndex(4).hide()):n.addControl(r.define("widget.select",u+"_buyPriceOriginal","BUY_ORIGINAL").setAddonTitle(i.LBL02006).option(f[0].option).hide().setInlineIndex(4));n.addControl(r.define("widget.radio",u+"_etcPrice","ETC_PRICE").setAddonTitle(i.LBL04864).label([i.LBL04865,i.LBL10763,i.LBL02238+"("+i.LBL05100+")"]).value(["1","2","3"]).select("1").setChangeStateFuncName("toggleDisplay").setInlineIndex(5));t.isControlChange?n.addControl(r.define("widget.code.searchPeriod",u+"_etcPriceOriginal","ETC_ORIGINAL").setAddonTitle(i.LBL02006).addCode(f[0].option||[]).dataRules(["required"]).codeType(7).setInlineIndex(6).hide()):n.addControl(r.define("widget.select",u+"_etcPriceOriginal","ETC_ORIGINAL").setAddonTitle(i.LBL02006).option(f[0].option).hide().setInlineIndex(6))},toggleDisplay:function(){var t=this.get(0).getValue(),n;if(t[0]=="1")for(n=1;n<=5;n+=2)this.get(n).show(),this.get(n).getValue()==2?this.get(n+1).show():this.get(n+1).hide();else this.get(1).hide(),this.get(2).hide(),this.get(3).hide(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide()}},inventoryAdjustment:{controlType:"widget.combine.inventoryAdjustment",onInitChildControl:function(n,t){var h=widget.generator,o=h.control(),s=t.id,i=ecount.resource,c=t.setAllRadio,r=t._fixedSelectedValue,u=o.define("widget.radio",s+"ctock_qty","STOCK_QTY").setChangeStateFuncName("toggleDisplay").setInlineIndex(0),f,e;c?u.label([i.BTN00425,i.LBL12287,i.LBL12286,i.LBL12288]).value(["A","Z","P","M"]):u.label([i.LBL12287,i.LBL12286,i.LBL12288]).value(["Z","P","M"]);u.select.apply(u,r[0]);n.addControl(u);f=o.define("widget.checkbox",s+"serial_lot","SERIAL_LOT").label([i.LBL17703,i.LBL17704]).value(["N","U"]).setAddonTitle(i.LBL12862).setInlineIndex(1);f.select.apply(f,r[1]);r[0].contains("Z")||f.hide();n.addControl(f);e=o.define("widget.checkbox",s+"link_prod_cd","LINK_PROD_CD").label([i.LBL12290]).value(["N"]).setAddonTitle(i.LBL09395).setInlineIndex(2);e.select.apply(e,r[2]);r[0].contains("Z")||e.hide();n.addControl(e)},toggleDisplay:function(){var n=this.get(0).getValue();n==="Z"?(this.get(1).show(),this.get(2).show()):(this.get(1).hide(),this.get(2).hide())}},quarterDate:{controlType:"widget.combine.quarterDate",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,i=ecount.resource,e=t.name,s=t.compareDateName||t._compareDateName||t.name+"_",h=t.data,r="1";r=t.date&&t.date.length==8?Math.ceil(moment(t.date,"YYYYMMDD").format("MM")/3):Math.ceil(moment(t.date,t.format).format("MM")/3);n.addControl(u.define("widget.date",f+"_selectYear",e+"_selectYear").select(t.date).setOptions({_isYearCalender:!0}).noneFlex(!0).setInlineIndex(0));n.addControl(u.define("widget.select",f+"_selectPeriod",e+"_selectPeriod").option([[1,"1"+i.LBL01390],[2,"2"+i.LBL01390],[3,"3"+i.LBL01390],[4,"4"+i.LBL01390]]).select(_.isNumber(r)?r.toString():r).inline().setInlineIndex(0))},setValue:function(n){this.get(0).setSYear(n[0]);this.get(1).setValue(n[1])},getValue:function(){var n=[];return n.push(this.get(0).getSYear()),n.push(this.get(1).getValue()),n},getPeriodDate:function(){var n=this.getValue(),t=new Date(n[0],3*(n[1]-1),"1"),i=t.addMonths(3).addDays(-1);return[t.format("yyyyMMdd"),i.format("yyyyMMdd")]},setValueDate:function(n){function i(n){return Math.ceil(n/3)}var t=new Date(n);this.setValue([t.getFullYear(),i(t.getMonth()+1)])},getValueDate:function(){var n=this.getValue(),t=new Date(n[0],3*(n[1]-1),"1");return t.format("yyyyMMdd")}},productQty:{controlType:"widget.combine.productQty",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=ecount.resource,e=t.name,o=t.compareDateName||t._compareDateName||t.name+"_",s=t.data;n.addControl(i.define("widget.multiCode.prod",r+"_txtSProdCd","PROD_CD").setChangeStateFuncName("toggleCode").setInlineIndex(0));n.addControl(i.define("widget.radio",r+"_chkBasicQty","BASIC_QTY").setChangeStateFuncName("toggleRadio").setAddonTitle(u.LBL08244).label(["1","0"]).value([1,0]).select(0).hide().setInlineIndex(1));n.addControl(i.define("widget.code.wh","WH_CD","WH_CD").codeType(7).setAddonTitle(u.LBL02716).hide().setInlineIndex(2))},getLastValue:function(){for(var n,i=[],r=[],t=0,u=this.controlList.length;t<u;t++)n=this.get(t),r=n.controlType=="widget.checkbox"?n.getCheckedValue():n.getValue(),i.push(r);return i},toggleCode:function(n,t,i){var r=this.get(i),u=r.getSelectedCode();u.length==0&&(this.get(1).hide(),this.get(2).hide())},toggleRadio:function(){var n=this.get(1).getValue();n==1?this.get(2).show():this.get(2).hide()},showBasicQty:function(){this.get(1).show();var n=this.get(1).getValue();n==1&&this.get(2).show()}},integratedAddress:{controlType:"widget.combine.integratedAddress",onInitChildControl:function(n,t){var r=widget.generator,i=r.control(),u=t.id,f=ecount.resource,e=t.name,o=t.data;n.addControl(i.define("widget.radio",u+"_mode","ADDRESS_MODE").label(["",""]).value(["0","1"]).select("0").setChangeStateFuncName("toggleDisplay"));n.addControl(i.define("widget.code.legarAddress","addrDongItem1","ADDR_DONG_ITEM1").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).disabledInputbox().codeType(7));n.addControl(i.define("widget.input.general","addrDongItem2","ADDR_DONG_ITEM2").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(4));n.addControl(i.define("widget.input.general","addrDongItem3","ADDR_DONG_ITEM3").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(4));n.addControl(i.define("widget.input.general","addrDongItem4","ADDR_DONG_ITEM4").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(4));n.addControl(i.define("widget.input.general","addrDongItem5","ADDR_DONG_ITEM5").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(80));n.addControl(i.define("widget.input.general","addrDongItem6","ADDR_DONG_ITEM6").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(12));n.addControl(i.define("widget.input.general","addrDongItem7","ADDR_DONG_ITEM7").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(6));n.addControl(i.define("widget.input.general","addrDongItem8","ADDR_DONG_ITEM8").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(4));n.addControl(i.define("widget.input.general","addrDongItem9","ADDR_DONG_ITEM9").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).maxLength(4));n.addControl(i.define("widget.code.roadname","loadNameItem1","LOAD_NAME_ITEM1").setAddonTitle("").codeType(7).setOptions({isAChildOfWidgetCombine:!0}).disabledInputbox().hide());n.addControl(i.define("widget.input.general","loadNameItem2","LOAD_NAME_ITEM2").setAddonTitle("").setOptions({isAChildOfWidgetCombine:!0}).readOnly().hide());n.addControl(i.define("widget.input.general","loadNameItem3","LOAD_NAME_ITEM3").setAddonTitle("()").setOptions({isAChildOfWidgetCombine:!0}).readOnly().hide());n.addControl(i.define("widget.input.general","loadNameItem4","LOAD_NAME_ITEM4").setAddonTitle("()").setOptions({isAChildOfWidgetCombine:!0}).readOnly().hide())},toggleDisplay:function(){var i=this.get(0).getValue(),n=[1,2,3,4,5,6,7,8,9],t=[10,11,12,13];i=="0"?(n.forEach(function(n){this.controlList[n].show()},this),t.forEach(function(n){this.controlList[n].hide()},this)):(n.forEach(function(n){this.controlList[n].hide()},this),t.forEach(function(n){this.controlList[n].show()},this));this.setAddOnTitleResize()},addonWidth:[0,0],alignAddonTitleWidth:function(){var i=this.$el.find("div.control:not(div.control.hidden) span.label.label-default.label-light"),r=i.length,t=this.get(0).getValue(),n;if(r!=0&&this.addonWidth[t]==0)for(n=0;n<r;n++)this.addonWidth[t]<$(i[n]).outerWidth()&&(this.addonWidth[t]=$(i[n]).outerWidth());if(this.addonWidth[t]!=0)for(n=0;n<r;n++)$(i[n]).css("width",this.addonWidth[t]+"px").addClass("text-left")},setValue:function(n){var t=_.isArray(n)?n[0]:n;switch(t.control.controlType){case"widget.code.legarAddress":this.setLegarValue(t.data);break;case"widget.code.roadname":this.setLoadValue(t.rowItem)}},setLegarValue:function(n){this.addressCode=n.NTS_COURT_CD;n?this.get(1).setStandardValue({label:n.ADDRESS_DES,value:n.ADDRESS_DES}):this.get(1).setStandardValue({label:"",value:""});this.get(2).setValue(n.BUNZI_Mt);this.get(3).setValue(n.BUNZI);this.get(4).setValue(n.BUNZI_HO);this.get(5).setValue(n.BLOCK);this.get(6).setValue(n.DONG);this.get(7).setValue(n.DONG_HO);this.get(8).setValue(n.TONG);this.get(9).setValue(n.BAN);this.get(0).setValue("0")},setLoadValue:function(n){if(this.addressCode=n.ROAD_CODE,n){var t=n.ZIPCODE!=undefined?n.SIDO+n.GUGUN+(n.RI||"")+n.ROAD_NAME:n.ADDR;this.get(10).setStandardValue({label:t,value:t})}else this.get(10).setStandardValue({label:"",value:""});n.BASEMENT&&this.get(11).setValue(n.BASEMENT=="1"?"()":"()");this.get(12).setValue(n.BUILDING_BON);this.get(13).setValue(n.BUILDING_BU);this.get(0).setValue("1")},getAddressCode:function(){return this.addressCode},extract:function(){var n=this._super.extract.call(this);return n.addonWidth=this.addonWidth,n}},inventoryCost:{controlType:"widget.combine.inventoryCost",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),u=t.id,i=ecount.resource,v=t.name,h=t.priceName||"COSTING_TYPE",f=t.mainItemName||"MAIN_ITEM_PERIOD",c=t.data,e=[],o=[],l=t.useItem||[4,3,5,1,6],a={1:i.LBL09123,3:i.LBL10763,4:i.LBL10764,5:i.LBL09327,6:i.LBL11523};l.forEach(function(n){e.push(n);o.push(a[n])});n.addControl(r.define("widget.radio",u+"_price",h).label(o).value(e).select(4).setChangeStateFuncName("toggleDisplay"));t.isControlChange?n.addControl(r.define("widget.code.searchPeriod",u+"_period",f).addCode(t.codes||[]).dataRules(["required"]).codeType(7).hide()):n.addControl(r.define("widget.select",u+"_period",f).option(c[0].option).hide())},toggleDisplay:function(){var n=this.get(0).getValue();n=="3"?this.get(1).show():this.get(1).hide()}},barcodeShot:{controlType:"widget.combine.barcodeShot",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=t.id,i=ecount.resource,s=t.name,e=t.mainScreenName||t._mainScreenName||t.name+"_MAIN_SCREEN",o=t.useMaintainName||t._useMaintainName||t.name+"_USE_MAINTAIN",h=t.data;n.addControl(r.define("widget.radio",u+"_main_screen",e).label([i.LBL09356,i.LBL09357]).value(["C","S"]).select(t._fixedSelectedValue?t._fixedSelectedValue[0]:"C").setAddonTitle(i.LBL85292));n.addControl(r.define("widget.radio",u+"_use_maintain",o).label([i.LBL01448,i.LBL03589]).value(["N","Y"]).select(t._fixedSelectedValue?t._fixedSelectedValue[1]:"N").setAddonTitle(i.LBL85287))}},fixedAssets:{controlType:"widget.combine.fixedAssets",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),i=ecount.resource,f=t.id,e=t.name,r=t.data;this.validateRules={dataRules:t.dataRules,dataRulesMsg:t.dataRulesMsg};n.addControl(u.define("widget.code.fixedAssetsCode",f+"_assets",e+"_ASSETS").addCode({value:r[0]?r[0].value:"",label:r[1]?r[1].value:""}).codeType(1));n.addControl(u.define("widget.input",f+"_qty",e+"_QTY").numericOnly(18,ecount.config.company.DEC_AMT,i.MSG04553,!0).setAddonTitle(i.LBL01688).hide());n.addControl(u.define("widget.input",f+"_leave_qty",e+"_LEAVE_QTY").setAddonTitle(i.LBL09969).numericOnly(18,ecount.config.company.DEC_AMT,i.MSG04553,!0).readOnly().hide())},assetsDes:"",qtyGubun:"",gyeCode:"",validateRules:null,setValue:function(n){this.assetsDes=n.ASSETS_DES;this.controlList[0].addCode({value:n.ASSETS_CODE,label:n.ASSETS_DES});this.controlList[1].setValue(n.S_AMT1);this.controlList[2].setValue(n.QTY);this.qtyGubun=n.QTY_GUBUN;this.gyeCode=n.GYE_CODE;this.gyeDes=n.GYE_DES;n.QTY_GUBUN=="Y"?(this.controlList[1].show(),this.controlList[2].show()):n.QTY_GUBUN=="N"&&(this.controlList[1].hide(),this.controlList[2].hide())},getValue:function(n){return n==undefined?{ASSETS_CODE:this.controlList[0].getValue(),ASSETS_DES:this.controlList[0].getSelectedLabel().toString(),S_AMT1:this.controlList[1].getValue(),QTY:this.controlList[2].getValue(),QTY_GUBUN:this.qtyGubun,GYE_CODE:this.gyeCode,GYE_DES:this.gyeDes}:this.controlList[0].currentItem?n==0?this.controlList[0].currentItem.value:n==1?this.controlList[0].currentItem.label:void 0:""},validate:function(){return ecount.control.prototype.validate.call(this.get(0),this.validateRules.dataRules||this.dataRules,this.validateRules.dataRulesMsg||this.dataRulesMsg)}},radioInputMulti:{controlType:"widget.combine.radioInputMulti",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),u=t.id,f=t.name,e=t.data,h=this.toGeneratorOption(e,"label"),o=this.toGeneratorOption(e,"value"),c=$.isArray(t._fixedSelectedValue)?t._fixedSelectedValue[0]:t._fixedSelectedValue,l=t._inline||t.columns,i;this.radioBasicFuncKill=t.radioBasicFuncKill;i=r.define("widget.radio",u+"_radio",f+"_radio").label(h).value(o).setChangeStateFuncName("toggleDisplay").setInlineIndex(0);l&&i.noneFlex();n.addControl(i);i=r.define("widget.input",u+"_input",f+"_input").setAddonTitle(t._addonTitle||null).setInlineIndex(1);t.numericOnly&&i.numericOnly(t.numericRange[0],t.numericRange[1],t.numericMsg,t._useNumericRequired,t._isPositiveInteger);t.radioBasicFuncKill?t.firstInputView||i.hide():o[0]==c&&i.hide();n.addControl(i)},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);this.radioBasicFuncKill||(n==t[0]?this.hide(1):this.show(1))}},radioInput:{controlType:"widget.combine.radioInput",onInitChildControl:function(n,t){var f=widget.generator,c=f.control(),l=f.control(),i=ecount.resource,e=t.id,o=t.name,s=t.data,a=[{key:1,value:i.LBL01772},{key:2,value:i.LBL01783},{key:3,value:i.LBL08625},{key:4,value:i.LBL01829}],v=t.labelType,h=this.toGeneratorOption(s,"label"),r=this.toGeneratorOption(s,"value"),u;this.foundLabel=a.find(function(n){return n.key==v});n.addControl(c.define("widget.radio",e+"_radio",o+"_radio").label(h.length>0?h:[i.LBL13716,this.foundLabel&&this.foundLabel.value?this.foundLabel.value:i.LBL01772,i.LBL05716]).value(r.length>0?r:["1","2","3"]).select(r.length>0?r[0]:"1").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));u=l.define("widget.input",e+"_input",o+"_input").setAddonTitle(t._addonTitle||null).hide().setInlineIndex(1);t.maxLength&&u.filter("maxlength",{message:String.format(String.format(i.MSG01397,t.maxLength)),max:t.maxLength});n.addControl(u)},toggleDisplay:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);t==n[n.length-1]?this.show(1):this.hide(1)}},radioCheckbox:{controlType:"widget.combine.radioCheckbox",onInitChildControl:function(n,t){var s=widget.generator,f=s.control(),i=ecount.resource,e=t.id,o=t.name,h=t.data,r=[],u=[];ecount.config.company.USE_DEPT=="Y"&&(r.push(i.LBL01374),u.push("D"));ecount.config.company.USE_PJT=="Y"&&(r.push(i.LBL03028),u.push("P"));this.hideCheckBox=r.length;n.addControl(f.define("widget.radio",e+"_radio",o+"_radio").label([i.LBL09363,i.LBL13717]).value(["1","2"]).select("1").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(f.define("widget.checkbox",e+"_checkbox",o+"_checkbox").label(r).value(u).setAddonTitle(i.LBL00703).setInlineIndex(1).hide())},toggleDisplay:function(){var n=this.get(0).getValue();n=="2"&&this.hideCheckBox!==0?this.show(1):this.hide(1)}},receivedType:{controlType:"widget.combine.receivedType",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,o=t.data;this.addonTitleSet=t.addonTitleType=="0"?ecount.resource.LBL01048:ecount.resource.LBL01046;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL02677,i.LBL01826,i.LBL05318,i.LBL02293]).value(["1","7","2","5"]).select("1").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.code.bankAccountInOut",u+"_codeInOut",f+"_codeInOut").codeType(7).dataRules(["required"]).setAddonTitle(this.addonTitleSet).setInlineIndex(1));n.addControl(r.define("widget.code.account",u+"_codeAccount",f+"_codeAccount").hide().dataRules(["required"]).codeType(7).setAddonTitle(ecount.resource.LBL00342).setInlineIndex(2));n.addControl(r.define("widget.radio",u+"_radioProduce",f+"_radioProduce").label([i.LBL05716,i.LBL02683,i.LBL03254]).value(["1","2","3"]).hide().select("1").setAddonTitle(ecount.resource.LBL03235).setChangeStateFuncName("toggleDisplaySub").setInlineIndex(3));n.addControl(r.define("widget.input",u+"_input",f+"_input").hide().dataRules(["required"]).setAddonTitle(i.LBL14204).maxLength(30).setInlineIndex(4));n.addControl(r.define("widget.input",u+"_input_2",f+"_input_2").setAddonTitle(t.showExchangeRate+" "+i.LBL13534).setOptions({hidden:$.isEmpty(t.showExchangeRate)?!0:!1}).numericOnly(18,4,"",!0).setInlineIndex(5))},toggleDisplay:function(){var n=this.get(0).getValue();$.isEmpty(this.showExchangeRate)||this.get(5).hide();n=="1"?(this.get(1).show(),$.isEmpty(this.showExchangeRate)||this.get(5).show(),this.get(2).hide(),this.get(3).hide(),this.get(4).hide(),this.get(1).changeAddonTitle(this.addonTitleSet)):n=="7"?(this.get(1).hide(),this.get(2).show(),this.get(3).show(),this.toggleDisplaySub()):n=="2"?(this.get(1).show(),this.get(2).hide(),this.get(3).show(),this.get(1).changeAddonTitle(this.addonTitleSet),this.toggleDisplaySub()):n=="5"&&(this.get(1).hide(),this.get(2).show(),this.get(3).hide(),this.get(4).hide())},toggleDisplaySub:function(){var n=this.get(3).getValue();n=="2"?(this.get(4).show(),this.get(4).setFocus(0)):this.get(4).hide()}},kakaoComments:{controlType:"widget.combine.kakaoComments",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),s=ecount.resource,r=t.id,u=t.name,e=t.data,o=t.isUseTime?"widget.date.time":"widget.date";n.addControl(i.define("widget.select",r+"_select",u+"_select").option(e[0].option).setInlineIndex(0));n.addControl(i.define("widget.link",r+"_show",u+"_show").label("View").noneFlex(!0).setInlineIndex(0));n.addControl(i.define(o,r+"_date",u+"_date").setAddonTitle("Date/Time").setInlineIndex(1))},setValue:function(n){n[0]&&this.get(0).setStandardValue(n[0]);n[1]&&this.get(2).setStandardValue(n[1])}},checkSelectBox:{controlType:"widget.combine.checkSelectBox",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,i=t.data;n.addControl(r.define("widget.checkbox",u+"_chkbox",f+"_chkbox").label(i[0].label).value(i[0].value).noneFlex(!0).select(t._fixedSelectedValue==i[0].value?i[0].value:"").setInlineIndex(0));n.addControl(r.define("widget.select",u+"_selectBox",f+"_selectBox").option(i[0].option).select(i[0].selectedValue?i[0].selectedValue:"").setInlineIndex(0))},getValue:function(){return[this.controlList[0].getStandardValue(),this.controlList[1].getSelectedItem()]},setValue:function(n){this.controlList[0].setStandardValue(n[0]);this.controlList[1].setStandardValue(n[1])}},dateHM:{controlType:"widget.combine.dateHM",onInitChildControl:function(n,t){var r=widget.generator,i=r.control(),u=t.data[0].value[0],f=t.data[0].value[1];n.addControl(i.define("widget.date","ReleaseDate","RELEASEDATE").noneFlex(!0).setInlineIndex(0)).addControl(i.define("widget.input","txtHour","TXTHOUR").value(u.padLeft(2,"0")).numericOnly(2,0,"",!0).maxLength(2).css("w-30").inline().noneFlex(!0).setInlineIndex(0)).addControl(i.define("widget.input","txtMinute","TXTMINUTE").value(f.padLeft(2,"0")).numericOnly(2,0,"",!0).maxLength(2).css("w-30").inline().setInlineIndex(0)).setOptions({_setSpace:!0});this.setCutInControlsTag([{index:1,value:":"}])},getValue:function(){return[this.controlList[0].getSYear()+this.controlList[0].getSMonth()+this.controlList[0].getSDay(),this.controlList[1].getStandardValue(),this.controlList[2].getStandardValue()]},setValue:function(n){var t=n[0],i=n[1],r=n[2];this.controlList[0].setStandardValue(ecount.control.date.strToDate(t));this.controlList[1].setStandardValue(i.padLeft(2,"0"));this.controlList[2].setStandardValue(r.padLeft(2,"0"))}},inspectionType:{controlType:"widget.combine.inspectionType",onInitChildControl:function(n,t){var h=widget.generator,u=h.control(),c=ecount.resource,f=t.id,l=t.name,a=t.data,e=[],o,s,i,r;for(t.isNewTemplate&&n.setOptions({isNewTemplate:t.isNewTemplate}),n.addControl(u.define("widget.multiCode.prodInspectType",f+"Isp",f+"Isp").setChangeStateFuncName("toggleMultiCode").setInlineIndex(0)),i=0,r=4;i<r;i++)n.addControl(u.define("widget.multiCode.prodInspectSubItem",f+"Code"+(1+i),"QC_ITEM_CODE"+(1+i)+"_DETAIL_CD").codeType(7).setAddonTitle(ecount.resource["LBL1093"+(4+i)]).hide().setInlineIndex(1+i));for(i=0,r=4;i<r;i++)o=ecount.resource["LBL1092"+(6+i)],s='<span class="label label-default label-light">'+o+"<\/span>",e.push({index:5+i*2,html:s,front:!0}),e.push({index:5+i*2,value:"~"}),n.addControl(u.define("widget.input.general","QC_ITEM_NUM"+(1+i)+"_VAL_START","QC_ITEM_NUM"+(1+i)+"_VAL_START").numericOnly(18,6,ecount.resource.MSG04553).setOptions({isAChildOfWidgetCombine:!0}).hide().setOptions({_placeHolder:o}).setInlineIndex(5+i)),n.addControl(u.define("widget.input.general","QC_ITEM_NUM"+(1+i)+"_VAL_END","QC_ITEM_NUM"+(1+i)+"_VAL_END").numericOnly(18,6,ecount.resource.MSG04553).setOptions({isAChildOfWidgetCombine:!0}).hide().setInlineIndex(5+i));for(i=0,r=4;i<r;i++)n.addControl(u.define("widget.input.search",f+"Text"+(1+i),"QC_ITEM_STR"+(1+i)+"_VAL").setAddonTitle(ecount.resource["LBL1091"+(3+i)]).hide().setInlineIndex(9+i));this.setCutInControlsTag(e)},toggleMultiCode:function(){var n=this.get(0).getStandardValue();n.length==0&&(this.clearAllValues(),this.hideAllControls())},getControlByID:function(n){return this.get(n)},onNextFocus:function(n){var r=_.isString(n)?this.getIndex(n):n,t=this.getVisibleIndex(),u,f=[5,7,9,11],i;[5,7,9,11].contains(r)&&(f=[6,8,10,12]);t=t.filter(function(n){return!f.contains(n)});u=t[t.indexOf(r)+1];i=this.get(u);i?i.setFocus(0):this.setFocusOutTrigger()},clearAllValues:function(){var t,i,n;if(this.controlList!=undefined&&$.isArray(this.controlList)&&this.controlList.length>1)for(t=1,i=this.controlList.length;t<i;t++)n=this.get(t),n!=undefined&&n.reset!=undefined&&(t<5?n.removeAll():this.isNewTemplate?n.setValue(""):n.reset(null,!0))},showAllControls:function(){for(var n=1;n<this.controlList.length;n++)this.get(n).show()},hideAllControls:function(){for(var n=1;n<this.controlList.length;n++)this.get(n).hide()},showByIndexes:function(n){var t=0,i;for($.isArray(n)||(n=[n]),i=0;i<n.length;i++)if(t=n[i],8<t)this.controlList[t+4].show();else if(4<t&&t<9)switch(t){case 5:this.controlList[5].show();this.controlList[6].show();break;case 6:this.controlList[7].show();this.controlList[8].show();break;case 7:this.controlList[9].show();this.controlList[10].show();break;case 8:this.controlList[11].show();this.controlList[12].show()}else this.controlList[t].show()},hideByIndexes:function(n){var t=0,i;for($.isArray(n)||(n=[n]),i=0;i<n.length;i++)if(t=n[i],8<t)this.controlList[t+4].hide();else if(4<t&&t<9)switch(t){case 5:this.controlList[5].hide();this.controlList[6].hide();break;case 6:this.controlList[7].hide();this.controlList[8].hide();break;case 7:this.controlList[9].hide();this.controlList[10].hide();break;case 8:this.controlList[11].hide();this.controlList[12].hide()}else this.controlList[t].hide()},setReadOnlyByIndexes:function(n,t){var i=0,r;for($.isArray(n)||(n=[n]),r=0;r<n.length;r++)if(i=n[r],8<i)this.controlList[i+4].setReadOnly(t);else if(4<i&&i<9)switch(i){case 5:this.controlList[5].setReadOnly(t);this.controlList[6].setReadOnly(t);break;case 6:this.controlList[7].setReadOnly(t);this.controlList[8].setReadOnly(t);break;case 7:this.controlList[9].setReadOnly(t);this.controlList[10].setReadOnly(t);break;case 8:this.controlList[11].setReadOnly(t);this.controlList[12].setReadOnly(t)}else this.controlList[i].setReadOnly(t)},setValueByIndexes:function(n,t){if(8<n)this.controlList[n+4].setValue(t);else if(4<n&&n<9)switch(n){case 5:this.controlList[5].setValue(t[0]);this.controlList[6].setValue(t[1]);break;case 6:this.controlList[7].setValue(t[0]);this.controlList[8].setValue(t[1]);break;case 7:this.controlList[9].setValue(t[0]);this.controlList[10].setValue(t[1]);break;case 8:this.controlList[11].setValue(t[0]);this.controlList[12].setValue(t[1])}else this.controlList[n].setValue(t)},getValueByIndexes:function(n){for(var t=[],i=0;i<5;i++)t.push(this.get(i).getStandardValue());for(t.push([this.get(5).getValue(),this.get(6).getValue()]),t.push([this.get(7).getValue(),this.get(8).getValue()]),t.push([this.get(9).getValue(),this.get(10).getValue()]),t.push([this.get(11).getValue(),this.get(12).getValue()]),i=13;i<17;i++)t.push(this.get(i).getValue());return $.isNumber(n)?t[n]:t},serialize:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)t.push(this.get(n).serialize());return t}},serialLotNum:{controlType:"widget.combine.serialLotNum",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,s=t.data,o=t.containsType||[];n.addControl(r.define("widget.input",u+"_inputNum",f+"_inputNum").setAddonTitle(i.LBL11400).numericOnly(3,0,null,null,!0));n.addControl(r.define("widget.textarea",u+"_textarea",f+"_textarea").setContainsType(o[0]).dataRules(["required"]).hasFn([{id:"autoCodePreview",label:i.LBL03726},{id:"autoNumberSetting",label:i.LBL19062}]))},showLotnumSetArea:function(){this.get(2).show()},hideLotnumSetArea:function(){this.get(2).hide()}},period:{controlType:"widget.combine.period",initializeData:function(n,t){var u={},i={},r;if(n!=undefined&&t!=undefined&&n._controls!=undefined&&t._controls!=undefined&&n._controls.length==t._controls.length)for(r=0;r<n._controls.length;r++)u=n._controls[r],i=t._controls[r],u!=undefined&&i!=undefined&&(u.data=i.data,i.needArrangeDate!=undefined&&(u.needArrangeDate=i.needArrangeDate))},onInitChildControl:function(n,t){var a=widget.generator,u=a.control(),v=ecount.resource,f=t.id,y=t.name||"",e=t.data||[],o=t.radioName||t._radioName||t.name+"_radio",s=t.dateName||t._dateName||t.name+"_date",h=t.multiDateName||t._multiDateName||t.name+"_mdate",c=t.dateList||[],l=t.multiDateList||[],r,i;for(this._dateList=t._dateList||[],this._multiDateList=t._multiDateList||[],this._values=t._values||[],this._labels=t._labels||[],this._radioName=o,this._dateName=s,this._multiDateName=h,i=0;i<e.length;i++)r=e[i],this._labels.push(r.label),this._values.push(r.value!=undefined?r.value.toString():""),r.selected&&(this._selectedValue=r.value);for(i=0;i<c.length;i++)this._dateList.push(c[i].toString());for(i=0;i<l.length;i++)this._multiDateList.push(l[i].toString());n.setOptions({isHasRecursivedControls:!0});n.addControl(u.define("widget.radio",f+"_radio",o).label(this._labels).value(this._values).select(this._selectedValue).setChangeStateFuncName("_onChangeOptions"));this._dateList&&this._dateList.length>0&&n.addControl(u.define("widget.date",f+"_date",s).setOptions({_isMonthCalendar:!1}).multiLine().executeValidateIfVisible().hide());this._multiDateList&&this._multiDateList.length>0&&n.addControl(u.define("widget.multiDate",f+"_mdate",h).setOptions({_isMonthCalendar:!1,_isLastDay:!0}).executeValidateIfVisible().multiLine().hide())},onRenderComplete:function(){this._selectedValue&&this.select(this._selectedValue)},getDateControl:function(){return this._getControl("D")&&ecount.widget.isVisible(this._getControl("D").$el[0])?this._getControl("D"):this._getControl("MD")&&ecount.widget.isVisible(this._getControl("MD").$el[0])?this._getControl("MD"):void 0},_onChangeOptions:function(){var n=this.get(0).getValue(),t;this._selectedValue=n;this._dateList!=undefined&&$.isArray(this._dateList)&&this._dateList.contains(n)?(this._getControl("D")&&this._getControl("D").show(),this._getControl("MD")&&this._getControl("MD").hide(),this._getControl("D")&&this._getControl("D").setFocus(0)):this._multiDateList!=undefined&&$.isArray(this._multiDateList)&&this._multiDateList.contains(n)?(this._getControl("MD")&&this._getControl("MD").show(),this._getControl("D")&&this._getControl("D").hide(),this._getControl("MD")&&this._getControl("MD").setFocus(0)):(this._getControl("D")&&this._getControl("D").hide(),this._getControl("MD")&&this._getControl("MD").hide());t=this.get(n=="1"?2:1).getDate()[0];n=="1"?this.get(1).setDate(t):this.get(2).setDate([t,t])},_getControl:function(n){for(var t={},r=null,i=0;i<this.controlList.length;i++)if(t=this.controlList[i],n==="R"&&t.controlType==="widget.radio"||n==="D"&&t.controlType==="widget.date"||n==="MD"&&t.controlType==="widget.multiDate"){r=t;break}return r},getValue:function(){var n=[];return this._getControl("R")&&n.push(this._getControl("R").getValue()),this._dateList!=undefined&&$.isArray(this._dateList)&&this._dateList.contains(this._selectedValue)?this._getControl("D")&&n.push(this._getControl("D").getDate()):this._multiDateList!=undefined&&$.isArray(this._multiDateList)&&this._multiDateList.contains(this._selectedValue)&&this._getControl("MD")&&n.push(this._getControl("MD").getDate()),n},setValue:function(n){var t=n[0];this.get(0).setValue(t);this._dateList!=undefined&&$.isArray(this._dateList)&&this._dateList.contains(t)?$.isArray(n)&&n.length>1&&this.setDate(n[1]):this._multiDateList!=undefined&&$.isArray(this._multiDateList)&&this._multiDateList.contains(t)&&this.setMultiDate([n[1],n[2]])},setDate:function(n){$.isArray(n)?this._dateList!=undefined&&$.isArray(this._dateList)&&this._dateList.contains(this._selectedValue)?(n.length>1&&n.splice(0,1),this._getControl("D")&&this._getControl("D").setDate(n)):this._multiDateList!=undefined&&$.isArray(this._multiDateList)&&this._multiDateList.contains(this._selectedValue)&&this._getControl("MD")&&this._getControl("MD").setDate(n):$.isString(n)&&n.length>0&&this._getControl("D")&&this._getControl("D").setDate(n)},setMultiDate:function(n){var t=[];$.isArray(n)&&n.length>0&&t.push(n[0]);$.isArray(n)&&n.length>1&&t.push(n[1]);this._getControl("MD")&&this._getControl("MD").setDate(t)}},doubleSelect:{controlType:"widget.combine.doubleSelect",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),s=ecount.resource,u=t.id,f=t.name,e=t.data,i=t._fixedSelectedValue||[];n.addControl(r.define("widget.select",u+"_selectFirst",f+"_selectFirst").option(e[0].option[0]).select($.isEmpty(i[0])?"":i[0]).setInlineIndex(0));n.addControl(r.define("widget.select",u+"_selectSecond",f+"_selectSecond").option(e[0].option[1]).select($.isEmpty(i[1])?"":i[1]).setInlineIndex(0))},getSelectedItem:function(){return[this.controlList[0].getSelectedItem(),this.controlList[1].getSelectedItem()]},getValue:function(){return[this.controlList[0].getValue(),this.controlList[1].getValue()]},setValue:function(n){this.controlList[0].setSelectedValue(n[0]);this.controlList[1].setSelectedValue(n[1])}},doubleSelectRadio:{controlType:"widget.combine.doubleSelectRadio",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,o=t.name,f=t.data;t.combineType=="up"?(n.addControl(r.define("widget.radio",u+"_select","WONGA_TYPE").label([i.LBL10763,i.LBL09327,i.LBL09123]).value([3,5,1]).setChangeStateFuncName("toggleDisplay").select(1)),n.addControl(r.define("widget.select",u+"_selectPrice","GISU").setAddonTitle(i.LBL02401).option(f[0].option).hide())):t.combineType=="down"&&(n.addControl(r.define("widget.radio",u+"_select","WONGA_TYPE2").label([i.LBL10763,i.LBL09327,i.LBL09123]).value([3,5,1]).setChangeStateFuncName("toggleDisplay").select(1)),n.addControl(r.define("widget.select",u+"_selectPrice","GISU2").setAddonTitle(i.LBL02401).option(f[0].option).hide()))},toggleDisplay:function(){var n=this.get(0).getValue();n=="3"?this.get(1).show():this.get(1).hide()}},doubleSelectRadio2:{controlType:"widget.combine.doubleSelectRadio2",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,o=t.name,f=t.data,i=ecount.resource;n.addControl(r.define("widget.radio",u+"_report_gubun","REPORT_GUBUN").label([i.LBL00320,i.LBL05868,i.LBL05869,i.LBL05609]).value(["0","1","2","3"]).setChangeStateFuncName("toggleDisplay").select("0"));n.addControl(r.define("widget.radio",u+"_wonga_type","WONGA_TYPE").label([i.LBL02238,i.LBL02238+"("+i.LBL00253+")",i.LBL10763]).value(["1","5","3"]).select("1").setChangeStateFuncName("toggleDisplay").setAddonTitle(i.LBL05481));n.addControl(r.define("widget.select",u+"_gisu","GISU").label([i.LBL02238]).option(f[0].option).setAddonTitle(i.LBL02006).hide());n.addControl(r.define("widget.radio",u+"_wonga_type2","WONGA_TYPE2").label([i.LBL02238,i.LBL02238+"("+i.LBL00253+")",i.LBL10763]).value(["1","5","3"]).select("1").setChangeStateFuncName("toggleDisplay").setAddonTitle(i.LBL05482));n.addControl(r.define("widget.select",u+"_gisu2","GISU2").label([i.LBL02238]).option(f[0].option).setAddonTitle(i.LBL02006).hide());n.addControl(r.define("widget.radio",u+"_wonga_type3","WONGA_TYPE3").label([i.LBL02238,i.LBL02238+"("+i.LBL00253+")",i.LBL10763]).value(["1","5","3"]).select("1").setChangeStateFuncName("toggleDisplay").setAddonTitle(i.LBL07217).hide());n.addControl(r.define("widget.select",u+"_gisu3","GISU3").label([i.LBL02238]).option(f[0].option).setAddonTitle(i.LBL02006).hide())},toggleDisplay:function(){var n=this.getValue();switch(n[0]){case"0":this.hideAll();this.get(0).show();this.get(1).show();this.get(3).show();n[1]=="3"&&this.get(2).show();n[3]=="3"&&this.get(4).show();break;case"1":this.hideAll();this.get(0).show();this.get(1).show();this.get(3).show();n[1]=="3"&&this.get(2).show();n[3]=="3"&&this.get(4).show();break;case"2":this.hideAll();this.get(0).show();this.get(3).show();n[3]=="3"&&this.get(4).show();break;case"3":this.hideAll();this.get(0).show();this.get(5).show();n[5]=="3"&&this.get(6).show()}}},doubleSelectRadio3:{controlType:"widget.combine.doubleSelectRadio3",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,o=t.name,f=t.data,i=ecount.resource;n.addControl(r.define("widget.radio",u+"_wonga_type","WONGA_TYPE").label([i.LBL02238,i.LBL02238+"("+i.LBL00253+")",i.LBL10763]).value(["1","5","3"]).select("1").setChangeStateFuncName("toggleDisplay").setAddonTitle(i.LBL05481));t.isControlChange?n.addControl(r.define("widget.code.searchPeriod",u+"_gisu","GISU").setAddonTitle(i.LBL02006).addCode(f[0].option||[]).dataRules(["required"]).codeType(7).hide()):n.addControl(r.define("widget.select",u+"_gisu","GISU").label([i.LBL02238]).option(f[0].option).setAddonTitle(i.LBL02006).hide());n.addControl(r.define("widget.radio",u+"_wonga_type2","WONGA_TYPE2").label([i.LBL02238,i.LBL02238+"("+i.LBL00253+")",i.LBL10763]).value(["1","5","3"]).select("1").setChangeStateFuncName("toggleDisplay").setAddonTitle(i.LBL05482));t.isControlChange?n.addControl(r.define("widget.code.searchPeriod",u+"_gisu2","GISU2").setAddonTitle(i.LBL02006).addCode(f[0].option||[]).dataRules(["required"]).codeType(7).hide()):n.addControl(r.define("widget.select",u+"_gisu2","GISU2").label([i.LBL02238]).option(f[0].option).setAddonTitle(i.LBL02006).hide())},toggleDisplay:function(){var n=this.getValue();n[0]=="3"?this.get(1).show():this.get(1).hide();n[2]=="3"?this.get(3).show():this.get(3).hide()}},tripleRadio:{controlType:"widget.combine.tripleRadio",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),i=ecount.resource,f=t.id,e=t.name,r;this.widgetType=t.widgetType;r=t.widgetType=="widget.checkbox"?$.isNumeric(t.inlineDivider)?"widget.checkbox.withDivider":"widget.checkbox":$.isNumeric(t.inlineDivider)?"widget.radio.withDivider":"widget.radio";n.addControl(u.define(r,f+"_radioFirst",e+"_radioFirst").label(t.data&&t.data[0]&&$.isArray(t.data[0].label)?t.data[0].label:[i.LBL04446,i.LBL04267]).value(t.data&&t.data[0]&&$.isArray(t.data[0].value)?t.data[0].value:[1,2]).setAddonTitle(t._addonTitle?t._addonTitle[0]:i.LBL01899).setChangeStateFuncName("toggleDisplay").setOptions({hidden:t.hideControl&&t.hideControl[0]?!0:!1,inlineDivider:t.inlineDivider}));n.addControl(u.define(r,f+"_radioSecond",e+"_radioSecond").label(t.data&&t.data[1]&&$.isArray(t.data[1].label)?t.data[1].label:[i.LBL04446,i.LBL04267]).value(t.data&&t.data[1]&&$.isArray(t.data[1].value)?t.data[1].value:[1,2]).setAddonTitle(t._addonTitle?t._addonTitle[1]:i.LBL00640).setOptions({hidden:t.hideControl&&t.hideControl[1]?!0:!1,inlineDivider:t.inlineDivider}));n.addControl(u.define(r,f+"_radioThird",e+"_radioThird").label(t.data&&t.data[2]&&$.isArray(t.data[2].label)?t.data[2].label:[i.LBL04446,i.LBL04267]).value(t.data&&t.data[2]&&$.isArray(t.data[2].value)?t.data[2].value:[1,2]).setAddonTitle(t._addonTitle?t._addonTitle[2]:i.LBL05536).setOptions({hidden:t.hideControl&&t.hideControl[2]?!0:!1,inlineDivider:t.inlineDivider}))},toggle:function(n){this.setChangeStateFuncCallFlag(!1);$.isArray(n)?this.setValue(n):this.get(0).setValue(n.toString());this.toggleDisplay();this.setChangeStateFuncCallFlag(!0)},toggleDisplay:function(){var t=this.get(0),n=t.getValue();if(t.controlType!="widget.radio"||$.isNull(n)||!this.secondInfo&&!this.thirdInfo)return!1;this.toggleRadio(this.get(1),n,this.secondInfo);this.toggleRadio(this.get(2),n,this.thirdInfo)},toggleRadio:function(n,t,i){i&&($.isNull(i.toggles)||i.toggles&&i.toggles.contains(t)?n.show():n.hide(),this.toggleChild(n,t,i.hiddenPairs))},toggleChild:function(n,t,i){var u=n.getComponents(),e=n.getValue(),o=this.getHiddenStatus(i,e,t),f=!1,r;if($.isArray(i))for(r=0;r<u.length;r++)this.getHiddenStatus(i,u[r].value,t)?n.hideCompByValue(u[r].value):(n.showCompByValue(u[r].value),f==!1&&o==!0&&(f=!0,n.setValue(u[r].value)))},getHiddenStatus:function(n,t,i){return n.contains(function(n){return n[0]==t&&n[1]==i})},getValue:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)this.widgetType=="widget.checkbox"?t.push(this.get(n).getCheckedValue()):t.push(this.get(n).getValue());return t},setValue:function(n){for(var t=0,i=this.controlList.length;t<i;t++)this.widgetType=="widget.checkbox"?this.get(t).setCheckedValue(n[t]):this.get(t).setValue(n[t])}},checkAccountType:{controlType:"widget.combine.checkAccountType",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,o=ecount.config.user.ALL_GROUP_CUST=="1"?!0:!1;n.addControl(r.define("widget.checkbox.whole",u+"_check",f+"_CHECK").label([i.LBL02475,i.LBL02739,i.LBL02740]).value(["A","R","P"]).select("A","R","P").setChangeStateFuncName("toggleDisplay"));n.addControl(r.define("widget.checkbox",u+"_check_sum",f+"_CHECK_SUM").label([i.LBL06519]).value(["Y"]).select("Y").hide().setChangeStateFuncName("toggleDisplay"));n.addControl(r.define("widget.radio",u+"_radio",f+"_CONVERT_YN").setAddonTitle(i.LBL12482).label([i.LBL12690,i.LBL12691]).value(["Y","N"]).select("Y").hide());o&&(this.disabledAll=!0,this._fixedSelectedValue=[null,null,"N"])},toggleDisplay:function(){var n=this.getValue();n[0].length==1&&n[0].indexOf("R")!=-1?(this.get(1).show(),n[1]=="Y"?this.get(2).show():this.get(2).hide()):(this.get(1).hide(),this.get(2).hide())},getValue:function(){for(var n,i=[],r=[],t=0,u=this.controlList.length;t<u;t++)n=this.get(t),r=n.controlType!="widget.radio"?n.getCheckedValue():n.getValue(),i.push(r);return i},setValue:function(n){for(var i,t=0,r=this.controlList.length;t<r;t++)i=this.get(t),i.controlType!="widget.radio"?i.setStandardValue(n[t]):i.setValue(n[t])}},noticeMethod:{controlType:"widget.combine.noticeMethod",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;n.addControl(i.define("widget.radio",r+"_radio1",u+"_radio1").label(["Toast Pop-up","Page"]).value(["T","P"]).select("T").setChangeStateFuncName("toggleDisplay"));n.addControl(i.define("widget.radio",r+"_radio2",u+"_radio2").setAddonTitle("Bottom button").label(["Don't show again","Don't show today"]).value(["1","2"]).select("1"));n.addControl(i.define("widget.radio",r+"_radio3",u+"_radio3").setAddonTitle("Importance level").label(["Orange","Red","Green","Blue"]).value(["O","R","G","B"]).select("O"));n.addControl(i.define("widget.radio",r+"_radio4",u+"_radio4").setAddonTitle("Spread Type").label(["Closed","Open"]).value(["C","O"]).select("C"));n.addControl(i.define("widget.checkbox",r+"_checkbox",u+"_checkbox").setAddonTitle("Bottom button").label(["Don't show again.","Don't show today.","Close"]).value(["1","2","3"]).hide())},toggleDisplay:function(){var n=this.get(0).getValue();n=="T"?(this.showAll(),this.get(4).hide()):(this.hideAll(),this.get(0).show(),this.get(4).show())},getValue:function(){var n=[];return n.push(this.get(0).getValue()),n.push(this.get(1).getValue()),n.push(this.get(2).getValue()),n.push(this.get(3).getValue()),n.push(this.get(4).getCheckedValue()),n},setValue:function(n){$.isArray(n)&&(this.get(0).setValue(n[0]),this.get(1).setValue(n[1]),this.get(2).setValue(n[2]),this.get(3).setValue(n[3]),this.get(4).setStandardValue(n[4]),this.get(0).setValue(n[0]))}},onlineMenual:{controlType:"widget.combine.onlineMenual",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;n.addControl(i.define("widget.radio",r+"_radio1",u+"_radio1").label(["register","not register"]).value(["Y","N"]).select("Y").setChangeStateFuncName("toggleDisplay"));n.addControl(i.define("widget.multiCode.programId",r+"_code",u+"_code").setAddonTitle("Linked Routes"));n.addControl(i.define("widget.radio",r+"_radio3",u+"_radio3").setAddonTitle("Help Type").label(["Use","Do not Use"]).value(["Y","N"]).select("Y"))},toggleDisplay:function(){var n=this.get(0).getValue();n=="Y"?this.showAll():(this.hideAll(),this.get(0).show())}},companyCode:{controlType:"widget.combine.companyCode",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;n.addControl(i.define("widget.radio",r+"_radio1",u+"_radio1").label(["All","Select","Exclude","Country","Query"]).value(["A","C","E","N","Q"]).select("A").setInlineIndex(0).setChangeStateFuncName("toggleDisplay"));n.addControl(i.define("widget.multiCode.companyByZone",r+"_code",u+"_code").setInlineIndex(1).hide());n.addControl(i.define("widget.checkbox.whole",r+"_nation",u+"_nation").label(["All","KR","US","CN","SG","MY","VN","JP","ID","TW","TH","PH"]).hide().value(["all","00","01","02","03","04","05","06","07","08","09","10"]).select("all","00","01","02","03","04","05","06","07","08","09","10").setInlineIndex(2));n.addControl(i.define("widget.radio",r+"_radio2",u+"_radio2").label(["MSSQL","MYSQL","MYSQL-HB","PG"]).value(["ms","my","my_hb","pg"]).select("ms").setAddonTitle("DataBase").hide().setInlineIndex(3));n.addControl(i.define("widget.textarea",r+"_textarea1",u+"_textarea1").setAddonTitle("Query").setOptions({flexible:!1,maxRows:20}).hide().setInlineIndex(4))},toggleDisplay:function(){var n=this.get(0).getValue();this.hideAll();this.get(0).show();n=="C"||n=="E"?this.get(1).show():n=="N"?this.get(2).show():n=="Q"&&(this.get(3).show(),this.get(4).show())},getValue:function(){var n=[];return n.push(this.get(0).getValue()),n.push(this.get(1).getSelectedCode()),n.push(this.get(2).getCheckedValue()),n.push(this.get(3).getValue()),n.push(this.get(4).getValue()),n},setValue:function(n){$.isArray(n)&&(this.get(0).setValue(n[0]),n[1]&&this.get(1).addCodes(n[1]),n[2]&&this.get(2).setCheckedValue(["all","00","01","02","03","04","05","06","07","08","09"],!1),this.get(2).setCheckedValue(n[2]),n[3]&&this.get(3).setValue(n[3]),n[4]&&this.get(4).setValue(n[4]))}},noticePositionRadio:{controlType:"widget.combine.noticePositionRadio",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;n.addControl(i.define("widget.radio",r+"_radio1",u+"_radio1").label(["Do not use","Menu ID","Program ID","Prg ID"]).value(["N","M","P","G"]).select("N").setChangeStateFuncName("toggleDisplay"));n.addControl(i.define("widget.multiCode.menuId",r+"_code1",u+"_code").hide().setAddonTitle("Linked Routes"));n.addControl(i.define("widget.multiCode.programId",r+"_code2",u+"_code").hide().setAddonTitle("Linked Routes"));n.addControl(i.define("widget.multiCode.prgId",r+"_code3",u+"_code").hide().setAddonTitle("Linked Routes"))},toggleDisplay:function(){var n=this.get(0).getValue();n=="M"?(this.get(1).show(),this.get(2).hide(),this.get(3).hide()):n=="P"?(this.get(1).hide(),this.get(2).show(),this.get(3).hide()):n=="G"?(this.get(1).hide(),this.get(2).hide(),this.get(3).show()):(this.get(1).hide(),this.get(2).hide(),this.get(3).hide())}},noticePositionCheck:{controlType:"widget.combine.noticePositionCheck",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;n.addControl(i.define("widget.checkbox.whole",r+"_check",u+"_check").label(["All","Login","Menu ID","Program ID"]).value(["all","1","2","3"]).select("all","1","2","3").setChangeStateFuncName("toggleDisplay"));n.addControl(i.define("widget.multiCode.menuId",r+"_code",u+"_code").setAddonTitle("Menu ID"));n.addControl(i.define("widget.multiCode.programId",r+"_code_programId",u+"_code").setAddonTitle("Program ID"))},toggleDisplay:function(){var n=this.get(0).getCheckedValue();n.indexOf("2")>=0?this.get(1).show():this.get(1).hide();n.indexOf("3")>=0?this.get(2).show():this.get(2).hide()}},checkRadioBond:{controlType:"widget.combine.checkRadioBond",isAccessibleCustomer:ecount.config.user.ALL_GROUP_CUST=="1"?!0:!1,radioDisableArray:["0","2"],isOld:!1,onInitChildControl:function(n,t){var u=widget.generator,f=u.control(),i=ecount.resource,e=t.id,h=t.name,o=t.isOld?[i.LBL17391,i.LBL17389,i.LBL17398,i.LBL17397]:[i.LBL17391,i.LBL17389],r=t.isOld?["CR","IC","RT","ST"]:["CR","IC"],s=$.isEmpty(t.defaultSelect)?this.isAccessibleCustomer?r[r.length-1]:r[0]:t.defaultSelect;n.addControl(f.define("widget.radio",e+"_radio","REP_CUST_CONVERT_FLAG").label(o).value(r).select(s));this.isOld=t.isOld},onAfterRender:function(){if(this.isOld&&this.isAccessibleCustomer&&this.radioDisableArray&&$.isArray(this.radioDisableArray)&&this.radioDisableArray.length>0)for(var n=0,t=this.radioDisableArray.length;n<t;n++)this.get(0).setReadOnly(!0,this.radioDisableArray[n])}},fees:{controlType:"widget.combine.fees",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=ecount.resource,u=t.id,e=t.name,o=t.data;i.define("widget.code.account",u+"code","FEES_CODE").codeType(7).dataRules(["required"]);t.combineType=="2"&&i.hasFn([{id:"fees",label:r.LBL04701}]);t.combineType=="1"?n.addControl(i):t.combineType=="2"||t.combineType=="3"?(n.addControl(i),n.addControl(i.define("widget.radio",u+"radio","FEES_CUSTOMER_RADIO").setAddonTitle(r.LBL12255).label([r.LBL00329,r.LBL00499]).value(["1","2"]).select("1"))):t.combineType=="4"&&(i.setAddonTitle(r.LBL02869),n.addControl(i),n.addControl(i.define("widget.code.account",u+"_code2","AGENCY_CODE").setAddonTitle(r.LBL04057).codeType(7).dataRules(["required"])))},getValue:function(){for(var t=[],n,i=0,r=this.controlList.length;i<r;i++)n=this.get(i),n.controlType.indexOf("widget.code")>-1?t.push(n.getSelectedItem()):t.push(n.getValue());return t},setValue:function(n){for(var t,r,i=0,u=this.controlList.length;i<u;i++)t=this.get(i),r=$.isArray(n)?n[i]:n,t.controlType.indexOf("widget.code")>-1?t.addCode(r):t.setValue(r)}},extranjactionType:{controlType:"widget.combine.extranjactionType",onInitChildControl:function(n,t){var u=widget.generator,r=u.control(),i=ecount.resource,f=t.id,e=t.name,h=t.data,o=[["99",i.LBL08019],["1",i.LBL03749],["2",i.LBL03750],["3",i.LBL03751],["4",i.LBL03752]],s=t._selectType?["widget","select","ioType",t._selectType].join("."):"widget.select.ioType";n.addControl(r.define(s,f+"_ioType",e+"_ioType").defaultOptions({isAdd:!1,useYn:"Y",editFlag:"I",ioValue:"",isAllAdd:!0}).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.select","TAXATION","TAXATION").option(o).setInlineIndex(0))},toggleDisplay:function(){var n=this.get(0).getStandardValue();n&&(n=n.toString());switch(n){case"99":this.get(1).show();break;default:this.get(1).hide()}},getSelectedItem:function(){return[this.get(0).getSelectedItem(),this.get(1).getSelectedItem()]},setSelectedIndex:function(n){_.isArray(n)&&(n[0]&&this.get(0).setSelectedIndex(n[0]),n[1]&&this.get(1).setSelectedIndex(n[1]))},toggle:function(n){$.isArray(n)?this.setSelectedIndex(n):this.get(0).setValue(n)}},adjustLine:{controlType:"widget.combine.adjustLine",onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),r=ecount.resource,u=t.id,f=t.name,s=t.data[0],e="btn btn-default btn-sm";n.addControl(i.define("widget.checkbox",u+"_checkbox",f+"_checkbox").label(r.LBL10723).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.button",u+"_removeBtn",f+"_removeBtn").label(r.BTN00035).css(e).hide().noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.button",u+"_insertBtn",f+"_insertBtn").label(r.BTN00802).css(e).hide().noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.button",u+"_upBtn",f+"_upBtn").label(r.BTN00803).css(e).hide().noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.button",u+"_downBtn",f+"_downBtn").label(r.BTN00804).css(e).hide().noneFlex(!0).setInlineIndex(0))},toggleDisplay:function(){var n=this.get(0).getCheckedInfo()[0].checked;n===!0?this.showAll():(this.hideAll(),this.get(0).show())}},authenticationType:{controlType:"widget.combine.authenticationType",onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),r=ecount.resource,u=t.id,f=t.name,e=t.data;n.addControl(i.define("widget.radio",u+"_radio",f+"_radio").label([e[0].label,e[1].label,e[2].label]).value([e[0].value,e[1].value,e[2].value]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.input",u+"_sendNumber",f+"_sendNumber").setAddonTitle(r.LBL09918).hide().setInlineIndex(1));n.addControl(i.define("widget.link",u+"_sendAuthNumLink",f+"_sendAuthNumLink").label(r.LBL10233).hide().noneFlex(!0).setInlineIndex(1));n.addControl(i.define("widget.input",u+"_inputAuthNum",f+"_inputAuthNum").setAddonTitle(r.LBL10242).hide().setInlineIndex(2));n.addControl(i.define("widget.link",u+"_confirmLink",f+"_confirmLink").label(r.LBL00723).hide().noneFlex(!0).setInlineIndex(2));n.addControl(i.define("widget.label",u+"_timer",f+"_timer").hide().noneFlex(!0).setInlineIndex(2));n.addControl(i.define("widget.link",u+"_fileListLink",f+"_fileListLink").setAddonTitle(r.LBL70401).label(r.LBL10235).hide().setInlineIndex(3));n.addControl(i.define("widget.label",u+"_status",f+"_status").setAddonTitle(r.LBL11613).label(r.LBL09676).hide().setInlineIndex(4))},toggleRadio:function(n,t){this.toggleDisplay(0,t)},toggleDisplay:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);switch(t){case n[0].toString():this.showAll();this.get(2).setLabel(ecount.resource.LBL10233);this.get(6).hide();break;case n[1].toString():this.showAll();this.get(2).setLabel(ecount.resource.LBL10234);this.get(6).hide();break;case n[2].toString():this.hideAll();this.show([0,1,6,7])}}},menuAuthorization:{controlType:"widget.combine.menuAuthorization",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;n.addControl(r.define("widget.radio.withLink",u+"_radioWithLink",f+"_radioWithLink").label([i.LBL03635,i.LBL00725,i.LBL06716]).value([1,"L",2]).setChangeStateFuncName("toggleDisplay"));n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL04440,i.LBL11137]).value(["W","X"]).setAddonTitle(i.LBL06722).hide());n.addControl(r.define("widget.link",u+"_sendAuthNumLink",f+"_sendAuthNumLink").label(i.BTN00168).setAddonTitle(i.LBL93729).hide());n.addControl(r.define("widget.select",u+"_select",f+"_select").option(t.data[0].option||[]).setAddonTitle(i.LBL06716).hide())},toggleDisplay:function(){var n=this.get(0).getValue();n=="1"?(this.showAll(),this.get(3).hide()):n=="2"&&(this.showAll(),this.get(1).hide(),this.get(2).hide())},getValue:function(){var n=[];return n.push(this.get(0).getValue()||""),n[0].toString()=="1"?n.push(this.get(1).getValue()):n.push(this.get(3).getSelectedItem().value),n},setValue:function(n){this.get(0).setValue(n[0]||"");n[0].toString()=="1"?this.get(1).setValue(n[1]):this.get(3).setSelectedValue(n[1])}},confirmer:{controlType:"widget.combine.confirmer",onInitChildControl:function(n,t){var c=widget.generator,r=c.control(),i=ecount.resource,f=t.id,e=t.name,o,h=$.isNumeric(t.inlineDivider)?"widget.radio.withDivider":"widget.radio",u,s;this.toggleValues=t.toggleValues||["2"];this.per_type=t.per_type;this.useLink=t.useLink===!1?!1:!0;t.per_type!="1"?(n.addControl(r.define(h,f+"_radioAcc",e+"_radioAcc").label(t.data&&t.data[0]&&t.data[0].label||[i.LBL02178,i.LBL10052]).value(t.data&&t.data[0]&&t.data[0].value||[1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[0]||i.LBL30017).setOptions(this._getFormTableIndex(t,t.originControlID+"_radioAcc")).setInlineIndex(0)),o=r.define(h,f+"_radioInv",e+"_radioInv").label(t.data&&t.data[1]&&t.data[1].label||[i.LBL02178,i.LBL10052]).value(t.data&&t.data[1]&&t.data[1].value||[1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[1]||i.LBL30019).setOptions(this._getFormTableIndex(t,t.originControlID+"_radioInv")).setOptions({inlineDivider:t.inlineDivider}).setInlineIndex(1),this.useLink&&o.setChangeStateFuncName("toggleDisplay"),n.addControl(o),this.useLink&&(s=r.define("widget.link",f+"_link",e+"_link").label(i.BTN00168).css("position-relative ml-5").setInlineIndex(2).hide(),t._useTableRowIndex&&(u=f.split("_"),u.pop(),u=u.join("_"),s.setOptions(this._getFormTableIndex(t,t.originControlID,u))),n.addControl(s))):(n.addControl(r.define("widget.label","confirmer","confirmer","confirmer").label("MASTER").css("text-danger").setAddonTitle(ecount.resource.LBL30017).setInlineIndex(0)),n.addControl(r.define("widget.label","confirmer","confirmer","confirmer").label("MASTER").css("text-danger").setAddonTitle(ecount.resource.LBL30019).setInlineIndex(1)))},toggleDisplay:function(){if(this.per_type!="1"){var n=this.get(1).getValue();this.toggleValues.contains(n)?this.get(2).show():this.get(2).hide()}}},confirmationProcess:{controlType:"widget.combine.confirmationProcess",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),i=ecount.resource,u=t.id,f=t.name,e=$.isNumeric(t.inlineDivider)?"widget.radio.withDivider":"widget.radio",s=t.isCofmAuth||!1;n.addControl(r.define(e,u+"_radioAcc",f+"_radioAcc").label(t.data&&t.data[0]&&t.data[0].label||[i.LBL08031,i.LBL01202]).value(t.data&&t.data[0]&&t.data[0].value||[1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[0]||i.LBL30017).setOptions({inlineDivider:t.inlineDivider}));s?(n.addControl(r.define(e,u+"_radioQuotation",f+"_radioQuotation").label(t.data&&t.data[11]&&t.data[11].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[11]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioSalesOrder",f+"_radioSalesOrder").label(t.data&&t.data[8]&&t.data[8].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[8]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioSalesSlip",f+"_radioSalesSlip").label(t.data&&t.data[1]&&t.data[1].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[1]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioShipping",f+"_radioShipping").label(t.data&&t.data[13]&&t.data[13].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[13]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioPurchaseRequest",f+"_radioPurchaseRequest").label(t.data&&t.data[9]&&t.data[9].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[9]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioRfq",f+"_radioRfq").label(t.data&&t.data[14]&&t.data[14].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[14]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioPurchaseOrder",f+"_radioPurchaseOrder").label(t.data&&t.data[10]&&t.data[10].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[10]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioPurchaseSlip",f+"_radioPurchaseSlip").label(t.data&&t.data[2]&&t.data[2].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[2]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioJobOrder",f+"_radioJobOrder").label(t.data&&t.data[12]&&t.data[12].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[12]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioGoodsIssued",f+"_radioGoodsIssued").label(t.data&&t.data[3]&&t.data[3].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[3]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioGoodsReceipt",f+"_radioGoodsReceipt").label(t.data&&t.data[4]&&t.data[4].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[4]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioProductDefect",f+"_radioProductDefect").label(t.data&&t.data[5]&&t.data[5].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[5]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioInternalUse",f+"_radioInternalUse").label(t.data&&t.data[6]&&t.data[6].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[6]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioLocationTran",f+"_radioLocationTran").label(t.data&&t.data[7]&&t.data[7].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[7]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider})),n.addControl(r.define(e,u+"_radioExport",f+"_radioExport").label(t.data&&t.data[15]&&t.data[15].label||[i.LBL06247,i.LBL08031,i.LBL01202]).value(t.data&&t.data[1]&&t.data[1].value||[0,1,2]).setAddonTitle(t._addonTitle&&t._addonTitle[15]||i.LBL02958).setOptions({inlineDivider:t.inlineDivider}))):n.addControl(r.define("widget.link",u+"_link",f+"_link").label(t.data&&t.data[1]&&t.data[1].label||i.BTN00168).setAddonTitle(t._addonTitle&&t._addonTitle[1]||i.LBL30019).css("position-relative"))},getValue:function(){return this.get(0).getValue()},setValue:function(n){this.get(0).setValue(n)}},salesBuyType:{controlType:"widget.combine.salesBuyType",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,o=t.name,u=t.data;n.addControl(i.define("widget.radio",r+"_radio","INOUT_TYPE").label(this.toGeneratorOption(u,"label")).value(this.toGeneratorOption(u,"value")).setChangeStateFuncName("toggleDisplay"));n.addControl(i.define("widget.select",r+"_select","IO_TYPE").option(["",""]))},toggleDisplay:function(){var e=this.get(0).getValue(),f=this.getValueOrigin(0),i=[["",ecount.resource.LBL80089]],r,n,u,t;switch(e){case f[0]:for(r="1",n=0,u=this.initData.result.Data.length;n<u;n++)t=this.initData.result.Data[n],t.IO_TYPE==r&&i.push([t.VAT_CODE,t.VAT_DES]);this.get(1).removeOption();this.get(1).addOption(i);break;case f[1]:for(r="2",n=0,u=this.initData.result.Data.length;n<u;n++)t=this.initData.result.Data[n],t.IO_TYPE==r&&i.push([t.VAT_CODE,t.VAT_DES]);this.get(1).removeOption();this.get(1).addOption(i);break;default:this.get(1).removeOption()}},getValue:function(){return[this.get(0).getValue(),this.get(1).getValue()]},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setSelectedValue($.isEmpty(n[1])?"":n[1])}},shippingStatus:{controlType:"widget.combine.shippingStatus",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),i=ecount.resource,u=t.id,e=t.name;n.addControl(r.define("widget.radio",u+"_radioShipping","DELIVERY_YN").label([i.LBL11776,i.LBL11777]).value(["Y","N"]).setChangeStateFuncName("toggleRadio").select(["N"]).setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_radioWay","DELIVERY_OFFICE_TYPE").label([i.LBL11325,i.LBL11779]).value([1,2]).setAddonTitle(i.LBL11013).select(1).hide().setInlineIndex(1));n.addControl(r.define("widget.checkbox",u+"_checkbox","ADD_DELIVERY_TYPE").label([i.LBL11780,i.LBL11328]).value([0,1]).setAddonTitle(i.LBL11231).hide().setChangeStateFuncName("toggleCheckbox").setInlineIndex(2));n.addControl(r.define("widget.code.storePickup",u+"_code1","DELIVERY_VISIT_ADDRESSID").codeType(7).dataRules(["required"]).disabledInputbox().hide().setInlineIndex(3));n.addControl(r.define("widget.code.quickService",u+"_code2","QUIC_ZONE").codeType(7).dataRules(["required"]).disabledInputbox().hide().setInlineIndex(4));n.addControl(r.define("widget.radio",u+"_radioPacket","BUNDLE_TYPE").label([i.LBL11782,i.LBL11783]).value(["Y","N"]).setAddonTitle(i.LBL11781).select("Y").hide().setChangeStateFuncName("toggleRadioSub").setInlineIndex(5));n.addControl(r.define("widget.code.bundledDelivery",u+"_code3","DELIVERY_BUNDLE_GROUPID").codeType(7).dataRules(["required"]).disabledInputbox().hide().setInlineIndex(6));n.addControl(r.define("widget.link",u+"_link","DELIVERY_PRICE_BYPRODUCT_YN").label(i.BTN00168).setAddonTitle(i.LBL11275).css("position-relative").hide().setInlineIndex(7));n.addControl(r.define("widget.radio",u+"_radioPrice","DELIVERY_INSTALLATION_FEE").label([i.LBL03552,i.LBL06999]).value(["N","Y"]).setAddonTitle(i.LBL11784).select("N").hide().setInlineIndex(8));n.addControl(r.define("widget.code.storePickup",u+"_code4","OUT_ADDRESS_CD").setAddonTitle(i.LBL11785).disabledInputbox().codeType(7).hide().setInlineIndex(9));n.addControl(r.define("widget.input",u+"_input1","RETURN_DELI_PRICE").setAddonTitle(i.LBL11961).numericOnly(7,0).dataRules(["required"]).setOptions({isNotChangeWidth:!0}).hide().setInlineIndex(10));n.addControl(r.define("widget.input",u+"_input2","DELIVERY_EXCHANGE_FEE").setAddonTitle(i.LBL12042).numericOnly(7,0).dataRules(["required"]).setOptions({isNotChangeWidth:!0}).hide().setInlineIndex(11))},toggleRadio:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);switch(t){case n[0].toString():this.showAll();this.toggleCheckbox();this.toggleRadioSub(null,this.get(5).getValue());break;case n[1].toString():this.hideAll();this.get(0).show()}},toggleCheckbox:function(){var n=this.get(2).getCheckedValue();n.contains(0)?this.get(3).show():this.get(3).hide();n.contains(1)?this.get(4).show():this.get(4).hide()},toggleRadioSub:function(){var t=this.get(5).getValue(),n=this.getValueOrigin(5);switch(t){case n[0].toString():this.get(6).show();break;case n[1].toString():this.get(6).hide()}},setValue:function(n){for(var r,i,t=0,u=this.controlList.length;t<u;t++){r=this.get(t);i=$.isNull(n[t])?"":n[t];switch(t){case 2:$.isNull(i)||(i==2?r.setCheckedValue([0,1]):(r.setCheckedValue([0,1],!1),r.setCheckedValue(i)));break;case 3:case 4:case 6:case 9:r.addCode(i);break;case 7:i=="Y"&&this.addLinkClass("text-warning-inverse");break;default:r.setValue(i)}}},serialize:function(){for(var n,u,f,r,i=[],t=0,e=this.controlList.length;t<e;t++)if(n=this.controlList[t].serialize(),$.isArray(n)?i=i.concat(n):i.push(n),this.get(t).controlType=="widget.checkbox"){u=n.value;switch(u.length){case 0:n.value=null;break;case 1:n.value=Number(u[0]);break;case 2:n.value=2}}else if(this.get(t).controlType=="widget.link")i.pop(),n={key:this.get(t).name},n.value=this.hasLinkClass("text-warning-inverse")?"Y":"N",i.push(n);else if(this.get(t).controlType.indexOf("widget.code")>-1){f=this.get(t).getSelectedItem()[0].label;switch(t){case 3:r="DELIVERY_VISIT_ADDRESSNM";break;case 4:r="QUIC_ZONE_NM";break;case 6:r="DELIVERY_BUNDLE_GROUPNM";break;case 9:r="OUT_ADDRESS_NM"}i.push({key:r,value:f})}return i},addLinkClass:function(n){this.$el.find("[data-cid="+this.id+"_link]").addClass(n)},removeLinkClass:function(n){this.$el.find("[data-cid="+this.id+"_link]").removeClass(n)},hasLinkClass:function(n){return this.$el.find("[data-cid="+this.id+"_link]").hasClass(n)}},customMadeGoods:{controlType:"widget.combine.customMadeGoods",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),u=ecount.resource,r=t.id,o=t.name,f=t.data;n.addControl(i.define("widget.checkbox",r+"_chkbox","CUSTOM_MADE").label(u.LBL11738).value("Y").setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.label",r+"_label","ESTIMATED_DELIVERY_TIME_NM").label(u.LBL11788).hide().noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.input",r+"_input","ESTIMATED_DELIVERY_TIME").value(f[0]?f[0].value||"":"").dataRules(["required"]).numericOnly(3,0,null,null,!0).hide().setInlineIndex(0))},toggleDisplay:function(){var n=this.get(0).getCheckedValue();n.contains("Y")?(this.get(1).show(),this.get(2).show(),this.setFocus(2)):(this.get(1).hide(),this.get(2).hide())},getValue:function(){return[this.get(0).getValue()?"Y":"N",this.get(1).getValue(),this.get(2).getValue()]},setValue:function(n){this.get(0).setCheckedValue(n[0]);this.get(2).setValue(n[1])},serialize:function(){for(var t=[],i,n=0,r=this.controlList.length;n<r;n++)i=n==0?{key:this.get(n).name,value:this.get(n).getCheckedValue().length==0?"N":"Y"}:this.controlList[n].serialize(),t.push(i);return t}},salesPeriod:{controlType:"widget.combine.salesPeriod",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),f=ecount.resource,r=t.id,e=t.name,o=t.data;n.addControl(i.define("widget.checkbox",r+"_checkbox","SALE_PERIOD_YN").value("Y").label(f.LBL11798).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.multiDate",r+"_multiDate","SALE_DATE").hide().setInlineIndex(0))},toggleDisplay:function(){var n=this.get(0).getCheckedValue();n.contains("Y")?this.get(1).show():this.get(1).hide()},getValue:function(){return[this.get(0).getValue()?"Y":"N",this.get(1).getDate()]},setValue:function(n){this.get(0).setCheckedValue(n[0]);n[1]&&this.get(1).setDate(n[1])},serialize:function(){for(var n,t=[],i=0,r=this.controlList.length;i<r;i++)n=this.controlList[i].serialize(),$.isArray(n)?(n[0].key="SALE_SDATE",n[1].key="SALE_EDATE",t=t.concat(n)):(n.value=n.value.contains("Y")?"Y":"N",t.push(n));return t}},prStatement:{controlType:"widget.combine.prStatement",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=ecount.resource,u=t.id,e=t.name,o=t.data;n.addControl(i.define("widget.input",u+"_input","ITY_PHRASE_CONTENT").filter("maxlength",{message:String.format(r.MSG06712),max:40}));n.addControl(i.define("widget.multiDate",u+"_multiDate","ITY_PHRASE_DATE").useDateSpace().setAddonTitle(r.LBL11797))},getValue:function(){return[this.get(0).getValue(),this.get(1).getDate()]},setValue:function(n){this.get(0).setValue(n[0]);n[1]&&this.get(1).setDate(n[1])},serialize:function(){for(var n,t=[],i=0,r=this.controlList.length;i<r;i++)n=this.controlList[i].serialize(),$.isArray(n)?(n[0].key="PUBLICITY_PHRASE_STARTDATE",n[1].key="PUBLICITY_PHRASE_ENDDATE",t=t.concat(n)):(n.key="PUBLICITY_PHRASE_CONTENT",t.push(n));return t}},deliveryMethod:{controlType:"widget.combine.deliveryMethod",onInitChildControl:function(n,t){var e=widget.generator,u=e.control(),i=ecount.resource,f=t.id,o=t.name,r=t.data;n.addControl(u.define("widget.checkbox",f+"_chkbox","ADD_DELIVERY_TYPE").label([i.LBL11328,i.LBL11329]).value([0,1]).setChangeStateFuncName("toggleDisplay"));n.addControl(u.define("widget.input",f+"_input1","QUIC_NAME").value(r[0]?r[0].value||"":"").setAddonTitle(i.LBL11244).hide());n.addControl(u.define("widget.input",f+"_input2","QUIC_TEL").value(r[1]?r[1].value||"":"").setAddonTitle(i.LBL11245).hide());n.addControl(u.define("widget.label",f+"_label","QUIC_ZONE").label(r[2]?r[2].value||"":"").setAddonTitle(i.LBL11246).hasFn([{id:"quickZone",label:i.LBL00397}]).hide());n.addControl(u.define("widget.radio",f+"_radio","REGULAR_MAIL_TYPE").label([i.LBL15850,i.LBL11276]).value([0,1]).setAddonTitle(i.LBL11329).select(0).hide());n.addControl(u.define("widget.input",f+"_input3","REGULAR_MAIL").value(r[3]?r[3].value||"":"").numericOnly(6,0,null,null,!0).dataRules(["required"]).hide())},toggleDisplay:function(){var n=this.get(0).getStandardValue(),i=this.get(4).getValue().toString(),t=this.getValueOrigin(0);n.contains(t[0])?(this.get(1).show(),this.get(2).show(),this.get(3).show(),this.setFocus(1)):(this.get(1).hide(),this.get(2).hide(),this.get(3).hide());n.contains(t[1])?(this.get(4).show(),this.get(4).getValue()=="1"?(this.get(5).show(),this.setFocus(5)):this.get(5).hide()):(this.get(4).hide(),this.get(5).hide())},getValue:function(){var t=[],n,i;for(t.push(this.get(0).getCheckedValue()),n=1,i=this.controlList.length;n<i;n++)t.push(this.get(n).getValue());return t},setValue:function(n){this.get(0).setCheckedValue(n[0]);for(var t=1,i=this.controlList.length;t<i;t++)this.get(t).controlType==="widget.label"?this.get(t).setLabel(n[t]):this.get(t).setValue(n[t])}},deliveryCostSettings:{controlType:"widget.combine.deliveryCostSettings",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,o=t.name,f=t.data,s=[[0,ecount.resource.LBL11491],[1,ecount.resource.LBL11492],[2,ecount.resource.LBL11493]];n.addControl(r.define("widget.radio",u+"_radio","DELIVERY_YN").label([i.LBL11468,i.LBL11275]).value(["Y","N"]).select("Y").setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0));n.addControl(r.define("widget.link",u+"_link",o+"_link").css("position-relative").label(i.BTN00168).hide().noneFlex(!0).setInlineIndex(0));n.addControl(r.define("widget.select",u+"_select","BUNDLE_TYPE").option(s).setAddonTitle(i.LBL11443).select(f[0]?f[0].value||0:0).setInlineIndex(1));n.addControl(r.define("widget.label",u+"_label","DELIVERY_TEMPLET").label(f[1]?f[1].value||"":"").setAddonTitle(i.LBL11444).hasFn([{id:"shppingpricetemplate",label:i.LBL00397}]).setInlineIndex(2))},toggleDisplay:function(){var t=this.get(0).getValue().toString(),n=this.getValueOrigin(0);switch(t.toString()){case n[0]:this.get(1).hide();this.get(2).show();this.get(3).show();break;case n[1]:this.get(1).show();this.get(2).hide();this.get(3).hide()}},getValue:function(){return[this.get(0).getValue(),this.get(2).getValue(),this.get(3).getValue()]},setValue:function(n){this.get(0).setValue(n[0]);this.get(2).setValue(n[2]);this.get(3).setLabel(n[3])},addLinkClass:function(n){this.$el.find("a").first().addClass(n)},removeLinkClass:function(n){this.$el.find("a").first().removeClass(n)}},returnsSetting:{controlType:"widget.combine.returnsSetting",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=ecount.resource,f=t.id,o=t.name,i=t.data;n.addControl(r.define("widget.label",f+"_label1","RETURN_ADDRESS_CD").label(i[0]?i[0].value||"":"").hasFn([{id:"returnaddr",label:u.LBL00397}]).setAddonTitle("/ "));n.addControl(r.define("widget.label",f+"_label2","RETURN_DELI_HPTEL").label(i[1]?i[1].value||"":"").setAddonTitle(u.LBL11250));n.addControl(r.define("widget.label",f+"_label3","RETURN_DELI_TEL").label(i[2]?i[2].value||"":"").setAddonTitle(u.LBL11251));n.addControl(r.define("widget.select",f+"_select","RETURN_DELI_OFFICE").setAddonTitle(u.LBL11963).option([["0",""],["epost",""],["hanjin",""],["hyundai",""],["kgb",""],["kgbls","KGB"],["dongbu","KG"],["cjgls","CJ GLS"],["gtx","GTX"],["innogis",""],["hanaro",""],["ilyang",""],["chonil",""],["daesin",""],["kyungdong",""],["hth",""],["winia",""]]).select(i[3]?i[3].value||"0":"0"));n.addControl(r.define("widget.input",f+"_input","RETURN_DELI_PRICE").value(i[4]?i[4].value||"":"").numericOnly(6,0,null,null,!0).setAddonTitle(u.LBL11445).setOptions({isNotChangeWidth:!0}))}},purchasingProduct:{controlType:"widget.combine.purchasingProduct",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,o=t.data;n.addControl(r.define("widget.radio",u+"_productType",f+"_productType").label([i.LBL11802,i.LBL02627]).value([0,1]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.input",u+"_productAmt",f+"_productAmt").numericOnly(10,1,null).setOptions({isNotChangeWidth:!0}).setAddonTitle(i.LBL11916).setInlineIndex(1));n.addControl(r.define("widget.select",u+"_productAmtType",f+"_productAmtType").inline().option([0,i.LBL09480],[1,"%"]).noneFlex(!0).setInlineIndex(1));n.addControl(r.define("widget.radio",u+"_productDateType",f+"_productDateType").label([i.LBL05761,i.LBL06619]).value([0,1]).setAddonTitle("["+i.LBL11819+"]").setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(2));n.addControl(r.define("widget.multiDate",u+"_productDate",f+"_productDate").useDateSpace().setInlineIndex(2))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.get(3).getValue(),i=this.getValueOrigin(0),r=this.getValueOrigin(3);n==i[0]?(this.get(1).hide(),this.get(2).hide(),this.get(3).hide(),this.get(4).hide()):(this.get(1).show(),this.get(2).show(),this.get(3).show(),t==r[0]?this.get(4).show():this.get(4).hide())}},writingReviews:{controlType:"widget.combine.writingReviews",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,o=t.data;n.addControl(r.define("widget.radio",u+"_reviewType",f+"_reviewType").label([i.LBL11802,i.LBL02627]).value([0,1]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.input",u+"_reviewAmt1",f+"_reviewAmt1").numericOnly(9,0,null).setAddonTitle("["+i.LBL11820+"]").setInlineIndex(1).setOptions({isNotChangeWidth:!0}));n.addControl(r.define("widget.label").label(i.LBL11917).noneFlex(!0).setInlineIndex(1));n.addControl(r.define("widget.input",u+"_reviewAmt2",f+"_reviewAmt2").numericOnly(9,0,null).setAddonTitle("["+i.LBL11821+"]").setInlineIndex(2).setOptions({isNotChangeWidth:!0}));n.addControl(r.define("widget.label").label(i.LBL11917).noneFlex(!0).setInlineIndex(2));n.addControl(r.define("widget.input",u+"_reviewAmt3",f+"_reviewAmt3").numericOnly(9,0,null).setAddonTitle("["+i.LBL11822+"]").setInlineIndex(3).setOptions({isNotChangeWidth:!0}));n.addControl(r.define("widget.label").label(i.LBL11917).noneFlex(!0).setInlineIndex(3));n.addControl(r.define("widget.radio",u+"_reviewDateType",f+"_reviewDateType").label([i.LBL05761,i.LBL06619]).value([0,1]).setAddonTitle("["+i.LBL11819+"]").setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(4));n.addControl(r.define("widget.multiDate",u+"_reviewDate",f+"_reviewDate").useDateSpace().setInlineIndex(4))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.get(7).getValue(),i=this.getValueOrigin(0),r=this.getValueOrigin(7);n==i[0]?(this.get(1).hide(),this.get(2).hide(),this.get(3).hide(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide(),this.get(7).hide(),this.get(8).hide()):(this.get(1).show(),this.get(2).show(),this.get(3).show(),this.get(4).show(),this.get(5).show(),this.get(6).show(),this.get(7).show(),t==r[0]?this.get(8).show():this.get(8).hide())}},outgoingTemplate:{controlType:"widget.combine.outgoingTemplate",onInitChildControl:function(n,t){function s(t,f,e){if(this.useCheckbox){e=e||"checkbox1";var s=o.control().define("widget.checkbox",r+"_"+e,u+"_"+e).label([i.LBL14882]).value(["1"]).select(this.checkboxValue||!1).setChangeStateFuncName("toggleCheckBox").noneFlex(!0).setInlineIndex(f);t||s.hide();n.addControl(s)}}var o=widget.generator,f=o.control(),e=o.control(),h=o.control(),c=o.control(),i=ecount.resource,r=t.id,u=t.name,l=t.data;this.templateType=t.templateType;this.useCheckbox=t.useCheckbox;this.checkboxValue=t.checkboxValue;switch(t.templateType){case 0:n.addControl(f.define("widget.select",r+"_select1",u+"_select1").option(t.data[0].option[0]).setInlineIndex(0));s.call(this,!0,0,"checkbox1");break;case 1:n.addControl(f.define("widget.select",r+"_select1",u+"_select1").option(t.data[0].option[0]).setInlineIndex(0));n.addControl(e.define("widget.radio",r+"_radio2",u+"_radio2").value(["N","Y"]).label([i.LBL07247,i.LBL03755]).setAddonTitle(i.LBL11134).setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(h.define("widget.select",r+"_select2",u+"_select2").option(t.data[0].option[1]).hide().setInlineIndex(1));s.call(this,!1,1,"checkbox2");break;case 2:n.addControl(f.define("widget.select",r+"_select1",u+"_select1").option(t.data[0].option[0]).setInlineIndex(0));n.addControl(e.define("widget.radio",r+"_radio2",u+"_radio2").value(["N","Y"]).label([i.LBL07247,i.LBL03755]).setAddonTitle(i.LBL12043).setInlineIndex(1));break;case 3:n.addControl(f.define("widget.radio",r+"_radio1",u+"_radio1").value(["N","Y"]).label([i.LBL07247,i.LBL03755]).setAddonTitle(i.LBL08872).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(e.define("widget.select",r+"_select1",u+"_select1").option(t.data[0].option[0]).hide().setInlineIndex(0));n.addControl(f.define("widget.radio",r+"_radio2",u+"_radio2").value(["N","Y"]).label([i.LBL07247,i.LBL03755]).setAddonTitle(i.LBL08842).setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(e.define("widget.select",r+"_select2",u+"_select2").option(t.data[0].option[1]).hide().setInlineIndex(1));break;case 4:n.addControl(f.define("widget.radio",r+"_radio1",u+"_radio1").value(["N","Y"]).label([i.LBL07247,i.LBL03755]).setAddonTitle(i.LBL01342).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(e.define("widget.select",r+"_select1",u+"_select1").option(t.data[0].option[0]).hide().setInlineIndex(0));n.addControl(f.define("widget.radio",r+"_radio2",u+"_radio2").value(["N","Y"]).label([i.LBL07247,i.LBL03755]).setAddonTitle(i.LBL09371).setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(e.define("widget.select",r+"_select2",u+"_select2").option(t.data[0].option[1]).hide().setInlineIndex(1))}},toggleDisplay:function(){var u,f;switch(this.templateType){case 1:u=this.get(1).getValue();f=this.getValueOrigin(1);u==f[0]?(this.get(2).hide(),this.get(3)?this.get(3).hide():this.get(this.id+"_select2").hide()):u==f[1]&&(this.get(3)?(this.get(3).show(),this.toggleCheckBox(null,this.get(3).getValue())):this.get(this.id+"_select2").show());break;case 3:var n=this.get(0).getValue(),t=this.get(2).getValue(),i=this.getValueOrigin(0),r=this.getValueOrigin(2);n==i[0]?this.get(1).hide():n==i[1]&&this.get(1).show();t==r[0]?this.get(3).hide():t==r[1]&&this.get(3).show();break;case 4:var n=this.get(0).getValue(),t=this.get(2).getValue(),i=this.getValueOrigin(0),r=this.getValueOrigin(2);n==i[0]?this.get(1).hide():n==i[1]&&this.get(1).show();t==r[0]?this.get(3).hide():t==r[1]&&this.get(3).show()}},toggleCheckBox:function(n,t){switch(this.templateType){case 1:t?this.get(this.id+"_select2").hide():this.get(this.id+"_select2").show();break;default:t?this.get(this.id+"_select1").hide():this.get(this.id+"_select1").show()}},showCheckbox:function(){switch(this.templateType){case 1:this.get(this.id+"_checkbox2")&&this.get(this.id+"_checkbox2").show();break;default:this.get(this.id+"_checkbox1").show()}},hideCheckbox:function(){switch(this.templateType){case 1:this.get(this.id+"_checkbox2")&&this.get(this.id+"_checkbox2").hide();break;default:this.get(this.id+"_checkbox1").hide()}},toggleCheckBox:function(n,t){switch(this.templateType){case 1:t?this.get(this.id+"_select2").hide():this.get(this.id+"_select2").show();break;default:t?this.get(this.id+"_select1").hide():this.get(this.id+"_select1").show()}},showCheckbox:function(){switch(this.templateType){case 1:this.get(this.id+"_checkbox2")&&this.get(this.id+"_checkbox2").show();break;default:this.get(this.id+"_checkbox1").show()}},hideCheckbox:function(){switch(this.templateType){case 1:this.get(this.id+"_checkbox2")&&this.get(this.id+"_checkbox2").hide();break;default:this.get(this.id+"_checkbox1").hide()}},getValue:function(){for(var i={},t=this.serialize(),n=0,r=t.length;n<r;n++)i[t[n].key]=t[n].value;return i},setValue:function(n){var i,t;$.isArray(n)&&(n=n[0]);for(i in n)if(t=this.get(i.toString()),t){if(t.controlType=="widget.radio"){t.setValue(n[i]);continue}if(t.setSelectedValue){t.setSelectedValue(n[i]);continue}if(t.setValue){t.setValue(n[i]);continue}}}},displayMethod:{controlType:"widget.combine.displayMethod",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL03630,i.LBL03584]).value(["Y","N"]).select("N").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.input",u+"_inputName",f+"_inputName").setAddonTitle(i.LBL08365).setContainsType("gap").hide().setInlineIndex(1));n.addControl(r.define("widget.radio",u+"_radioPrint",f+"_radioPrint").setAddonTitle(i.LBL03539).label([i.LBL03576,i.LBL03577]).value(["1","2"]).select("1").hide().setInlineIndex(2));n.addControl(r.define("widget.checkbox",u+"_checkbox",f+"_checkbox").setAddonTitle(i.LBL09543).label([i.LBL09037,i.LBL09038]).value([1,2]).hide().setInlineIndex(3))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[0]?this.showAll():(this.hideAll(),this.get(0).show())},toggleDisplayByInputGubun:function(n){n==1?(this.hideAll(),this.get(1).show()):this.toggleDisplay()},onRenderComplete:function(){this.get(2).setImeModeKeydownHandler(0,!1,"N",!0)}},incomeExpenceCode:{controlType:"widget.combine.incomeExpenceCode",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),i=ecount.resource,e=t.id,o=t.name,r=[],u,s;for(r.push(i.LBL00590),r.push(i.LBL03076),r.push(i.LBL07974),r.push(i.LBL01623),r.push(i.LBL06593),r.push(i.LBL06594),r.push(i.LBL06595),n.addControl(f.define("widget.select",e+"_select",o+"_select").option([["0",i.LBL03552],["1",i.LBL03550],["2",i.LBL03551]]).select("0").setChangeStateFuncName("toggleDisplay")),u=0,s=this.initData.config.IncomFlag;u<s;u++)n.addControl(f.define("widget.input",e+"_input"+u,o+"_input"+u).setAddonTitle(r[u]).maxLength(5).hide())},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[0]?(this.hideAll(),this.get(0).show()):(this.showAll(),this.setFocus(1))},onRenderComplete:function(){for(var n=1,t=this.controlList.length;n<t;n++)this.get(n).setImeModeKeydownHandler(0,!1,"N",!0),this.get(n).setValue("00000")}},relatedBusiness:{controlType:"widget.combine.relatedBusiness",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL03552,i.LBL03553,i.LBL03554,i.LBL01826,i.LBL08097,i.LBL03557,i.LBL07759]).value(["00","01","02","03","32","31","40"]).select("00").setChangeStateFuncName("toggleDisplay"));n.addControl(r.define("widget.radio",u+"_radioCheck",f+"_radioCheck").setAddonTitle(i.LBL05318).label([i.LBL03589,i.LBL01448]).value(["N","Y"]).select("N").hide())},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[1]?this.get(1).show():this.get(1).hide();this.adjustDimensions()}},accountTypeNew:{controlType:"widget.combine.accountTypeNew",hyperLinkDefaultList:[],hData:[["XX",ecount.resource.LBL03552],["GY",ecount.resource.LBL00488],["CU",ecount.resource.LBL00487],["JA",ecount.resource.LBL00480],["CA",String.format("{0}1",ecount.resource.LBL02014)],["CB",String.format("{0}2",ecount.resource.LBL02014)],["CC",String.format("{0}3",ecount.resource.LBL02014)]],onInitChildControl:function(n,t){var a=widget.generator,r=a.control(),i=ecount.resource,u=t.id,f=t.name,h=[],v=[["AS",i.LBL02343,""],["DE",i.LBL07517,""],["CP",i.LBL07518,""],["PL",i.LBL03580,""],["CA",String.format("{0}1",i.LBL02006),""],["CB",String.format("{0}2",i.LBL02006),""],["CC",String.format("{0}3",i.LBL02006),""],["XX",i.LBL12655,""]],y=[i.LBL01716,i.LBL02659,i.LBL03553,i.LBL12655],s=[],c=[],o,e,l;this.incomeFlag=t.incomeFlag;this.showSummary=t.showSummary==undefined?!0:t.showSummary;$.isEmpty(t.hyperLinkDefaultList)||(this.hyperLinkDefaultList=t.hyperLinkDefaultList);this.incomeFlag=="Y"?h.push(["Y",i.LBL05470],["N",i.LBL17605],["I",i.LBL17606],["T",i.LBL17607],["P",i.LBL08099],["A",i.LBL08100],["B",i.LBL08101],["C",i.LBL08102]):h.push(["Y",i.LBL05470],["N",i.LBL17605],["P",i.LBL08099],["A",i.LBL08100],["B",i.LBL08101],["C",i.LBL08102]);ecount.config.company.USE_ACC102_SITE=="1"&&(s.push(i.LBL12153),c.push("1"));ecount.config.company.USE_ACC102_PJT=="1"&&(s.push(i.LBL12154),c.push("2"));s.length==0&&(this.hideCheckbox=!0);e={propertyValue:"Y",typeValue:"AS",radioInout:"I",radioBalance:"1",radioLink:"1"};l=this.assembleHyperLinkSelectOption(e);n.addControl(r.define("widget.select",u+"_selectProperty",f+"_selectProperty").option(h).select(e.propertyValue).setChangeStateFuncName("toggleSelectProperty").setInlineIndex(0));n.addControl(r.define("widget.select",u+"_selectType",f+"_selectType").option(v).select(e.typeValue).setAddonTitle(i.LBL07516).setChangeStateFuncName("toggleSelectProperty").setInlineIndex(1));n.addControl(r.define("widget.radio",u+"_radioInout",f+"_radioInout").setAddonTitle(i.LBL17602).label(y).value(["I","E","S","N"]).select(e.radioInout).setInlineIndex(2));o=r.define("widget.code.account",u+"_codeAccount1",f+"_codeAccount1").setAddonTitle(i.LBL07520).codeType(7).setInlineIndex(3);t.__handler&&o.handler({change:t.__handler.change,toggle:t.__handler.toggle});n.addControl(o);o=r.define("widget.code.account",u+"_codeAccount2",f+"_codeAccount2").setAddonTitle(i.LBL17603).codeType(7).setInlineIndex(4);t.__handler&&o.handler({change:t.__handler.change,toggle:t.__handler.toggle});n.addControl(o);n.addControl(r.define("widget.radio",u+"_radioBalance",f+"_radioBalance").setAddonTitle(i.LBL12654).label([i.LBL12655,i.LBL00363]).value(["1","2"]).select(e.radioBalance).setChangeStateFuncName("toggleRadioBalance").setInlineIndex(5));n.addControl(r.define("widget.checkbox",u+"_checkboxBalance",f+"_checkboxBalance").label(s).value(c).hide().setInlineIndex(6));n.addControl(r.define("widget.radio",u+"_radioLink",f+"_radioLink").setAddonTitle(i.LBL08195).label([i.LBL17604,i.LBL03635]).value(["1","2"]).select(e.radioLink).setChangeStateFuncName("toggleRadioHyperLink").setInlineIndex(7));n.addControl(r.define("widget.select",u+"_selectLink",f+"_selectLink").option(l.hyperLinkOption).select(l.hyperLinkSelect).readOnly().setInlineIndex(8));r.define("widget.code.addFieldType",u+"_codeFieldType",f+"_codeFieldType").setAddonTitle(i.LBL13143).codeType(7).setInlineIndex(9);t.__handler&&r.handler({change:t.__handler.change,toggle:t.__handler.toggle});n.addControl(r)},assembleHyperLinkSelectOption:function(n){var r=n?n.typeValue:this.get(1).getValue(),u=n?n.radioBalance:this.get(5).getValue(),t=[],i="";switch(r){case"AS":case"DE":case"CP":u=="1"?(t=[this.hData[0],this.hData[1],this.hData[3]],i=this.hyperLinkDefaultList[1]||"GY"):(t=[this.hData[0],this.hData[1],this.hData[2],this.hData[3]],i=this.hyperLinkDefaultList[0]||"JA");break;case"XX":t=[this.hData[0],this.hData[1],this.hData[3]];i=this.hyperLinkDefaultList[1]||"GY";break;case"PL":t=[this.hData[0],this.hData[1],this.hData[3],this.hData[4],this.hData[5],this.hData[6]];i=this.hyperLinkDefaultList[2]||"GY";break;case"CA":t=[this.hData[0],this.hData[1],this.hData[3],this.hData[4]];i=this.hyperLinkDefaultList[3]||"GY";break;case"CB":t=[this.hData[0],this.hData[1],this.hData[3],this.hData[5]];i=this.hyperLinkDefaultList[3]||"GY";break;case"CC":t=[this.hData[0],this.hData[1],this.hData[3],this.hData[6]];i=this.hyperLinkDefaultList[3]||"GY"}return{hyperLinkOption:t,hyperLinkSelect:i}},getSelectValueByValueCompared:function(n){for(var i=0,t=0;t<n.hyperLinkOption.length;t++)n.hyperLinkOption[t][0]===this.beforeHyperLinkSelect&&i++;return i?this.beforeHyperLinkSelect:n.hyperLinkSelect},changeSelectOption:function(n){var t=this.get(8);t.removeOption();t.addOption(n.hyperLinkOption);t.setSelectedValue(this.getSelectValueByValueCompared(n))},toggleHideAndShow:function(){var n=this.get(0).getValue(),t=this.get(1).getValue();this.showAll();this.incomeFlag=="Y"?n=="Y"?(t=="PL"||t=="CA"||t=="CB"||t=="CC"||t=="XX")&&(this.get(5).hide(),this.get(6).hide()):n=="N"||n=="P"||n=="A"||n=="B"||n=="C"?(this.get(2).hide(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide(),this.get(7).hide(),this.get(8).hide(),this.get(9).hide()):n=="I"?(this.get(1).hide(),this.get(3).hide(),this.get(5).hide(),this.get(6).hide(),this.get(7).hide(),this.get(8).hide(),this.get(9).hide()):n=="T"&&(this.get(5).hide(),this.get(6).hide(),this.get(7).hide(),this.get(8).hide(),this.get(9).hide()):n=="Y"?t=="AS"||t=="DE"||t=="CP"?(this.get(2).hide(),this.get(4).hide()):(t=="PL"||t=="CA"||t=="CB"||t=="CC"||t=="XX")&&(this.get(2).hide(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide()):(n=="N"||n=="P"||n=="A"||n=="B"||n=="C")&&(this.get(2).hide(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide(),this.get(7).hide(),this.get(8).hide(),this.get(9).hide());this.showSummary||(this.get(5).hide(),this.get(6).hide());this.radioBalacneHideAndShow();this.adjustDimensions()},toggleSelectProperty:function(){this.toggleHideAndShow();this.changeHyperLinkSelect()},toggleRadioBalance:function(){this.radioBalacneHideAndShow();this.changeHyperLinkSelect()},radioBalacneHideAndShow:function(){var t=this.get(5).getValue(),n=this.get(6);t=="1"||this.hideCheckbox?n.hide():this.get(5).isVisible()&&n.show()},toggleRadioHyperLink:function(){var n=this.get(7).getValue();target=this.get(8);target.setReadOnly(n=="1")},changeHyperLinkSelect:function(n){var t=this.assembleHyperLinkSelectOption();this.beforeHyperLinkSelect=n?n[8]:this.get(8).getValue();this.changeSelectOption(t)},onAfterRender:function(){this.toggleHideAndShow()},toggle:function(n){this.setChangeStateFuncCallFlag(!1);this.setValue(n);this.setChangeStateFuncCallFlag(!0)},setValue:function(n){for(var t,i,r=0,u=this.controlList.length;r<u;r++)if(i=this.get(r),t=n[r],!$.isNull(t))switch(i.controlType){case"widget.checkbox":$.isBoolean(t)?i.setValue(t):i.setStandardValue(t);break;default:i.setStandardValue(t)}(n[0]||n[1])&&this.toggleHideAndShow();this.changeHyperLinkSelect(n);n[7]&&this.toggleRadioHyperLink()}},accountType:{controlType:"widget.combine.accountType",hData:[["00",ecount.resource.LBL03552],["JA",ecount.resource.LBL00480],["CU",ecount.resource.LBL00487],["GY",ecount.resource.LBL00488],["CA",String.format("{0}1",ecount.resource.LBL02014)],["CB",String.format("{0}2",ecount.resource.LBL02014)],["CC",String.format("{0}3",ecount.resource.LBL02014)]],hyperLinkIndex:0,onInitChildControl:function(n,t){var h=widget.generator,r=h.control(),i=ecount.resource,f=t.id,e=t.name,u,o,s;this.showSummary=t.showSummary==undefined?!0:t.showSummary;this.INOUT_FLAG=t.INOUT_FLAG;this.closingExist=t.closingExist==undefined?!1:t.closingExist;this.hyperLinkIndex=this.closingExist=="Y"?1:0;this.hyperLinkType=[[this.hData[0],this.hData[1],this.hData[2],this.hData[3]],[this.hData[0],this.hData[1],this.hData[3],this.hData[4],this.hData[5],this.hData[6]],[this.hData[0],this.hData[1],this.hData[3],this.hData[4]],[this.hData[0],this.hData[1],this.hData[3],this.hData[5]],[this.hData[0],this.hData[1],this.hData[3],this.hData[6]],[this.hData[0],this.hData[1],this.hData[3]]];u=[];u.push(["AS",i.LBL02343,""]);u.push(["DE",i.LBL07517,""]);u.push(["CP",i.LBL07518,""]);u.push(["PL",i.LBL03580,""]);u.push(["CA",String.format("{0}1",i.LBL02006),""]);u.push(["CB",String.format("{0}2",i.LBL02006),""]);u.push(["CC",String.format("{0}3",i.LBL02006),""]);this.INOUT_FLAG=="Y"&&(u.push(["IN",i.LBL01716,""]),u.push(["OU",i.LBL02659,""]));o=[];s=[];ecount.config.company.USE_ACC102_SITE=="1"&&(o.push(i.LBL12153),s.push("1"));ecount.config.company.USE_ACC102_PJT=="1"&&(o.push(i.LBL12154),s.push("2"));o.length==0&&(this.hideCheckbox=!0);n.addControl(r.define("widget.select",f+"_selectType",e+"_selectType").option(u).select("AS").setAddonTitle(i.LBL07516).setChangeStateFuncName("toggleSelectType").setInlineIndex(0));n.addControl(r.define("widget.select",f+"_select",e+"_select").option([["Y",i.LBL05470],["N",i.LBL03582],["P",i.LBL08099],["A",i.LBL08100],["B",i.LBL08101],["C",i.LBL08102]]).select("Y").setAddonTitle(i.LBL13169).setChangeStateFuncName("toggleSelect").setInlineIndex(1));n.addControl(r.define("widget.radio",f+"_radioBalance_two",e+"_radioBalance").setAddonTitle(i.LBL12654).label([i.LBL12655,i.LBL00363]).value(["1","2"]).select("1").setOptions({hidden:this.showSummary?!1:!0}).setChangeStateFuncName("toggleRadioBalance").setInlineIndex(2));n.addControl(r.define("widget.checkbox",f+"_checkboxBalance",e+"_checkboxBalance").label(o).value(s).hide().setInlineIndex(3));r.define("widget.code.account",f+"_codeAccount",e+"_codeAccount").setAddonTitle(i.LBL01467).codeType(7).setInlineIndex(4);t.__handler&&r.handler({change:t.__handler.change,toggle:t.__handler.toggle});n.addControl(r);n.addControl(r.define("widget.select",f+"_selectLink",e+"_selectLink").option(this.hyperLinkType[this.hyperLinkIndex]).select(this.closingExist=="Y"?"GY":"JA").setAddonTitle(i.LBL08195).setInlineIndex(5));r.define("widget.code.addFieldType",f+"_codeFieldType",e+"_codeFieldType").setAddonTitle(i.LBL13143).codeType(7).setInlineIndex(6);t.__handler&&r.handler({change:t.__handler.change,toggle:t.__handler.toggle});n.addControl(r)},toggleSelectType:function(){var t=this.get(0).getSelectedItem().value,i=this.get(1).getSelectedItem().value,n=null;switch(t){case"AS":case"DE":case"CP":this.changeSummaryType(!0);n=this.showSummary!=!1&&i=="Y"?0:5;break;case"PL":n=1;this.changeSummaryType(!1);break;case"CA":n=2;this.changeSummaryType(!1);break;case"CB":n=3;this.changeSummaryType(!1);break;case"CC":n=4;this.changeSummaryType(!1);break;case"IN":case"OU":n=5;this.changeSummaryType(!1)}this.hyperLinkIndex!=n&&this.closingExist!="Y"&&this.changeSelectOption(n,t)},toggleSelect:function(){var i=this.get(1).getSelectedItem().value,n=this.get(0).getSelectedItem().value,t,r=this.showSummary?2:3,u=this.showSummary?3:2;this.hideAll();switch(i){case"Y":t=this.showSummary==!1?5:0;this.get(6).show();this.showAll();this.toggleRadioBalance(null,this.get(2).getValue());break;case"N":this.get(4).show();default:t=5;this.get(0).show();this.get(1).show()}(n=="AS"||n=="DE"||n=="CP")&&this.changeSelectOption(t,n);this.get(5).show()},toggleRadioBalance:function(){var n=this.get(2).getValue();n=="1"||this.hideCheckbox?this.get(3).hide():this.get(3).show()},changeSelectOption:function(n,t){this.hyperLinkIndex=this.closingExist=="Y"?1:n;this.get(5).removeOption();this.get(5).addOption(this.hyperLinkType[this.hyperLinkIndex]);t=="AS"||t=="DE"?this.get(5).setSelectedValue("JA"):this.get(5).setSelectedValue("GY")},changeSummaryType:function(n){this.showSummary!=!1?n==!0?(this.get(2).showCompByValue("2"),this.get(2).showCompByValue("3")):(this.get(2).setValue("1"),this.get(2).hideCompByValue("2"),this.get(2).hideCompByValue("3")):(this.get(2).setValue("1"),this.get(2).hideCompByValue("2"),this.get(2).hideCompByValue("3"));this.toggleSelect()},getValue:function(){var n=[];return n.push(this.get(0).getSelectedItem()),n.push(this.get(1).getSelectedItem()),n.push(this.get(2).getValue()),n.push(this.get(3).getCheckedValue()),n.push(this.get(4).getSelectedItem()),n.push(this.get(5).getSelectedItem()),n.push(this.get(6).getSelectedItem()),n},getValueBasic:function(n){for(var i=[],t,r,f,u=0,e=this.controlList.length;u<e;u++){t=this.get(u);f=t.controlType.split(".").slice(0,2).join(".");switch(f){case"widget.radio":case"widget.select":case"widget.input":case"widget.input.general":case"widget.label":case"widget.combine":case"widget.custom":r=t.getValue();break;default:r=t.getStandardValue()}i.push(r)}return $.isNumber(n)?i[n]:i},setValue:function(n){n&&n.length&&this.get(0).setSelectedValue(n[0]);this.get(1).setSelectedValue(n[1]);this.get(2).setValue(n[2]);this.get(3).setStandardValue(n[3]);this.get(4).setStandardValue(n[4]);n[2]&&this.toggleRadioBalance();n[0]&&this.toggleSelectType();n[1]&&this.toggleSelect();n[5]&&this.get(5).setSelectedValue(n[5]);n[6]&&this.get(6).setStandardValue(n[6])}},valuation:{controlType:"widget.combine.valuation",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;n.addControl(r.define("widget.radio",u+"_select",f+"_select").label([i.LBL08976,i.LBL08104,i.LBL08105]).value(["X","D","G"]).select("X").setChangeStateFuncName("toggleDisplay"));r.define("widget.code.account",u+"_codeAccount",f+"_codeAccount").setAddonTitle(i.LBL08363).dataRules(["required"]).hide().codeType(7);t.__handler&&r.handler({change:t.__handler.change,toggle:t.__handler.toggle});n.addControl(r);n.addControl(r.define("widget.input",u+"_input",f+"_input").setAddonTitle(i.LBL08111).dataRules(["required"]).numericOnly(3,0,null,null,!0).hide());n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").setAddonTitle(i.LBL08109).label([i.LBL03630,i.LBL03584]).value(["Y","N"]).select("Y").hide())},toggleDisplay:function(){var n=this.get(0).getValue();n=="G"?this.showAll():(this.hideAll(),this.get(0).show());this.adjustDimensions()}},accountGyeTypeCode:{controlType:"widget.combine.accountGyeTypeCode",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL02433,i.LBL01716,i.LBL02659]).value(["","IN","OU"]).select("").setChangeStateFuncName("toggleDisplay"));n.addControl(r.define("widget.multiCode.gyeType",u+"_code",f+"_code"))},toggleDisplay:function(){var n=this.get(0).getValue();n==""?this.showAll():(this.hideAll(),this.get(0).show())},getValue:function(){return[this.get(0).getValue(),this.get(1).getSelectedItem(),]},setValue:function(n){this.get(0).setValue(n[0]);$.isNull(n[1])||n[1].value==""&&n[1].label==""||n[1][0].value==""&&n[1][0].label==""||this.get(1).addCodes(n[1])}},linkCode:{controlType:"widget.combine.linkCode",onInitChildControl:function(n,t){var r=widget.generator,i=r.control(),u=ecount.resource,f=t.id,e=t.name;n.addControl(i.define("widget.link","link2","link2","link2").addGroup([{id:"SaveNew",label:ecount.resource.BTN00765}]).label("link").end());n.addControl(i.define("widget.multiCode.wh","wh_multicode","wh_multicode","multiCode_wh").addCode({value:"00007",label:"kappa"}).end())}},combineAttach:{controlType:"widget.combine.combineAttach",init:function(n){widget.combine.prototype.init.apply(this,arguments);this.callbackID=ecount.global.registerCallback(this.ecPageID,this.onMessage,this);this.defaultImageParam={width:this.width||780,height:this.height||800,name:ecount.resource.LBL35866,url:"/ECMain/EGG/EGG025M.aspx",responseID:this.callbackID,hidPageType:"PROD",hidCheckedMax:"5",hidCheckedCnt:"0",hidFlag:"I",AFlag:"4",popupType:!0};this.defaultImageParam=$.extend(this.defaultImageParam,n.imageParameter);this.defaultMyparameter={width:this.width||800,height:this.height||600,name:ecount.resource.LBL05860,url:"/ECMAIN/EGG/EGG006P_01_BODY.aspx",responseID:this.callbackID,isNewFW:"Y",hidReturnXml:"",popupType:!0};this.defaultMyparameter=$.extend(this.defaultMyparameter,n.myParameter)},onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=ecount.resource;n.addControl(i.define("widget.link","combineAttach_file","combineAttach_file").label(r.LBL70401).setInlineIndex(0)).addControl(i.define("widget.link","combineAttach_my","combineAttach_my").label(this.makeMyStroageLabel(t.myParameter.hidReturnXml)).setOptions({callback:this.openPersonalPopup.bind(this)}).setInlineIndex(0)).addControl(i.define("widget.link","combineAttach_image","combineAttach_image").label(r.BTN00581).setOptions({callback:this.openImagePopup.bind(this)}).setInlineIndex(0))},openImagePopup:function(){var n=this;this.delegator&&this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:Object.clone(this.defaultImageParam),handler:function(t,i,r,u){n.responseID=i;t.popupLevel=u;t.__ecPageID=n.ecPageID;t.alreadyIncludedLayout=!0;var f={url:t.url,name:t.name||ecount.resource.LBL35866,param:t,popupType:t.popupType,popupLevel:u,parentPageID:r||n.parentPageID};ecount.popup.openWindow(f)}.bind(this)})},openPersonalPopup:function(){var n=this;this.delegator&&this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:Object.clone(this.defaultMyparameter),handler:function(t,i,r,u){n.responseID=i;t.popupLevel=u;t.__ecPageID=n.ecPageID;t.alreadyIncludedLayout=!0;var f={url:t.url,name:t.name||ecount.resource.LBL05860,param:t,popupType:t.popupType,popupLevel:u,parentPageID:r||n.parentPageID};ecount.popup.openWindow(f)}})},setMyStorage:function(n){this.defaultMyparameter=$.extend(this.defaultMyparameter,n);var t=this.makeMyStroageLabel(this.defaultMyparameter.hidReturnXml);this.controlList[1].setLabel(t)},setImageParam:function(n){this.defaultImageParam=$.extend(this.defaultImageParam,n)},makeMyStroageLabel:function(n){var t=$.isEmpty(n)?0:n.split("|").length;return ecount.resource.BTN00486+(t>0?"("+t+")":"")},ON_CLICK:function(n){n&&(n.ecPath===this.controlList[1].ecPath&&this.openPersonalPopup(),n.ecPath==this.controlList[2].ecPath&&this.openImagePopup())}},referenceList:{controlType:"widget.combine.referenceList",onInitChildControl:function(n,t){var r=ecount.resource,u=widget.generator,i=u.control(),f=t.data!=undefined&&t.data[0]!=undefined?t.data[0].label:r.BTN00107;this._hasFn=t.hasFn;t.hasFn=!1;n.addControl(i.define("widget.checkbox.linkLabel",t.id+"_linkLabel",t.name+"_linkLabel").label(f).setOptions({isHideCheckbox:!0}).layerListAutoPosition(t._layerAutoPosition).layerListPosition(t._layerPlacement,t._layerDirection).hasLayerList(t._layerTitle,t._layerList,t._layerCss).noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.link",t.id+"_link",t.name+"_link").css("text-danger-inverse").label("").hide(!t.dropdownOptions||t.dropdownOptions.length==0).hasFn(t.dropdownOptions||!1).setInlineIndex(0))},setLinkValue:function(n){var t;t=this._hasFn==!0?this.get(1).$el.find("> a"):this.get(1).$el;t.html(n);t.hasClass("hidden")&&t.removeClass("hidden")}},referenceBoardList:{controlType:"widget.combine.referenceBoardList",onInitChildControl:function(n,t){var f=ecount.resource,u=widget.generator,i=u.control(),r="widget.link.boardRefPost";t.slip==!0&&(r="widget.link.boardRefSlip");this._hasFn=t.hasFn;t.hasFn=!1;n.addControl(i.define(r,t.id+"_linkLabel",t.name+"_linkLabel").setOptions({callBack:t.callBack}));n.addControl(i.define("widget.link",t.id+"_link",t.name+"_link").css("text-danger-inverse").label("").hasFn(t.dropdownOptions||!1))},onImplementsChildControl:function(n){var t=this;n.controlType==="widget.link"&&(n.getElements=function(){var t="a[data-cid='"+this.id+"']",n;return n=this.hasFn==!0?this.$el.find(t):this.$el.filter(t),$.isEmpty(n.text())?n.hasClass("hidden")||n.addClass("hidden"):n.hasClass("hidden")&&n.removeClass("hidden"),n},n.setTemplate=function(){this.hasFn&&(this.baseType=!1,this.template='((link))<div class="text-group-btn">((fn))<\/div>')},n.getFunctionListParentFn=function(){return t.$el.find("div.text-group-btn")},n.setSelector=function(){return this.$el.eq(0)})},setLinkValue:function(n){var t;t=this._hasFn==!0?this.get(1).$el.eq(0):this.get(1).$el;t.html(n);t.hasClass("hidden")&&t.removeClass("hidden")},getDefaultElements:function(){return $('<div class="text-group"><div class="text"><\/div><\/div>')}},taxTypeExpand:{controlType:"widget.combine.taxTypeExpand",initializeOptions:function(n){this._radioToggleValue=n.radioToggleValue;this._isToggleSelect=$.isEmpty(n.isToggleSelect)?!0:n.isToggleSelect;this._dateToggleValue=n.dateToggleValue||"IN1";this._dateAddonTitle=n.dateAddonTitle||ecount.resource.LBL01926},onInitChildControl:function(n,t){var l=widget.generator,i=l.control(),r=t.id,u=t.name,o,h,f,c,e,s;o=[["A1",ecount.resource.LBL02475],["00",ecount.resource.LBL04842],["A2",ecount.resource.LBL08304],["IN1",ecount.resource.LBL11718],["IN2",ecount.resource.LBL01926],["AF",ecount.resource.LBL07376]];t.data&&t.data[0]&&t.data[0].option&&(o=t.data[0].option);t.dates?e=t.dates[0]:(h=ecount.control.date.period.year.call(t.ecPageID),f=h[0],c=new Date(f.getFullYear(),f.getMonth()+1,0),e=[f.format("yyyyMMdd"),c.format("yyyyMMdd")]);s=i.define("widget.multiCode.taxType",r+"_code",u+"_TAX_TYPE").setChangeStateFuncName("_onMultiCodeChanged");$.isArray(t.codes)&&!$.isEmpty(t.codes)&&s.addCode(t.codes.shift());n.addControl(s);n.addControl(i.define("widget.radio",r+"_radio",u+"_RADIO").value(["L","S"]).label([ecount.resource.LBL00391,ecount.resource.LBL09400]).select(t._fixedSelectedValue&&t._fixedSelectedValue[0]).hide());this._isToggleSelect&&(n.addControl(i.define("widget.select",r+"_select",u+"_TYPE").option(o).select(t._fixedSelectedValue&&t._fixedSelectedValue[1]).setChangeStateFuncName("_onSelectChanged").css("mb-2")),n.addControl(i.define("widget.multiDate.YM",r+"_date",u+"_DATE").setAddonTitle(this._dateAddonTitle).select(e[0],e[1]).hide()));delete t._fixedSelectedValue},_onSelectChanged:function(n,t,i){var u=this.get(i).getValue(),r=this.get(3);u==this._dateToggleValue?r.show():r.hide()},_onMultiCodeChanged:function(n,t,i){var r=this.get(i).getSelectedCode();r&&r.length==1&&($.isString(r[0])&&r[0]==this._radioToggleValue||$.isPlainObject(r[0])&&r[0].value==this._radioToggleValue)?(this.toggleRadio(!0,!1),this.setValue("L",1)):this.toggleRadio(!1,!1)},_getControl:function(n){return this.get(this.id+"_"+n)},getValue:function(){var n=[],t=this._getControl("code"),u=this._getControl("radio"),i=this._getControl("select"),f=this._getControl("date"),r=t.getSelectedCode();return n.push(t.getSelectedCode()),r.length==1&&r.first()==this._radioToggleValue&&n.push(u.getValue()),this._isToggleSelect&&n.push(i.getValue()),this._isToggleSelect&&i.getValue()==this._dateToggleValue&&n.push(f.getDate()),n},setValue:function(n,t){var i=this._getControl("radio");$.isEmpty(t)?(this.addCode(n[0]),typeof n=="string"&&i.setValue(n[1],n[1],!0),this.select(n[2]),this.setDate(n)):(t==0&&this.addCode(n),t==1&&typeof n=="string"&&i.setValue(n,n,!0),t==2&&this.select(n),t==3&&this.setDate(n))},addCode:function(n){var t=this._getControl("code");$.isArray(n)&&n.length>0&&t.addCodes(n)},removeCode:function(n){var t=this._getControl("code");!$.isEmpty(n)&&t&&t.removeCode(n)},removeAllCode:function(){var n=this._getControl("code");n&&n.removeAll()},setDate:function(n){var t=this._getControl("date");$.isArray(n)&&n.length==2&&t.setDate(n)},select:function(n){if(n&&typeof n=="string"){var t=this._getControl("select");t.setValue(n,!0);this._onSelectChanged(null,n,t.id)}},toggleRadio:function(n){var t=this.get(1);n?t.show():t.hide()},disableRadio:function(n){var t=this._getControl("radio");t.setReadOnly(n)},disableUncheckRadio:function(){var n=this._getControl("radio");n.setUncheck();n.setReadOnly(!0)},serialize:function(){var n=[],t=this._getControl("code"),u=this._getControl("radio"),i=this._getControl("select"),f=this._getControl("date"),r=t.getSelectedCode();return n.push(t.serialize()),this._isToggleSelect&&n.push(i.serialize()),r.length==1&&r.first()==this._radioToggleValue&&n.push(u.serialize()),this._isToggleSelect&&i.getValue()==this._dateToggleValue&&$.merge(n,f.serialize()),n}},person:{controlType:"widget.combine.person",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=ecount.resource;n.addControl(i.define("widget.radio",t.id+"_radio",t.name+"_radio").label([r.LBL80089,r.LBL01587]).value(["A","S"]).select("S").setChangeStateFuncName("toggleDisplay"));t.isCS===!0?n.addControl(i.define("widget.multiCode.cs",t.id+"_code",t.name+"_code").setOptions({hasCodeComplete:!0})):n.addControl(i.define("widget.multiCode.person",t.id+"_code",t.name+"_code").setOptions({hasCodeComplete:!0}))},toggleDisplay:function(){var n=this.get(0).getValue();n=="S"?(this.get(1).show(),this.setFocus(1)):n=="A"&&(this.get(1).reset(),this.get(1).hide())},setValue:function(n){$.isArray(n)&&n.length>0&&this.toggle(n[0]);$.isArray(n)&&n.length>1&&this.controlList[1].addCodes(n[1])},toggle:function(n){var t;t=n=="A"?"S":n=="S"?"A":this.getValue()[0];t=="A"?this.controlList[0].setValue("S"):this.controlList[0].setValue("A")},select:function(n){this.toggle(n)}},inputBetween:{controlType:"widget.combine.inputBetween",onInitChildControl:function(n,t){var c=ecount.resource,r=widget.generator,i=r.control(),u=t.inputType1||"widget.input",f=t.inputType2||"widget.input",e=t.inputName1||t.name+"_input1",o=t.inputName2||t.name+"_input2",l=t.overrideInput1||{},a=t.overrideInput2||{},s=t.maxlength1||100,h=t.maxlength2||100;n.setOptions({isHasRecursivedControls:!0});n.addControl(i.define(u,t.id+"_input1",e).setInlineIndex(0).maxLength(s)).addControl(i.define("widget.label",t.id+"_lbl",t.id+"_lbl").noneFlex(!0).setInlineIndex(0).label("~")).addControl(i.define(f,t.id+"_input2",o).setInlineIndex(0).maxLength(h))},serialize:function(){var n=[];return n.push(this.controlList[0].serialize()),n.push(this.controlList[2].serialize()),n},getValue:function(){var n=[];return n.push(this.controlList[0].getValue()),n.push(this.controlList[2].getValue()),n},setValue:function(n){n==undefined&&(n=[]);$.isArray(n)||(n=[n]);n.length>0&&this.controlList[0].setValue(n[0]);n.length>1&&this.controlList[2].setValue(n[1])},clearAll:function(){this.controlList[0].setEmpty();this.controlList[2].setEmpty()}},contractorNo:{controlType:"widget.combine.contractorNo",currentType:"D",onInitChildControl:function(n,t){var l=ecount.resource,i=widget.generator,a=i.control(),r,u,f,e,o,s=t.inputName1||t.name+"_iNo",h=t.inputName2||t.name+"_birthDate",c=t._iNoMaxLength||6;r=i.control().define("widget.input",t.id+"_iNo",s).setAddonTitle("").maxLength(c).setInlineIndex(0);u=i.control().define("widget.input.digit",t.id+"_birthDate",h).setAddonTitle("").maxLength(8).setInlineIndex(1);f=i.control().define("widget.input.digit",t.id+"_input1",s).maxLength(6).setInlineIndex(2);e=i.control().define("widget.input.digit",t.id+"_input1",h).maxLength(7).setInlineIndex(2);o=i.control().define("widget.label",t.id+"_lbl",t.id+"_lbl").label("~").noneFlex(!0).setInlineIndex(2);t.isDomestic===!0?(this.currentType="D",n.addControl(r.hide()),n.addControl(u.hide()),n.addControl(f),n.addControl(o),n.addControl(e)):(this.currentType="F",n.addControl(r),n.addControl(u),n.addControl(f.hide()),n.addControl(o.hide()),n.addControl(e.hide()))},serialize:function(){var n=[];return this.currentType=="D"?(n.push(this.controlList[2].serialize()),n.push(this.controlList[4].serialize())):this.currentType=="F"&&(n.push(this.controlList[0].serialize()),n.push(this.controlList[1].serialize())),n},getValue:function(){var n=[];return this.currentType=="D"?(n.push(this.controlList[2].getValue()),n.push(this.controlList[4].getValue())):this.currentType=="F"&&(n.push(this.controlList[0].getValue()),n.push(this.controlList[1].getValue())),n},setValue:function(n){n==undefined&&(n=[]);$.isArray(n)||(n=[n]);this.currentType=="D"?($.isEmpty(n[0])||this.controlList[2].setValue(n[0]),$.isEmpty(n[1])||this.controlList[4].setValue(n[1])):this.currentType=="F"&&($.isEmpty(n[0])||this.controlList[0].setValue(n[0]),$.isEmpty(n[1])||this.controlList[1].setValue(n[1]))},clearAll:function(){this.controlList[0].setValue("");this.controlList[1].setValue("");this.controlList[2].setValue("");this.controlList[4].setValue("")},changeType:function(n){this.clearAll();n=="D"?(this.controlList[0].hide(),this.controlList[1].hide(),this.controlList[2].show(),this.controlList[3].show(),this.controlList[4].show(),this.currentType=n):n=="F"&&(this.controlList[0].show(),this.controlList[1].show(),this.controlList[2].hide(),this.controlList[3].hide(),this.controlList[4].hide(),this.currentType=n)},getCurrentType:function(){return this.currentType}},doubleRadioLink:{controlType:"widget.combine.doubleRadioLink",onInitChildControl:function(n,t){var r=widget.generator,i=r.control(),u=r.control(),f=this;t._controls?this._controlProperties=t._controlProperties:this._initializeProperties(t);this._controlProperties.forEach(function(t,r){var f,u,e,o,s;switch(r){case 0:n.addControl(i.define("widget.radio",t.id,t.name).label(t.label).value(t.value).setChangeStateFuncName("_onMainRadioChanged").select(t.selectedValue));break;case 1:f=i.define("widget.radio",t.id,t.name).setAddonTitle(t.addonTitle).label(t.label).value(t.value).select(t.selectedValue).setChangeStateFuncName("_onSubRadioChanged");n.addControl(f);break;case 2:if(t.toggleValues&&t.toggleValues.length>0)for(u=0,e=t.toggleValues.length;u<e;u++)o=t.id+t.toggleNames[u].charAt(0).toUpperCase()+t.toggleNames[u].substr(1),s=t.name+"_"+t.toggleNames[u].toUpperCase(),n.addControl(i.define("widget.link",o,s).label(t.toggleTitles[u]).inline().css("ml-5").hide())}})},onImplementsChildControl:function(n){n.controlType==="widget.radio"&&(n._ON_CHANGE=function(t){n.callback&&n.callback(t);ecount.control.prototype._ON_CHANGE.call(n,t)})},onRenderComplete:function(){var n=this._getControl("main_radio").getValue(),t=this._getControl("sub_radio").getValue();this._onMainRadioChanged(null,n,!0);this._onSubRadioChanged(null,t,!0)},_initializeProperties:function(n){var u=n.id,f=n.name,i=ecount.resource,r,t,e;this._controlProperties=[];r={type:"main_radio",id:u+"_mainRadio",name:n.mainRadioName||f+"_MAIN_RADIO",label:[i.LBL01185,i.LBL07879],value:["N","Y"],selectedValue:"Y"};n.data&&n.data[0]&&(r.label=n.data[0].label,r.value=n.data[0].value);n._fixedSelectedValue&&n._fixedSelectedValue[0]&&(r.selectedValue=n._fixedSelectedValue[0]);this._controlProperties.push(r);t={type:"sub_radio",id:u+"_subRadio",name:n.subRadioName||f+"_SUB_RADIO",label:[i.LBL00830,i.LBL09235],value:["D","M"],selectedValue:"D",toggleValue:["Y"],addonTitle:n._addonTitle};n.data&&n.data[1]&&(t.label=n.data[1].label,t.value=n.data[1].value);n._fixedSelectedValue&&n._fixedSelectedValue[1]&&(t.selectedValue=n._fixedSelectedValue[1]);t.toggleValues=$.isArray(n.subRadioToggleValues)&&n.subRadioToggleValues||["Y"];t.addonTitle=n._addonTitle;this._controlProperties.push(t);e={type:"link",id:u,name:f+"_LINK",toggleNames:n.linkToggleNames||["setup"],toggleValues:n.linkToggleValues||["M"],toggleTitles:n.linkToggleTitles||[i.LBL01593]};this._controlProperties.push(e);delete n._fixedSelectedValue},_onMainRadioChanged:function(n,t,i){var r=this.get(i).getValue(),u=this._getProperty("sub_radio","toggleValues");u.contains(r)?this._toggleSubRadio(!0):this._toggleSubRadio(!1)},_onSubRadioChanged:function(n,t,i){var r=this.get(i).getValue();r&&this._toggleLinks(r)},_toggleSubRadio:function(n){var t=this._getControl("sub_radio");t&&(n?(t.show(),this._toggleLinks(t.getValue())):(t.hide(),this._toggleLinks()))},_toggleLinks:function(n){var r,u,i,f=this._findIndex(this._controlProperties,"link","type"),t,e;for(n?(u=this._getProperty("link","toggleValues"),i=this._findIndex(u,n)+f):i=-1,t=f,e=this.controlList.length;t<e;t++)r=this.controlList[t],i>=0&&t==i?r.show():r.hide()},_findIndex:function(n,t,i){for(var u,r=0,f=n.length;r<f;r++)if(u=i?n[r][i]:n[r],u==t)return r;return-1},_getControl:function(n){var t=this._findIndex(this._controlProperties,n,"type");return this.controlList[t]},_getProperty:function(n,t){return this._controlProperties.first(function(t){return t.type==n})[t]},serialize:function(){var n=[],t,i=this._getControl("main_radio"),r=this._getControl("sub_radio");return n.push(i.serialize()),t=this._getProperty("sub_radio","toggleValues"),t.contains(i.getValue())&&n.push(r.serialize()),n},extract:function(){var n=this._super.extract.call(this);return n._controlProperties=this._controlProperties,n},getValue:function(){var n=[],t,i=this._getControl("main_radio"),r=this._getControl("sub_radio");return n.push(i.getValue()),t=this._getProperty("sub_radio","toggleValues"),t.contains(i.getValue())&&n.push(r.getValue()),n},setValue:function(n){var t=this._getControl("main_radio"),i=this._getControl("sub_radio");$.isArray(n)?(t.setValue(n[0],n[0],!0),i.setValue(n[1],n[1],!0)):t.setValue(n,n,!0)},select:function(n,t){var i=this._getControl("main_radio"),r=this._getControl("sub_radio");$.isNumeric(t)&&n&&(t==0?i.setValue(n,n,!0):t==1&&r.setValue(n,n,!0))}},erpAppSetup:{controlType:"widget.combine.erpAppSetup",addedRadioControl:!1,onInitChildControl:function(n,t){var s=widget.generator,f=s.control(),r=ecount.resource,u,i,e,o;for(t._controls?this._controlProperties=t._controlProperties:this._initializeProperties(t),e=0,o=this._controlProperties.length;e<o;e++){i=this._controlProperties[e];switch(i.type){case"main_radio":u=f.define("widget.radio",i.id,i.name).label([r.LBL01448,r.LBL03589]).value(["Y","N"]).setChangeStateFuncName("_onMainRadioChanged").select(i.selectedValue);this.addedRadioControl=!0;break;case"cust":u=f.define("widget.code.cust",i.id,i.name).codeType(7).setAddonTitle(r.LBL00329);break;case"location":u=f.define("widget.code.wh",i.id,i.name).codeType(7).setAddonTitle(r.LBL85009);break;case"location_in":u=f.define("widget.code.wh",i.id,i.name).codeType(7).setAddonTitle(r.LBL01259);break;case"location_out":u=i.isReportType?f.define("widget.multiCode.wh",i.id,i.name).setAddonTitle(r.LBL85009):f.define("widget.code.wh",i.id,i.name).codeType(7).setAddonTitle(r.LBL01333);break;case"factory":u=f.define("widget.code.wh",i.id,i.name).codeType(7).setAddonTitle(r.LBL01547);break;case"screen":u=f.define("widget.radio",i.id,i.name).label(i.labels).value(i.values).select(i.selectedValue).setAddonTitle(r.LBL85292).multiLine();break;case"barcode":u=f.define("widget.radio",i.id,i.name).label([r.LBL01448,r.LBL03589]).value(["N","Y"]).select(i.selectedValue).setAddonTitle(r.LBL85287).multiLine();break;case"transaction":u=f.define("widget.select",i.id,i.name).option(i.options).select(i.selectedValue).setAddonTitle(r.LBL00321)}i.id.contains("_code_",!0)&&$.isArray(t.codes)&&!$.isEmpty(t.codes)&&u.addCode(t.codes.shift());i.toggleValues[0]||u.hide();n.addControl(u)}},onRenderComplete:function(){var n=this._getControl("main_radio").getValue();this._onMainRadioChanged(null,n,!0)},_ON_CONTROL_VISIBLEBORDER:function(){},_ON_CONTROL_FOCUSOUT:function(n){var t=n.__self;t.isInputBetween===!0&&this.setNextFocusByID(t.id)},_onMainRadioChanged:function(n,t,i){var r=this.get(i).getValue();this._toggleControls(r)},_initializeProperties:function(n){var r=n.id,u=n.name,f=ecount.resource,i,t;this._controlProperties=[];i={type:"main_radio",id:r+"_radio_main",name:n.ctrlRadioName||u+"_MAIN_RADIO",selectedValue:n._fixedSelectedValue&&n._fixedSelectedValue.shift()||"Y",toggleValues:[!0,!0]};this._addControlProperty(i);t=n.ctrlCustToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"cust",id:r+"_code_cust",name:n.ctrlCustName||u+"_CUST",toggleValues:t},this._addControlProperty(i));t=n.ctrlLocationToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"location",id:r+"_code_location",name:n.ctrlLocationName||u+"_LOCATION",toggleValues:t},this._addControlProperty(i));t=n.ctrlFactoryToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"factory",id:r+"_code_factory",name:n.ctrlFactoryName||u+"_FACTORY",toggleValues:t},this._addControlProperty(i));t=n.ctrlLocationOutToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"location_out",id:r+"_code_locationOut",name:n.ctrlLocationOutName||u+"_LOCATION_OUT",toggleValues:t,isReportType:n.isReportType},this._addControlProperty(i));t=n.ctrlLocationInToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"location_in",id:r+"_code_locationIn",name:n.ctrlLocationInName||u+"_LOCATION_IN",toggleValues:t},this._addControlProperty(i));t=n.ctrlInitScreenToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"screen",id:r+"_radio_initScreen",name:n.ctrlInitScreenName||u+"_INIT_SCREEN",labels:n.ctrlInitScreenLabels||[f.LBL09356,f.LBL09357],values:n.ctrlInitScreenValues||["C","S"],selectedValue:n._fixedSelectedValue&&n._fixedSelectedValue.shift()||"C",toggleValues:t},this._addControlProperty(i));t=n.ctrlBarcodeToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"barcode",id:r+"_radio_barCode",name:n.ctrlBarcodeName||u+"_BAR_CODE",selectedValue:n._fixedSelectedValue&&n._fixedSelectedValue.shift()||"Y",toggleValues:t},this._addControlProperty(i));t=n.ctrlTransTypeToggles||[!1,!1];this._isDisplayCapability(t)&&(i={type:"transaction",id:r+"_select_transactionType",name:n.ctrlTransTypeName||u+"_TRANS_TYPE",options:n.data&&n.data[0]&&n.data[0].option||[[]],selectedValue:n._fixedSelectedValue&&n._fixedSelectedValue.shift()||"",toggleValues:t},this._addControlProperty(i));delete n._fixedSelectedValue},_toggleControls:function(n){var i=this,r=n=="Y",t;this._controlProperties.forEach(function(n){if(n.toggleValues[0]&&n.toggleValues[1]||n.type=="main_radio")return!0;t=i._getControl(n.type);r?n.toggleValues[0]?t.show():t.hide():n.toggleValues[0]?t.hide():t.show()})},_addControlProperty:function(n){this._controlProperties.push($.extend({},n))},_getControlProperty:function(n,t){return this._controlProperties.first(function(t){return t.type==n})[t]},_getControl:function(n){var t=this._findIndex(this._controlProperties,n,"type");return this.controlList[t]},_isDisplayCapability:function(n){return n[0]||n[1]},_findIndex:function(n,t,i){for(var u,r=0,f=n.length;r<f;r++)if(u=i?n[r][i]:n[r],u==t)return r;return-1},serialize:function(){var t=[],r=this,i=this._getControl("main_radio").getValue()=="Y",n;return this._controlProperties.forEach(function(u){n=r._getControl(u.type);(i&&u.toggleValues[0]||!i&&u.toggleValues[1])&&(n.controlType.contains("widget.code",!0)?t.push({key:n.name,value:n.getSelectedItem()}):t.push(n.serialize()))}),t},getValue:function(){var n=[],r=this,t=this._getControl("main_radio").getValue()=="Y",i;return this._controlProperties.forEach(function(u){i=r._getControl(u.type);(t&&u.toggleValues[0]||!t&&u.toggleValues[1])&&n.push(i.getValue())}),n},select:function(n){var t=this._getControl("main_radio");t.setValue(n,n,!0)}},radioSingleSelect:{controlType:"widget.combine.radioSingleSelect",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,i=t.data;this._initProperties(t);n.addControl(r.define("widget.radio",u+"_radio",f+"_RADIO").label(this.toGeneratorOption(i,"label")).value(this.toGeneratorOption(i,"value")).setAddonTitle($.isString(t._addonTitle)&&t._addonTitle||$.isArray(t._addonTitle)&&t._addonTitle[0]).setChangeStateFuncName("toggleRadio").multiLine());n.addControl(r.define("widget.select",u+"_select",f+"_SELECT").option(i[0]&&$.isArray(i[0].option)&&i[0].option).setAddonTitle($.isArray(t._addonTitle)&&t._addonTitle[1]).hide())},_initProperties:function(n){this._toggleValues=n.toggleValues||[]},toggleRadio:function(n,t,i){var r=this.get(1),u=this.get(i).getValue();this._toggleValues.contains(u)?(r.show(),this.setFocus(1)):r.hide()},toggle:function(n){$.isString(n)?this.get(0).setValue(n,n,!0):$.isArray(n)&&(n.length>0&&this.get(0).setValue(n[0],n[0],!0),n.length>1&&this.get(1).setValue(n[1]))},serialize:function(){var n=[],t=this.get(0),i=this.get(1),r=t.getValue();return n.push(t.serialize()),this._toggleValues.contains(r)&&n.push(i.serialize()),n},getValue:function(){var n=[],t=this.get(0).getValue(),i=this.get(1);return n.push(t),this._toggleValues.contains(t)&&n.push(i.getValue()),n},setValue:function(n){var t=this.get(0),i=this.get(1);$.isString(n)?t.setValue(n,n,!0):$.isArray(n)&&($.isString(n[0])&&t.setValue(n[0],n[0],!0),$.isString(n[1])&&i.setValue(n[1]))}},contractType:{controlType:"widget.combine.contractType",onInitChildSetting:function(n){$.isArray(n._controls)&&n._controls.length>0&&(n._controls[0].callback=this.toggleRadio.bind(this),$.isArray(n._addonTitle)&&(n._controls[0]._addonTitle=n._addonTitle[0],n._controls[1]._addonTitle=n._addonTitle[1],n._controls[2]._addonTitle=n._addonTitle[2]))},onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),s=ecount.resource,r=t.id,u=t.name,e=t.data,f;this._initProperties(t);n.addControl(i.define("widget.radio",r+"_radio",u+"_RADIO").label(this.toGeneratorOption(e,"label")).value(this.toGeneratorOption(e,"value")).setAddonTitle($.isString(t._addonTitle)&&t._addonTitle||$.isArray(t._addonTitle)&&t._addonTitle[0]).setChangeStateFuncName("toggleRadio").setInlineIndex(0));f=i.define("widget.input",r+"_input",u+"_INPUT").value("0").alignRight().setAddonTitle($.isArray(t._addonTitle)&&t._addonTitle[1]).maxLength(t.maxLength).hide().setInlineIndex(1);$.isArray(t.numericRange)&&t.numericRange.length>=2&&f.numericOnly($.isArray(t.numericRange)&&t.numericRange[0]+t.numericRange[1],t.numericRange[1]);n.addControl(f);n.addControl(i.define("widget.checkbox",r+"_checkbox",u+"_CHECKBOX").label(t.checkboxLabel||[]).value(t.checkboxValue||[]).hide().setInlineIndex(1));n.addControl(i.define("widget.link",r+"Link",u+"_LINK").label(t.linkLabel||"").setAddonTitle($.isArray(t._addonTitle)&&t._addonTitle[2]).hide().setInlineIndex(2));n.addControl(i.define("widget.link",r+"Link2",u+"_LINK2").label(t.linkLabel2||"").setAddonTitle($.isArray(t._addonTitle)&&t._addonTitle[3]).hide().setInlineIndex(3))},_initProperties:function(n){this._inputToggleValues=n.inputToggleValues||[];this._linkToggleValues=n.linkToggleValues||[]},toggleRadio:function(){var n,t=this.get(0),i=this.get(1),r=this.get(2),u=this.get(3),f=this.get(4);n=t.getValue().toString();this.hideAll();t.show();this._inputToggleValues.contains(n)&&(i.show(),r.show(),f.show(),this.setFocus(1));this._linkToggleValues.contains(n)&&(u.show(),this.setFocus(3))},toggle:function(n){$.isString(n)?this.get(0).setValue(n,n,!0):$.isArray(n)&&(n.length>0&&this.get(0).setValue(n[0],n[0],!0),n.length>1&&this.get(2).setValue(n[1]))},serialize:function(){var n=[],t=this.get(0),i=this.get(1),r=this.get(2),u=t.getValue();return n.push(t.serialize()),this._inputToggleValues.contains(u)&&(n.push(i.serialize()),n.push(r.serialize())),n},getValue:function(){var n=[],t=this.get(0),i=this.get(1),r=this.get(2),u=t.getValue();return n.push(t.getValue()),this._inputToggleValues.contains(u)&&(n.push(i.getValue()),n.push(r.getValue())),n},setValue:function(n){var t=this.get(0),i=this.get(1),r=this.get(2);$.isString(n)?t.setValue(n,n,!0):$.isArray(n)&&($.isString(n[0])&&t.setValue(n[0],n[0],!0),$.isString(n[1])&&i.setValue(n[1]),$.isString(n[2])&&r.setValue(n[2]))}},selectPeriod:{controlType:"widget.combine.selectPeriod",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),i=ecount.resource,u=t.id,f=t.name,e=[];this.toolbar=$('<div class="input-group"/>');this.type=t.type||"sales";e=this.type=="stock"?[["1",i.LBL00785],["2",i.LBL02464],["0",i.LBL09235]]:[["1",i.LBL00785],["2",i.LBL02464],["3",i.LBL00791],["4",i.LBL06643],["5",i.LBL00784],["6",i.LBL06644],["0",i.LBL09235]];n.addControl(r.define("widget.select",u+"_select",f+"_select").option(e).select("1").setChangeStateFuncName("toggleSelect")).addControl(r.define("widget.label",u+"fromLabel",f+"fromLabel").label(i.LBL85249).setInlineIndex(1).hide()).addControl(r.define("widget.input",u+"fromInput",f+"fromInput").inline().numericOnly(3,0).css("w-50").setInlineIndex(1).setChangeStateFuncName("syncPeriod").setOptions({isNotChangeWidth:!0}).hide()).addControl(r.define("widget.label",u+"ToLabel",f+"ToLabel").label(" ~ "+i.LBL85250).setInlineIndex(1).hide()).addControl(r.define("widget.input",u+"ToInput",f+"ToInput").inline().numericOnly(3,0).css("w-50").setInlineIndex(1).setChangeStateFuncName("syncPeriod").setOptions({isNotChangeWidth:!0}).hide()).addControl(r.define("widget.label",u+"dayAgoLabel",f+"dayAgoLabel").label(i.LBL70612).setInlineIndex(1).hide())},toggleSelect:function(){var n=this.get(0).getValue();this.type=="stock"&&n=="0"?(this.get(2).show(),this.get(5).show(),this.setFocus(2)):n=="0"?(this.showAll(),this.setFocus(2)):(this.hideAll(),this.get(0).show(),this.setFocus(0))},syncPeriod:function(n,t,i){for(var e=this.get(i),s=e.getValue(),u,f,r,o=0,h=this.controlList.length;o<h;o++)r=this.get(o),r.controlType==="widget.input"&&(r.id.indexOf("fromInput")>-1?u=r:r.id.indexOf("ToInput")>-1&&(f=r));Number(u.getValue()||0)<Number(f.getValue()||0)&&(e==u?f.setValue(s):e==f&&u.setValue(s))},toggle:function(n){this.setValue(n)},getValue:function(){var n=[this.get(0).getSelectedItem(),this.get(2).getValue()];return this.type!="stock"&&n.push(this.get(4).getValue()),n},setValue:function(n){this.get(0).setSelectedValue(n[0]);this.get(2).setValue(n[1]);this.type!="stock"&&(this.get(4).setValue(n[2]),this.syncPeriod(0,null,this.get(4).id))}},doubleSelectCondition:{controlType:"widget.combine.doubleSelectCondition",onInitChildControl:function(n,t){var e=widget.generator,o=t.id,s=t.name,u,f,i,h,r;for(this.conditionList=t.conditionList,this.msgSkippedCondition=t.msgSkippedCondition,i=0,h=this.conditionList.length;i<h;i++)r=this.conditionList[i],u=e.control().define("widget.select",String.format("{0}_{1}_{2}",o,i,"main"),String.format("{0}_{1}_{2}",s,i,"MAIN")).setAddonTitle(ecount.resource.LBL12319+(i+1)).option(r.option[0]).select(r.selectedValue&&r.selectedValue[0]||"").setChangeStateFuncName("toggleCondition").setInlineIndex(i),f=e.control().define("widget.select",String.format("{0}_{1}_{2}",o,i,"sub"),String.format("{0}_{1}_{2}",s,i,"SUB")).option(r.option[1]).select(r.selectedValue&&r.selectedValue[1]||"").setInlineIndex(i),i>1&&u.hide(),i>0&&f.hide(),n.addControl(u),n.addControl(f)},toggleCondition:function(n,t,i){var f=this.getIndex(i),u=this.get(i),r=Math.floor(f/2);if(f%2==0&&u.getValue()==this.conditionList[r].defaultValue){this.hideConditionFrom(r);console.log(this.tabID+":     ");return}if(r>0){if(r==1&&this.getSelectValue(0,0)==this.conditionList[0].defaultValue){console.log(this.tabID+":       ");ecount.alert(this.msgSkippedCondition);u.setValue(u.getState(u.selectCompIndex,"opt.oldvalue"));return}this.showSubSelect(r);this.showCondition(r+1)}},showCondition:function(n){var t=this.get(n*2);t&&t.show()},hideCondition:function(n){var t=this.get(n*2);t&&t.hide()},hideConditionFrom:function(n){for(var t=n,i=this.conditionList.length;t<i;t++)t!=0&&(this.hideSubSelect(t),this.setSelectValue(t,0,this.conditionList[t].defaultValue),t>1&&t>n&&this.hideCondition(t))},showSubSelect:function(n){var t=this.get(n*2+1);t&&t.show()},hideSubSelect:function(n){var t=this.get(n*2+1);t&&t.hide()},setSelectValue:function(n,t,i){var r=this.get(n*2+t);r&&r.setValue(i)},getSelectValue:function(n,t){return this.get(n*2+t).getValue()},getValue:function(){for(var i=[],t,n=0,r=this.controlList.length;n<r;n++)n%2==0&&(t=[],t.push(this.controlList[n].getValue()),t.push(this.controlList[n+1].getValue()),i.push(t));return i}},countryCode:{controlType:"widget.combine.countryCode",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name,o=t.data;this.defaultOptions=t.defaultOptions||[[["","State"]],[["","City"]]];this.toggleValue=t.toggleValue||"CN";n.addControl(i.define("widget.code.country",r+"_country",u+"_country").setChangeStateFuncName("ON_CHANGE_CHILD_SELECTEDITEM").codeType(t.codeType).preventSync()).addControl(i.define("widget.select",r+"_state",u+"_state").setAddonTitle(t._addonTitle&&t._addonTitle[0]).option(this.defaultOptions[0]).css("mt-3").hide()).addControl(i.define("widget.select",r+"_city",u+"_city").setAddonTitle(t._addonTitle&&t._addonTitle[1]).option(this.defaultOptions[1]).css("mt-3").hide())},ON_CHANGE_CHILD_SELECTEDITEM:function(n,t){var u=t.label,i=t.value,r=function(n){return n!==Number.NEGATIVE_INFINITY&&n!==""&&n!==undefined&&n!==null};r(u)&&r(i)?i.toUpperCase()==this.toggleValue?(this.toggleState(!0),this.toggleCity(!0)):(this.toggleState(!1),this.toggleCity(!1)):(this.toggleState(!1),this.toggleCity(!1))},toggleState:function(n){var t=this.get(1);n==!0?t.show():t.hide()},toggleCity:function(n){var t=this.get(2);n==!0?t.show():t.hide()},addOption:function(n,t){var i=this.get(n);[1,2].contains(n)&&$.isArray(t)&&(i.removeOption(),i.addOption(t))},resetOption:function(n){var t=this.get(n);[1,2].contains(n)&&(t.removeOption(),t.addOption(this.defaultOptions[n-1]))}},codeLink:{controlType:"widget.combine.codeLink",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name;this.widgetName=t.widgetName;n.addControl(i.define("widget.code."+this.widgetName,r,u).setChangeStateFuncName("toggle").addCode(t.codes||[]).end()).addControl(i.define("widget.link",r,u).setAddonTitle(t._addonTitle).label(t.data&&t.data[0]&&t.data[0].label||"Setup").end()).multiLine()},toggle:function(){var n=this.get(0).getSelectedCode();n.length>0?$.isEmpty(n[0])?this.get(1).show():this.get(1).hide():this.get(1).show()},ON_CLICK:function(n,t,i,r){$.isEmptyObject(r)&&(r.command=this._makeCommandString()+"_code")}},prepay:{controlType:"widget.combine.prepay",onInitChildControl:function(n,t){var h=widget.generator,r=h.control(),e=t.id,o=t.name,c=ecount.resource,i=t.data,u=i[0]&&i[0].selectedValue||[],s,f;s=r.define("widget.checkbox.whole",e+"_option",o+"_OPTION").label(this.toGeneratorOption(i,"label")).value(this.toGeneratorOption(i,"value")).select.apply(r,u[0]||[]).setChangeStateFuncName("toggle").end();f=r.define("widget.select",e+"_month",o+"_MONTH").option(i[0]&&i[0].option).select(u[1]||"").setAddonTitle(t._addonTitle);u[0].contains(this.toggleValue)||f.hide();n.addControl(s).addControl(f)},toggle:function(){var t=this.get(0).getCheckedValue(),n=this.get(1);t.contains(this.toggleValue)?n.show():n.hide()},serialize:function(){var n=[],t=this.get(0).getCheckedValue();return n.push(this.get(0).serialize()),t.contains(this.toggleValue)&&n.push(this.get(1).serialize()),n}},prepayment:{controlType:"widget.combine.prepayment",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),e=t.id,o=t.name,c=ecount.resource,i=t.data,r=i[0]&&i[0].selectedValue||[],s,u;s=f.define("widget.radio",e+"_option",o+"_OPTION").label(this.toGeneratorOption(i,"label")).value(this.toGeneratorOption(i,"value")).select(r[0]&&r[0][0]||[]).setChangeStateFuncName("toggle").end();u=f.define("widget.select",e+"_month",o+"_MONTH").option(i[0]&&i[0].option).select(r[1]||"").setAddonTitle(t._addonTitle);i[0]&&i[0].value==this.toggleValue||u.hide();n.addControl(s).addControl(u)},toggle:function(){var t=this.get(0).getValue(),n=this.get(1);t==this.toggleValue?n.show():n.hide()},serialize:function(){var n=[],t=this.get(0).getValue();return n.push(this.get(0).serialize()),t==this.toggleValue&&n.push(this.get(1).serialize()),n}},codeType:{controlType:"widget.combine.codeType",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,f=t.name,i=ecount.resource;n.addControl(r.define("widget.select",u+"_type",f+"_CLASS").option([["I01",i.LBL03786],["I10",i.LBL02684],["I02",i.LBL05668],["I03",i.LBL05669],["I04",i.LBL05670],["I05",i.LBL05671],["I06",i.LBL00630],["I30",i.LBL05672]]).setChangeStateFuncName("toggle").end());n.addControl(r.define("widget.multiCode.custGroup",u+"_code",f+"_NO").addCode(t.codes||[]).setAddonTitle(i.LBL00737).end())},onAfterRender:function(){$.extend(this.get(1).defaultParam,{custGroupCodeClass:"I01",isApplyDisplayFlag:!0})},toggle:function(){var n=this.get(1),t=this.get(0).getValue();n.ecview&&(n.removeAll(),n.defaultParam.custGroupCodeClass=t)}},accountCode:{controlType:"widget.combine.accountCode",onInitChildControl:function(n,t){var r=widget.generator,i=r.control(),e=ecount.resource,u=t.codeName,f=t.multiCodeName;this.toggleValues=t.toggleValues;this.activedValue=this.toggleValues[0];n.addControl(i.define("widget.multiCode."+f,"txtGyeCode","SUB_ACCOUNT")).addControl(i.define("widget.code."+u,"txtGyeCode2","PARENT_ACCOUNT").codeType(7).hide())},toggle:function(n){this.toggleValues.contains(n)&&(this.hideAll(),n==this.toggleValues[0]?(this.get(0).show(),this.setFocus(0)):(this.get(1).show(),this.setFocus(1)),this.activedValue=n)},getType:function(){return this.activedValue},getValue:function(){var n=this.get(0);return this.activedValue==this.toggleValues[1]&&(n=this.get(1)),[this.getType(),n.getSelectedItem()]},setValue:function(n,t){var i=this.get(0);n==this.toggleValues[1]&&(i=this.get(1));i.addCodes(t);this.toggle(n,!0)}},repeat:{controlType:"widget.combine.repeat",onInitChildControl:function(n,t){var e=widget.generator,f=e.control(),o=e.control(),r=t.id,u=t.name,i=ecount.resource;n.addControl(f.define("widget.date",r+"_start_date",u+"_START_DATE").setAddonTitle(i.LBL05823).setInlineIndex(0));n.addControl(f.define("widget.radio",r+"_repeatition_frequency",u+"_REPEATITION_FREQUENCY").setAddonTitle(i.LBL13074).label([i.LBL01098,i.LBL01117,i.LBL01092,i.LBL01089]).value(["D","W","M","Y"]).select("D").setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(f.define("widget.input",r+"_day_cycle",u+"_DAY_CYCLE").numericOnly(3,0).setOptions({_isOriginalVisibel:!0,isNotChangeWidth:!0}).setAddonTitle(i.LBL01248).setInlineIndex(2));n.addControl(f.define("widget.label",r,u).label(i.LBL00467).noneFlex(!0).setInlineIndex(2));n.addControl(f.define("widget.input",r+"_week_cycle",u+"_WEEK_CYCLE").numericOnly(3,0).setOptions({_isOriginalVisibel:!0,isNotChangeWidth:!0}).hide().setAddonTitle(i.LBL01248).setInlineIndex(3));n.addControl(f.define("widget.label",r,u).label(i.LBL02579).hide().noneFlex(!0).setInlineIndex(3));n.addControl(f.define("widget.input",r+"_month_cycle",u+"_MONTH_CYCLE").numericOnly(3,0).setOptions({_isOriginalVisibel:!0,isNotChangeWidth:!0}).hide().setAddonTitle(i.LBL01248).setInlineIndex(4));n.addControl(f.define("widget.label",r,u).label(i.LBL00299).hide().noneFlex(!0).setInlineIndex(4));n.addControl(f.define("widget.input",r+"_year_cycle",u+"_YEAR_CYCLE").numericOnly(3,0).setOptions({_isOriginalVisibel:!0,isNotChangeWidth:!0}).hide().setAddonTitle(i.LBL01248).setInlineIndex(5));n.addControl(f.define("widget.label",r,u).label(i.LBL00926).hide().noneFlex(!0).setInlineIndex(5));n.addControl(f.define("widget.radio",r+"_month_standard",u+"_MONTH_STANDARD").label([i.LBL00467,i.LBL02579]).value(["D","W"]).select("D").hide().setAddonTitle(i.LBL13075).setChangeStateFuncName("toggleMonthStandard").setInlineIndex(6));n.addControl(f.define("widget.select",r+"_month_week",u+"_MONTH_WEEK").option([[1,i.LBL00116],[2,i.LBL00117],[3,i.LBL00118],[4,i.LBL00119]]).hide().setAddonTitle(i.LBL13076).setInlineIndex(7));n.addControl(f.define("widget.checkbox",r+"_week_day",u+"_WEEK_DAY").label([i.LBL08023,i.LBL04596,i.LBL03132,i.LBL01680,i.LBL01161,i.LBL00777,i.LBL02890]).value([0,1,2,3,4,5,6]).hide().setAddonTitle(i.LBL13077).setInlineIndex(8));n.addControl(f.define("widget.select",r+"_month_day",u+"_MONTH_DAY").option(this.getSelectedDataType()).hide().setAddonTitle(i.LBL13078).setOptions({_isOriginalVisibel:!0}).noneFlex(!0).setInlineIndex(9));n.addControl(f.define("widget.label",r+"_month_day_label",u+"_MONTH_DAY_LABEL").label(i.LBL00467).hide().noneFlex(!0).setInlineIndex(9));n.addControl(o.define("widget.select",r+"_year_day_select1",u+"_YEAD_DAY_SELECT1").option([[1,i.LBL08135],[2,i.LBL08136],[3,i.LBL08137],[4,i.LBL08138],[5,i.LBL08139],[6,i.LBL08140],[7,i.LBL08141],[8,i.LBL08142],[9,i.LBL08143],[10,i.LBL08144],[11,i.LBL08145],[12,i.LBL08146],]).hide().setAddonTitle(i.LBL13078).setOptions({_isOriginalVisibel:!0}).noneFlex(!0).setInlineIndex(10));n.addControl(f.define("widget.select",r+"_year_day_select2",u+"_YEAD_DAY_SELECT2").option(this.getSelectedDataType()).hide().setOptions({_isOriginalVisibel:!0}).noneFlex(!0).setInlineIndex(10));n.addControl(f.define("widget.label",r+"_year_day_label",u+"_YEAR_DAY_LABEL").label(i.LBL00467).hide().noneFlex(!0).setInlineIndex(10));n.addControl(f.define("widget.date",r+"_end_date",u+"_END_DATE").setAddonTitle(i.LBL02576).setInlineIndex(11))},toggleDisplay:function(){var n=this.get(1).getValue();this.hide([2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]);switch(n){case"D":this.show([2]);break;case"W":this.show([4,5,12]);break;case"M":this.show([6,7,10,13,14]);break;case"Y":this.show([8,9,15,16,17])}},toggleMonthStandard:function(){var n=this.get(10).getValue();this.hide([13,14,11,12]);n=="D"?this.show([13,14]):this.show([11,12])},getSelectedDataType:function(){for(var i,t=[],n=1;n<=30;n++)i=n.toString(),t.push([n,i]);return t.push(["31",ecount.resource.LBL01084]),t}},reminder:{controlType:"widget.combine.reminder",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),c=h.control(),e=t.id,o=t.name,r=ecount.resource,u=t.data,s=t.isReadonly||!1,i=t.notice||{label:[r.LBL93024,r.LBL93002,r.LBL02695,r.LBL10288],value:["SMS","EMAIL","MESSAGE","APP"],select:["SMS","EMAIL","MESSAGE","APP"],number:[0,0,0,0],hidden:[]};n.addControl(f.define("widget.checkbox",e+"_use_yn",o+"_USE_YN").label([r.LBL01448]).value(["U"]).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0));n.addControl(f.define("widget.select",e+"_use_option",o+"_USE_OPTION").option(u&&u[0]&&u[0].option||[]).select(u&&u[0]&&u[0].selectedValue).inline().hide().noneFlex(!0).setInlineIndex(0));n.addControl(f.define("widget.checkbox.noticeWay",e+"_notice",o+"_NOTICE").label(i.label).value(i.value).select.apply(f,i.select).setOptions({position:{rowPosition:0,cellPosition:0},number:i.number,names:[,,,"APP_PUSH_CHK_YN"],lockKeyIndex:i.value.indexOf("MESSAGE"),lockedIndex:i.value.indexOf("APP")}).hideCheckbox(i.hidden).readOnly(s).hide().noneFlex(!0).setInlineIndex(0));n.addControl(f.define(s?"widget.label":"widget.link",e+"Setting",o+"_SETTING").label(r.LBL80195).readOnly(s).hide().setInlineIndex(0))},toggleDisplay:function(){var n=this.get(0).getStandardValue();n[0]=="U"?(this.get(1).show(),this.get(2).show(),this.get(3).show()):(this.get(1).hide(),this.get(2).hide(),this.get(3).hide())},toggle:function(n){n==!0?(this.get(1).show(),this.get(2).show(),this.get(3).show()):(this.get(1).hide(),this.get(2).hide(),this.get(3).hide())},setNoticeCount:function(n){this.get(2).setCheckboxNumber(n)},setNoticeChecked:function(n,t){this.get(2).setCheckedValue(n,t||!1,!1)}},prodDocsCreateTarget:{controlType:"widget.combine.prodDocsCreateTarget",onInitChildControl:function(n,t){var s=widget.generator,f=s.control(),r=ecount.resource,h=t.id,c=t.name,l=t.data,u=t.paramName,i,e,o;t.labelView&&t.labelView.PROD_SELL_YN?(i=t.labelView.PROD_SELL_YN=="N"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;e=f.define("widget.radio","PROD_SELL_TYPE"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[0]||"PROD_SELL_TYPE").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.BTN00458).value(["B","Y","N"]).select(t.prodView?t.prodView.PROD_SELL_TYPE:"B").setOptions(this._getFormTableIndex(t,"PROD_SELL_TYPE"));n.addControl(e);t.labelView&&t.labelView.PROD_WHMOVE_YN?(i=t.labelView.PROD_WHMOVE_YN=="N"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;o=f.define("widget.radio","PROD_WHMOVE_TYPE"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[1]||"PROD_WHMOVE_TYPE").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL02728).value(["B","Y","N"]).select(t.prodView?t.prodView.PROD_WHMOVE_TYPE:"B").setOptions(this._getFormTableIndex(t,"PROD_WHMOVE_TYPE"));n.addControl(o)}},qualityCheck:{controlType:"widget.combine.qualityCheck",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),r=ecount.resource,e=t.id,c=t.name,l=t.data,u=t.paramName,i,o,s;t.labelView&&t.labelView.QC_BUY_YN?(i=t.labelView.QC_BUY_YN=="N"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;o=f.define("widget.radio","QC_BUY_TYPE"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[0]||"QC_BUY_TYPE").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL09351).setOptions(this._getFormTableIndex(t,"QC_BUY_TYPE")).value(["B","Y","N"]).select(t.prodView?t.prodView.QC_BUY_TYPE:"B");n.addControl(o);t.labelView&&t.labelView.QC_PROD_YN?(i=t.labelView.QC_PROD_YN=="N"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;s=f.define("widget.radio",(t.originControlID||e)+"QC_YN"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[1]||"QC_YN").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL01563).setOptions(this._getFormTableIndex(t,e+"QC_YN")).value(["B","Y","N"]).select(t.prodView?t.prodView.QC_YN:"B");n.addControl(s)}},safeInvMng:{controlType:"widget.combine.safeInvMng",onInitChildControl:function(n,t){var v=widget.generator,f=v.control(),r=ecount.resource,y=t.id,p=t.name,w=t.data,u=t.paramName,i,e,o,s,h,c,l,a;t.labelView&&t.labelView.ORDER_QTY_LIMIT?(i=t.labelView.ORDER_QTY_LIMIT=="0"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;e=f.define("widget.radio","sheet_radio"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[0]||"SAFE_A0001").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL02586).setOptions(this._getFormTableIndex(t,"sheet_radio")).value(["0","1","2"]).select(t.setupView?t.setupView[0].VALUE:"0");n.addControl(e);t.labelView&&t.labelView.QTY_LIMIT?(i=t.labelView.QTY_LIMIT=="0"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;o=f.define("widget.radio","sell_radio"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[1]||"SAFE_A0002").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.BTN00458).value(["0","1","2"]).setOptions(this._getFormTableIndex(t,"sell_radio")).select(t.setupView?t.setupView[1].VALUE:"0");n.addControl(o);t.labelView&&t.labelView.ISSUE_LIMIT?(i=t.labelView.ISSUE_LIMIT=="0"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;s=f.define("widget.radio","prod_out"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[2]||"SAFE_A0003").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL01550).value(["0","1","2"]).setOptions(this._getFormTableIndex(t,"prod_out")).select(t.setupView?t.setupView[2].VALUE:"0");n.addControl(s);t.labelView&&t.labelView.CONSUME_LIMIT?(i=t.labelView.CONSUME_LIMIT=="0"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;h=f.define("widget.radio","prod_in"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[3]||"SAFE_A0004").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL01563).value(["0","1","2"]).setOptions(this._getFormTableIndex(t,"prod_in")).select(t.setupView?t.setupView[3].VALUE:"0");n.addControl(h);t.labelView&&t.labelView.WHMOVE_LIMIT?(i=t.labelView.WHMOVE_LIMIT=="0"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;c=f.define("widget.radio","house_move"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[4]||"SAFE_A0005").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL02728).value(["0","1","2"]).setOptions(this._getFormTableIndex(t,"house_move")).select(t.setupView?t.setupView[4].VALUE:"0");n.addControl(c);t.labelView&&t.labelView.STOCKSELFLIMIT_TYPE?(i=t.labelView.STOCKSELFLIMIT_TYPE=="0"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;l=f.define("widget.radio","self_emp"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[5]||"SAFE_A0006").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL02283).value(["0","1","2"]).setOptions(this._getFormTableIndex(t,"self_emp")).select(t.setupView?t.setupView[5].VALUE:"0");n.addControl(l);t.labelView&&t.labelView.STOCKDEFECTLIMIT_TYPE?(i=t.labelView.STOCKDEFECTLIMIT_TYPE=="0"?ecount.resource.LBL03589:ecount.resource.BTN00346,i=String.format(ecount.resource.LBL12479,i)):i=r.LBL08396;a=f.define("widget.radio","remove_defect"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),u&&u[6]||"SAFE_A0007").label([i,r.LBL07879,r.LBL07880]).setAddonTitle(r.LBL01411).value(["0","1","2"]).setOptions(this._getFormTableIndex(t,"remove_defect")).select(t.setupView?t.setupView[6].VALUE:"0");n.addControl(a)}},bomMainItem:{controlType:"widget.combine.bomMainItem",onInitChildControl:function(n,t){var h=widget.generator,r=h.control(),u=ecount.resource,c=t.id,l=t.name,a=t.data,i=t.paramName,f=r.define("widget.code.prod","MAIN_PROD_CD"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[0]||"MAIN_PROD_CD").codeType(7).setOptions({isCheckBoxDisplayFlag:!1,checkMaxCount:1}).setOptions(this._getFormTableIndex(t,"MAIN_PROD_CD")).setInlineIndex(0),e,o,s;t.prodView&&t.prodView.MAIN_PROD_CD!=""&&f.addCode({label:t.prodView.MAIN_PROD_DES,value:t.prodView.MAIN_PROD_CD});n.addControl(f);e=r.define("widget.radio","SYNC_BOM_YN"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[1]||"SYNC_BOM_YN").label([u.LBL00344,u.LBL03589]).value(["Y","N"]).select(t.prodView?t.prodView.SYNC_BOM_YN:"N").setOptions(this._getFormTableIndex(t,"SYNC_BOM_YN")).setAddonTitle(u.LBL05122).setInlineIndex(1);n.addControl(e);o=r.define("widget.input","MAIN_PROD_CONVERT_QTY"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[2]||"MAIN_PROD_CONVERT_QTY").value(t.prodView?t.prodView.MAIN_PROD_CONVERT_QTY:"").setAddonTitle(u.LBL01294).setOptions({isNotChangeWidth:!0}).setOptions(this._getFormTableIndex(t,"MAIN_PROD_CONVERT_QTY")).numericOnly(10,4).setInlineIndex(2);n.addControl(o);n.addControl(r.define("widget.label",c+"_label",l+"_label").label(" / ").noneFlex(!0).setInlineIndex(2));s=r.define("widget.input","INPUT_QTY"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[2]||"INPUT_QTY").value(t.prodView?t.prodView.INPUT_QTY:"").setOptions(this._getFormTableIndex(t,"INPUT_QTY")).maxLength(9).numericOnly(7,0).setInlineIndex(2);n.addControl(s)},setValue:function(n){for(var t=0,i=n.length;t<i;t++)this.controlList[t].setValue(n[t])},getValue:function(){for(var t=[],i=this.controlList,n=0,r=i.length;n<r;n++)t.push(i[n].getValue());return t}},standardProdSize:{controlType:"widget.combine.standardProdSize",onInitChildControl:function(n,t){var w=widget.generator,o=w.control(),s=ecount.resource,b=t.id,k=t.name,d=t.data,i=t.paramName,r="3",h,c,l=!$.isEmpty(t.dataRules),a=!0,v=!1,y=!1,p,u,f,e;t.prodView&&t.prodView.SIZE_FLAG&&(t.prodView.SIZE_FLAG=="0"?(r=t.prodView.SIZE_CD!=""?"0":"3",t.prodView.SIZE_CD!=""&&(h={label:t.prodView.SIZE_DES,value:t.prodView.SIZE_CD},a=!1,v=!0,y=!1)):t.prodView.SIZE_FLAG=="2"?(r="2",t.prodView.SIZE_CALC_CD!=""&&(c={label:t.prodView.SIZE_CALC_DES,value:t.prodView.SIZE_CALC_CD},a=!1,v=!1,y=!0)):r=t.prodView.SIZE_FLAG);p=o.define("widget.radio","SIZE_FLAG"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[0]||"SIZE_FLAG").label([s.LBL00749,s.LBL00747,s.LBL00739,s.LBL11874]).value(["3","0","1","2"]).setChangeStateFuncName("toggleDisplay").setOptions(this._getFormTableIndex(t));r&&p.select(r);n.addControl(p);u=o.define("widget.input.general","SIZE_DES"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[1]||"SIZE_DES").value(t.prodView&&$.isEmpty(t.prodView.SIZE_CD)?t.prodView.SIZE_DES:"").setOptions(this._getFormTableIndex(t)).filter("maxlength",{message:String.format(ecount.resource.MSG00297,100,100),max:100});t.removeFn||u.hasFn([{id:"sizeDesDupCheck",label:ecount.resource.BTN00236}]);l&&u.dataRules(t.dataRules);n.addControl(a?u:u.hide());f=o.define("widget.multiCode.prodSize","SIZE_CD"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[2]||"SIZE_CD").setOptions(this._getFormTableIndex(t,"SIZE_CD")).setOptions({popupURL:"/ECERP/SVC/Popup/CM002P",checkMaxCount:1,isOnePopupClose:!1,isIncludeInactive:!1});h&&f.addCode(h);l&&f.dataRules(t.dataRules);n.addControl(v?f:f.hide());e=o.define("widget.multiCode.prodSizeCalc","SIZE_CALC_CD"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[3]||"SIZE_CALC_CD").setOptions(this._getFormTableIndex(t,"SIZE_CALC_CD")).setOptions({popupURL:"/ECERP/SVC/Popup/CM002P",checkMaxCount:1,isOnePopupClose:!1,isIncludeInactive:!1});c&&e.addCode(c);l&&e.dataRules(t.dataRules);n.addControl(y?e:e.hide())},toggleDisplay:function(){var r=this.get(0).getValue(),n=!0,t=!1,i=!1;switch(r){case"0":n=!1;t=!0;i=!1;break;case"2":n=!1;t=!1;i=!0}n?this.show(1):this.hide(1);t?this.show(2):this.hide(2);i?this.show(3):this.hide(3)},validate:function(){return this.toggleDisplay(),this._super.validate.apply(this,arguments)}},priceVat:{controlType:"widget.combine.priceVat",preventValidateIdx:[1],onInitChildControl:function(n,t){var e=widget.generator,u=e.control(),s=ecount.resource,h=t.id,c=t.name,l=t.data,i=t.paramIds,r=t.paramNames,o=u.define("widget.input",i&&i[0]+(t._useTableRowIndex?"_"+t.rowIdxTable:"")||"_PRICE",r&&r[0]||"_PRICE").numericOnly(t.lenUnitPrice,t.lenDotUnitPrice).setOptions(this._getFormTableIndex(t,i&&i[0])).value(t.price?t.price:"").setInlineIndex(0).showZeroInPoint(!!t._showZeroInPoint).dataRules($.isEmpty(t.dataRules)?null:t.dataRules),f;n.addControl(o);f=u.define("widget.checkbox",i&&i[1]+(t._useTableRowIndex?"_"+t.rowIdxTable:"")||"_VAT",r&&r[1]||"VAT").label(ecount.resource.LBL00253).value("1").setOptions(this._getFormTableIndex(t,i&&i[1])).select(t.vat=="Y"||t.vat=="1"?"1":"").noneFlex(!0).setInlineIndex(0);n.addControl(f)},setValue:function(n){for(var t=0;t<n.length;t++)this.controlList[t].setValue(n[t])},getValue:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)t.push(this.controlList[n].getValue());return t}},exchRate:{controlType:"widget.combine.exchRate",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),s=ecount.resource,h=t.id,c=t.name,l=t.data,i=t.paramName,o=r.define("widget.input","EXCH_RATE"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[0]||"EXCH_RATE").numericOnly(18,6).setOptions($.extend(this._getFormTableIndex(t,"EXCH_RATE"),{isNotChangeWidth:!0})).value(t.prodView?t.prodView.SALEPRODEXCH_RATE:"").setInlineIndex(0).dataRules($.isEmpty(t.dataRules)?null:t.dataRules),u,f;n.addControl(o);u=r.define("widget.label","EXCH_RATELABEL"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[1]||"EXCH_RATELABEL").label(" / ").setOptions(this._getFormTableIndex(t,"EXCH_RATELABEL"),{isNotChangeWidth:!0}).noneFlex(!0).setInlineIndex(0);n.addControl(u);f=r.define("widget.input","DENO_RATE"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[2]||"DENO_RATE").maxLength(9).numericOnly(7,0).value(t.prodView?t.prodView.SALEPRODDENO_RATE:"").setOptions($.extend(this._getFormTableIndex(t,"DENO_RATE"),{isNotChangeWidth:!0})).setInlineIndex(0).dataRules($.isEmpty(t.dataRules)?null:t.dataRules);n.addControl(f)}},safeQty:{controlType:"widget.combine.safeQty",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=ecount.resource,s=t.id,h=t.name,c=t.data,i=t.paramName,f,e;ecount.config.inventory.WHSAFE_TYPE=="1"?(f=r.define("widget.link","whQty"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[0]||"whQty",u.BTN00084).label(u.BTN00084).setOptions(this._getFormTableIndex(t,"whQty")),n.addControl(f)):(e=r.define("widget.input","SAFE_QTY"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[1]||"SAFE_QTY").value(t.prodView?t.prodView.SAFE_QTY:"0").setOptions(this._getFormTableIndex(t,"SAFE_QTY")).numericOnly(8,0).dataRules($.isEmpty(t.dataRules)?null:t.dataRules),n.addControl(e))}},prodProc:{controlType:"widget.combine.prodProc",onInitChildControl:function(n,t){var l=widget.generator,e=l.control(),u=ecount.resource,a=t.id,v=t.name,y=t.data,r=t.paramId,o=t.paramName,h=56,c,f,i,s;if(t.whLevel==1)c=e.define("widget.multiCode.processCode",r&&r[0]+(t._useTableRowIndex?"_"+t.rowIdxTable:"")||"WH_CD"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),o&&o[i]||"WH_CD").setOptions({checkMaxCount:1,subTitle:u.LBL11056}).setOptions(this._getFormTableIndex(t,r&&r[0]||"WH_CD")),f=$.isArray(t.prodView)?t.prodView[0]:t.prodView,f&&f.WH_CD&&e.addCode({label:f.WH_DES,value:f.WH_CD}),$.isEmpty(t.dataRules)||e.dataRules(["required"],u.MSG01767),n.addControl(c);else for(i=0;i<t.whLevel;i++)s=e.define("widget.multiCode.processCode",r&&r[i]+(t._useTableRowIndex?"_"+t.rowIdxTable:"")||"WH_CD"+i+(t._useTableRowIndex?"_"+t.rowIdxTable:""),o&&o[i]||"WH_CD_"+i).setAddonTitle(u["LBL110"+h.toString()]).setOptions({checkMaxCount:1,subTitle:u["LBL110"+h.toString()]}).setOptions(this._getFormTableIndex(t,r&&r[i]||"WH_CD"+i)),t.prodView&&t.prodView[i]&&t.prodView[i].WH_CD&&s.addCode({label:t.prodView[i].WH_DES,value:t.prodView[i].WH_CD}),i==0&&t.isFirstRequired==!0&&s.dataRules(["required"],u.MSG01767),n.addControl(s),h++}},inspectStatus:{controlType:"widget.combine.inspectStatus",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=ecount.resource,h=t.id,c=t.name,l=t.data,i=t.paramName,e=t.prodView?t.prodView.INSPECT_STATUS:"L",s=u.define("widget.radio","INSPECT_STATUS"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[0]||"INSPECT_STATUS").label([f.LBL10932,f.LBL10923+"(%)"]).setOptions(this._getFormTableIndex(t,"INSPECT_STATUS")).value(["L","S"]).select(e).setChangeStateFuncName("toggleDisplay").setInlineIndex(0),r;n.addControl(s);r=u.define("widget.input","SAMPLE_PERCENT"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[1]||"SAMPLE_PERCENT").numericOnly(4,2).setOptions(this._getFormTableIndex(t,"SAMPLE_PERCENT")).value(t.prodView?t.prodView.SAMPLE_PERCENT:"").setInlineIndex(0).dataRules($.isEmpty(t.dataRules)?null:t.dataRules);e=="L"&&r.hide();n.addControl(r)},toggleDisplay:function(){var n=this.get(0).getValue();n=="L"?this.hide(1):this.show(1)}},minOrderQty:{controlType:"widget.combine.minOrderQty",onInitChildControl:function(n,t){var s=widget.generator,f=s.control(),r=ecount.resource,c=t.id,l=t.name,a=t.data,i=t.paramName,e=t.setupView?t.setupView[7].VALUE:"B",o=ecount.config.inventory.DEC_Q!=null&&ecount.config.inventory.DEC_Q!=""?ecount.config.inventory.DEC_Q:0,h=f.define("widget.select","CSORD_C0001"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[0]||"CSORD_C0001").option(["B",r.LBL08396],["Y",r.LBL07879],["N",r.LBL07880]).setOptions(this._getFormTableIndex(t,"CSORD_C0001")).select(e).setChangeStateFuncName("toggleDisplay").setInlineIndex(0),u;n.addControl(h);u=f.define("widget.input","CSORD_TEXT"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),i&&i[1]||"CSORD_TEXT").numericOnly(12+o,o).setOptions(this._getFormTableIndex(t,"CSORD_TEXT")).value(t.setupView?t.setupView[8].VALUE:"0").setInlineIndex(0).dataRules($.isEmpty(t.dataRules)?null:t.dataRules);e=="N"&&u.hide();n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getValue();n=="N"?this.hide(1):this.show(1)}},prodDivision:{controlType:"widget.combine.prodDivision",onInitChildControl:function(n,t){var e=widget.generator,f=e.control(),i=ecount.resource,o=t.id,s=t.name,h=t.data,r=t.paramName,u=t.prodView&&t.prodView.PROD_TYPE?t.prodView.PROD_TYPE:"1";t.isMultiProcess||t.isOemProd||(u=t.prodView&&t.prodView.PROD_TYPE?t.prodView.PROD_TYPE:"3");n.addControl(f.define("widget.radio","PROD_TYPE"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),r&&r[0]||"PROD_TYPE").setOptions(this._getFormTableIndex(t,"PROD_TYPE")).value(["0","4","1","2","3","7"]).label([i.LBL02025,i.LBL01387,i.LBL02538,i.LBL01250,i.LBL01523,i.LBL15087]).select(u).setChangeStateFuncName("toggleDisplay").readOnly(t.EditFlag=="M"&&!$.isEmpty(t.prodView.G_PROD_CD)&&!t.PROD_FLAG.equals("G")?!0:!1).setInlineIndex(0));n.addControl(f.define("widget.radio","SET_FLAG"+(t._useTableRowIndex?"_"+t.rowIdxTable:""),r&&r[1]||"SET_FLAG").setOptions(this._getFormTableIndex(t,"SET_FLAG")).setOptions({hidden:t.settingFlag&&t.settingFlag.indexOf(u)>-1?!1:!0}).value(["1","0"]).label([i.LBL01448,i.LBL03589]).select(t.prodView&&t.prodView.SET_FLAG?t.prodView.SET_FLAG:"0").setAddonTitle(i.LBL01647).readOnly(t.EditFlag==="M"&&!$.isEmpty(t.prodView.G_PROD_CD)&&!t.PROD_FLAG.equals("G")?!0:!1).setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();this.settingFlag.indexOf(n)>-1?this.get(1).show():(this.get(1).hide(),this.get(1).setValue("0"))},setReadOnlyByIndexes:function(n,t,i){if(this.setReadOnly(t,n),i){var r={syncHandler:this.setReadOnlyByIndexes,cid:this.id,__self:this,targetID:this.id,isCombine:!0,args:[n,t,!1]};this.delegator&&this.delegator.triggerEvent("control.change",r)}}},calendarSearch:{controlType:"widget.combine.calendarSearch",spanClass:["prev","today","next"],onInitChildControl:function(n,t){var f=widget.generator,e=f.control(),i=t.id,o=t.name,r=ecount.resource,s='<span id="btn'+this.containerName+'calendarprev" class="'+this.spanClass[0]+'" data-cid="'+i+'_button" data-name="'+this.spanClass[0]+'">'+r.LBL00921+'<\/span>\n<span id="btn'+this.containerName+'calendartoday" class="'+this.spanClass[1]+'" data-cid="'+i+'_button" data-name="'+this.spanClass[1]+'">'+r.LBL09574+'<\/span>\n<span id="btn'+this.containerName+'calendarnext" class="'+this.spanClass[2]+'" data-cid="'+i+'_button" data-name="'+this.spanClass[2]+'">'+r.BTN00572+"<\/span>",u;this.setCutInControlsTag([{index:0,html:s,front:!0}]);u=e.define("widget.date",i+"_date",o+"_DATE").setOptions({_isOnlyUseDatepicker:!0}).select(t.datePeriod||"").setInlineIndex(0).noneFlex(!0);t.dateHide&&u.setOptions({_hideDateButton:!0});n.addControl(u.end())},onAfterAttachView:function(n){var i=_.isBoolean(this.isForm)?this.isForm:!0,t;i||n.prop("tagName")==="DIV"?(this.$el.addClass("schedule-date-search"),n&&n.append(this.$el)):(t=$("<div class='wrapper-toolbar'><\/div>"),this.$el.addClass("schedule-date-search"),t.append(this.$el),n&&n.append(t))},executeChangeDelegator:function(n){_.indexOf(["prev","today","next","calendar.date"],n.searchName)!=-1&&(n.type="button.click",n.command="on"+["grid",this.id].select(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join(""));ecount.control.prototype.executeChangeDelegator.call(this,n)},ON_CLICK:function(n){this.spanClass.contains(n.dataName)&&this.executeChangeDelegator({date:n.dataName=="today"?(new Date).format("yyyyMMdd"):this.get(0).getDateFormat("yyyyMMdd")[0],searchName:n.dataName})},setValue:function(n){this.setChangeStateFuncCallFlag(!1);this.get(0).setDate(n);this.setChangeStateFuncCallFlag(!0)}},searchCondition:{controlType:"widget.combine.searchCondition",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,f=t.name,e=ecount.resource;n.addControl(i.define("widget.select",r+"_searchBy","SEARCH_BY").option([["0","======================="],["1",ecount.resource.LBL10728],["2",ecount.resource.LBL10729],["3",ecount.resource.LBL10730],["4",ecount.resource.LBL02716]]).select("0").setChangeStateFuncName("toggleDisplay").end());n.addControl(i.define("widget.multiCode.prodGroup",r+"_CLASS_CD","CLASS_CD",null).codeType(7).hide().end());n.addControl(i.define("widget.multiCode.wh",r+"_WH_CD","WH_CD",null).hide().end())},toggleDisplay:function(){var n=this.get(0).getValue();this.hideAll();this.get(0).show();n==="4"?this.get(2).show():(n==="1"||n==="2"||n==="3")&&this.get(1).show()}},passwordLevel:{controlType:"widget.combine.passwordLevel",onInitChildControl:function(n,t){var l=widget.generator,u=l.control(),f=t.id,h=ecount.resource,i=t.paramName,e=["position-relative"],r=t.pwdLevel,o=t.pwdLevelDes,s=t.editFlag,a=s=="I"?h.BTN00539:$.isEmpty(t.linkResource)?h.BTN00026:t.linkResource,c;this.editFlag=s;this._notRequired=!!t._notRequired;s=="I"&&(r=u.define("widget.input.password",f+"_pwdLevel",i&&i[0]||"PWD_LEVEL").passwordLevel(r).maxLength(15).setOptions({passWordValidationInfo:[[ecount.user.ID,ecount.resource.LBL01809],[ecount.user.UNAME,ecount.resource.LBL02116],[ecount.company.EMAIL,ecount.resource.LBL02117],[ecount.company.BUSINESS_NO,ecount.resource.LBL01437],[ecount.company.JUMIN_NO,ecount.resource.LBL01314],[ecount.company.TEL_NO1,ecount.resource.LBL04070],[ecount.company.BOSS_NAME,ecount.resource.LBL01035],[ecount.company.TEL_NO2,ecount.resource.LBL04071],[ecount.company.FAX,ecount.resource.LBL00223],[ecount.company.START_DATE_SM,ecount.resource.LBL04085],[ecount.company.SETTING_DATE,ecount.resource.LBL01591],[ecount.company.ELECTRON_ID,ecount.resource.LBL02471],[ecount.company.CONSENT_NUM,ecount.resource.LBL01434],[ecount.company.STD_INCM_RT_CD,ecount.resource.LBL01640],[ecount.company.ACCT_NO,ecount.resource.LBL00504]],_notRequired:this._notRequired}).noReplacement().setInlineIndex(0),this._notRequired||r.dataRules(["required"],ecount.resource.MSG01423),n.addControl(r),o=u.define("widget.label",f+"_pwdLevelDes",i&&i[1]||"PWD_LEVEL_DES").label(o).css("position-relative").noneFlex(!0).setInlineIndex(1),n.addControl(o));$.isEmpty(t.linkCss)||(e=e.concat(t.linkCss));c=u.define("widget.link",f+"_link",i&&i[2]||"ABOUT_LINK").label(a).css(e.join(" ")).setInlineIndex(1);n.addControl(c)}},defLocation:{controlType:"widget.combine.defLocation",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),e=t.id,c=ecount.resource,y=t.name,r=t.data,p=t._fixedSelectedValue,i=t.paramName,o=r&&r[0]&&r[0].value,l=t.isDefaultSet,a=t.editCode,v=t.checkGroupWh,s=f.define("widget.code.wh",e+"_checkGroupWh",i&&i[0]||"WH_CD").codeType(7).setOptions(this._getFormTableIndex(t,t.originControlID)).setDefault({isDefaultSet:l,editCode:a}),u;o&&s.addCode(o);n.addControl(s);u=f.define("widget.label",e+"_checkWh",i&&i[1]||"label_location").label(c.LBL08981).css("text-danger");v&&u.hide();n.addControl(u)},visibleWarning:function(n){n?this.get(1).show():this.get(1).hide()}},defaultDept:{controlType:"widget.combine.defaultDept",onInitChildControl:function(n,t){var c=widget.generator,r=c.control(),u=t.id,f=ecount.resource,y=t.name,e=t.data,l=t._fixedSelectedValue,i=t.paramName,a=t.prodView?t.prodView:"N",v=t.chkSite,l=r.define("widget.radio",u+"_radio",i&&i[0]||"SELECT_VALUE").label([f.LBL05716,f.LBL08921]).value(["N","Y"]).select(a),o,s,h;n.addControl(l);o=e&&e[1]&&e[1].value;s=r.define("widget.code.site",u+"_checkGroupSite",i&&i[1]||"CHECK_GROUP_SITE").codeType(7);o&&s.addCode(o);n.addControl(s);h=r.define("widget.label",u+"_deptCheckLbl",i&&i[2]||"CHECK_SITE").label(f.LBL08942).css("text-danger");v&&h.hide();n.addControl(h)},visibleWarning:function(n){n?this.get(2).show():this.get(2).hide()}},userWorkHours:{controlType:"widget.combine.userWorkHours",onInitChildControl:function(n,t){var v=widget.generator,u=v.control(),f=t.id,y=ecount.resource,p=t.name,i=t.data,w=t._fixedSelectedValue,r=t.paramName,h=t.mmOption||[],c=t.hhOption||[],l=u.define("widget.select",f+"_stimeHH",r&&r[0]||"START_TIME_HH").option(c).noneFlex(!0).setInlineIndex(0),e,a,o,s;i[0]&&i[0].value&&l.select(i[0].value);n.addControl(l);e=u.define("widget.select",f+"_stimeMM",r&&r[1]||"START_TIME_MM").option(h).noneFlex(!0).setInlineIndex(0);i[1]&&i[1].value&&e.select(i[1].value);n.addControl(e);a=u.define("widget.label",f+"_slash",r&&r[2]||"SLASH").label("~").noneFlex(!0).setInlineIndex(0);n.addControl(a);o=u.define("widget.select",f+"_etimeHH",r&&r[3]||"END_TIME_HH").option(c).noneFlex(!0).setInlineIndex(0);i[2]&&i[2].value&&o.select(i[2].value);n.addControl(o);s=u.define("widget.select",f+"_etimeMM",r&&r[4]||"END_TIME_MM").option(h).noneFlex(!0).setInlineIndex(0);i[3]&&i[3].value&&s.select(i[3].value);n.addControl(s)}},emailID:{controlType:"widget.combine.emailID",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,o=ecount.resource,c=t.name,l=t.data,a=t._fixedSelectedValue,i=t.paramName,s=t.listMail,h=r.define("widget.label",u+"_txtEmail",i&&i[0]||"TXT_EMAIL").label(s).noneFlex(!0).setInlineIndex(0),f;n.addControl(h).noInlineDivider();f=r.define("widget.link",u+"_linkEmail",i&&i[1]||"LINK_EMAIL").label(o.BTN00026).noneFlex(!0).setInlineIndex(0);n.addControl(f)}},cardClassfication:{controlType:"widget.combine.cardClassfication",onInitChildControl:function(n,t){var s=widget.generator,f=s.control(),e=t.id,r=ecount.resource,h=t.name,c=t.data,l=t._fixedSelectedValue,i=t.paramName,o=t.selectCard,u;n.addControl(f.define("widget.radio",e+"_cardType",i&&i[0]||"RADIO_CARD").label([r.LBL01780,r.LBL05604]).value(["0","1"]).select(o||"0").setChangeStateFuncName("toggleDisplay"));u=f.define("widget.code.bankAccount",e+"_codePayment",i&&i[0]||"ACCOUNT_NO").codeType(7).setAddonTitle(r.LBL05606);o!="1"&&u.hide();n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getValue();n=="1"?this.get(1).show():this.get(1).hide()}},factoryType:{controlType:"widget.combine.factoryType",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),e=t.id,o=ecount.resource,c=t.name,l=t.data,a=t._fixedSelectedValue,i=t.paramName,r=t.factoryValue,u,s;n.addControl(f.define("widget.radio",e+"_factoryType",i&&i[0]||"CHK_GUBUN").label([ecount.resource.LBL07932,ecount.resource.LBL00562,ecount.resource.LBL01970]).value(["0","1","2"]).select(r||"0").setChangeStateFuncName("toggleDisplay"));u=f.define("widget.code.processCode",e+"_processCode",i&&i[1]||"PROCESS_CODE",ecount.resource.LBL00564).codeType(7).setAddonTitle(o.LBL00564);r||u.hide();n.addControl(u);s=f.define("widget.code.cust",e+"_outerFactory",i&&i[2]||"OUT_CUST").codeType(7).setAddonTitle(o.LBL08554);r&&r!="1"||u.hide();n.addControl(s)},toggleFactoryType:function(){this.toggleDisplay()},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"0":this.get(1).hide();this.get(2).hide();break;case"1":this.get(1).show();this.get(2).hide();break;case"2":this.get(1).show();this.get(2).show()}}},planSearchType:{controlType:"widget.combine.planSearchType",onInitChildControl:function(n,t){var c=widget.generator,u=c.control(),f=t.id,i=ecount.resource,l=t.name,a=t.data,v=t._fixedSelectedValue,r=t.paramName,e=t.typeValue||"detail",o,s,h;n.addControl(u.define("widget.radio",f+"_searchType",r&&r[0]||"SEARCH_TYPE").label([i.LBL09261,i.LBL09262]).value(["detail","summary"]).select(e).setChangeStateFuncName("toggleDisplay"));o=u.define("widget.radio",f+"_dateType",r&&r[1]||"DATA_TYPE").label([i.LBL02056,i.LBL09263,i.LBL09264,i.LBL00930,i.LBL09400]).value(["0","1","2","3","4"]).select("0").setAddonTitle(i.LBL09404);e=="summary"&&o.hide();n.addControl(o);s=u.define("widget.radio",f+"_summaryStandard",r&&r[2]||"SUMMARY_STANDARD").label([i.LBL09265,i.LBL09338+" 1",i.LBL09338+" 2",i.LBL09338+" 3",i.LBL09338+" 4"]).value(["0","1","2","3","4"]).select("0").setAddonTitle(i.LBL09338).multiLine();e=="summary"&&s.hide();n.addControl(s);h=u.define("widget.radio",f+"_displayType",r&&r[3]||"DISPLAY_TYPE").label([i.LBL02569,i.LBL03193]).value(["N","Y"]).select("N").setAddonTitle(i.LBL08075).multiLine();e!="summary"&&h.hide();n.addControl(h)},toggleDisplay:function(){var n=this.get(0).getValue();n=="detail"?(this.get(1).show(),this.get(2).show(),this.get(3).hide()):(this.get(1).hide(),this.get(2).hide(),this.get(3).show())}},multiLogin:{controlType:"widget.combine.multiLogin",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=t.id,e=ecount.resource,s=t.name,h=t.data,c=t._fixedSelectedValue,i=t.paramName,o=t.multiList||"";n.addControl(r.define("widget.label",u+"_txtMultiLogin",i&&i[0]||"MULTI_LOGIN").label(o).noneFlex(!0).setInlineIndex(0)).noInlineDivider();n.addControl(r.define("widget.link",u+"_linkMultiLogin",i&&i[1]||"LINK_MULTI").label(e.BTN00026).noneFlex(!0).setInlineIndex(0))}},businessInfo:{controlType:"widget.combine.businessInfo",onInitChildControl:function(n,t){var l=widget.generator,u=l.control(),f=t.id,e=ecount.resource,a=t.name,v=t.data,y=t._fixedSelectedValue,i=t.paramName,o=t.bizType||"1",h,r,c,s;n.addControl(u.define("widget.radio",f+"_businessType",i&&i[0]||"G_BUSINESS_TYPE").label([e.LBL05714,e.LBL05715,e.LBL05716]).value(["1","2","3"]).select(o).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));h=t.bizNo||"";r=u.define("widget.input.codeType",f+"_",i&&i[1]||"G_BUSINESS_INPUT").readOnly(!0).hide().hasFn(t.showClosureStatus?[{id:"custClosureStatus",label:t.closureStatusTitle||ecount.resource.LBL05718}]:!1).setInlineIndex(1);t.isFormType||o.toString()!=="1"||r.value(h);t.nationalFlagOptions&&r.setNationalFlag(t.nationalFlagOptions);t.__prettyFilter&&r.prettyFilter(t.__prettyFilter);n.addControl(r);c=u.define("widget.code.cust",f+"_chkCust",i&&i[2]||"G_BUSINESS_SEARCH").setOptions({checkMaxCount:1}).hide().setInlineIndex(2);!t.isFormType&&o.toString()==="2"&&t.custValue&&t.custValue.value&&t.custValue.value.length>0&&c.addCode(t.custValue);n.addControl(c);s=u.define("widget.input.codeType",f+"_DIRECT_INPUT",i&&i[1]+"_DIRECT_INPUT"||"G_BUSINESS_INPUT_DIRECT_INPUT").readOnly(!1).hide().hasFn(t.showClosureStatus?[{id:"custClosureStatus",label:t.closureStatusTitle||ecount.resource.LBL05718}]:!1).filter("maxbyte",{message:e.MSG01396,max:30}).setInlineIndex(3);t.isFormType||o.toString()!=="3"||s.value(h);t.nationalFlagOptions&&s.setNationalFlag(t.nationalFlagOptions);t.__prettyFilter&&r.prettyFilter(t.__prettyFilter);n.addControl(s)},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"1":this.get(1).show();this.get(2).hide();this.get(3).hide();break;case"2":this.get(1).hide();this.get(2).show();this.get(3).hide();_.get(ecount,"company.STATE_CODE")&&this.setNationalFlag(_.get(ecount,"company.STATE_CODE"));break;case"3":this.get(1).hide();this.get(2).hide();this.get(3).show()}},setValue:function(n){n[0]&&this.get(0).setValue(n[0]);n[1]&&this.get(1).setValue(n[1]);n[2]&&n[2].value&&n[2].value.length>0&&this.get(2).addCode(n[2])},setNationalFlag:function(n,t){this.get(1).setNationalFlag(n,t);this.get(3).setNationalFlag(n,t)},getNationalFlag:function(){return this.get(1).getNationalFlag()},setPrettyFilter:function(n){this.get(1).setPrettyFilter(n);this.get(3).setPrettyFilter(n)},getPrettyFilter:function(){return this.get(1).getPrettyFilter()},ON_CHANGE_CHILD_NATIONALCODE:function(n,t,i){this.getNationalFlag()&&this.getChangeStateFuncCallFlag()&&(this.setChangeStateFuncCallFlag(!1),this.controlList.forEach(function(n){n.id!==i&&n.getNationalFlag()&&n.setNationalFlag(t)},this),this.setChangeStateFuncCallFlag(!0))}},postAddress:{controlType:"widget.combine.postAddress",onInitChildControl:function(n,t){var h=widget.generator,o=h.control(),e=t.id,s=ecount.resource,c=_.isArray(t.dataRules)&&t.dataRules.length>0,u=t.paramName,r,f=o.define("widget.link",e+"addrLink",u&&u[0]||"ADDR_LINK").label(s.LBL11536).noneFlex(!0).setInlineIndex(0),i;t.nationalFlagOptions&&f.setNationalFlag(_.merge({},t.nationalFlagOptions,{isClickPopup:!0,isFnOption:!1}));t._useTableRowIndex&&(r=e.split("_"),r.pop(),r=r.join("_"),f.setOptions(this._getFormTableIndex(t,r+"addrLink")));n.addControl(f);i=o.define("widget.input",e+"_postNo",u&&u[1]||"POST_NO").filter("numberOnlyAndSign",{message:s.MSG00923}).maxLength(8).setInlineIndex(0);c&&i.dataRules(t.dataRules);t.__prettyFilter&&i.prettyFilter(t.__prettyFilter);t.nationalFlagOptions&&f.setNationalFlag(_.merge({},t.nationalFlagOptions,{isFnOption:!0,isIconHide:!0}));t.dropdownOptions&&(t.hasFn=!1,i.hasFn(t.dropdownOptions||!1));t.postNo&&i.value(t.postNo);n.addControl(i)},getValue:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.controlList[n].getValue());return t},setNationalFlag:function(n,t){var i=this.controlList.find(function(n){return n.controlType==="widget.link"});i&&i.setNationalFlag(n,t)},getNationalFlag:function(){var n=this.controlList.find(function(n){return n.controlType==="widget.link"});return n?n.getNationalFlag():""},setPrettyFilter:function(n){var t=this.controlList.find(function(n){return n.controlType==="widget.input"});t&&t.setPrettyFilter(n)},getPrettyFilter:function(){var n=this.controlList.find(function(n){return n.controlType==="widget.input"});return n?n.getPrettyFilter():null},ON_CHANGE_CHILD_NATIONALCODE:function(n,t,i){this.getNationalFlag()&&this.getChangeStateFuncCallFlag()&&(this.setChangeStateFuncCallFlag(!1),this.controlList.forEach(function(n){n.id!==i&&n.getNationalFlag()&&n.setNationalFlag(t,!1)},this),this.setChangeStateFuncCallFlag(!0))}},bizAddress:{controlType:"widget.combine.bizAddress",not_use_detail:!1,onInitChildControl:function(n,t){var l=widget.generator,o=l.control(),e=t.id,s=ecount.resource,a=t.name,v=t.data,y=t._fixedSelectedValue,c=_.isArray(t.dataRules)&&t.dataRules.length>0,i=t.paramName,u,h,f,r;t.use_post&&(h=o.define("widget.link",e+"addrLink",i&&i[0]||"ADDR_LINK").label(s.LBL11536).noneFlex(!0).setInlineIndex(0),t._useTableRowIndex&&(u=e.split("_"),u.pop(),u=u.join("_"),h.setOptions(this._getFormTableIndex(t,u+"addrLink"))),n.addControl(h),f=o.define("widget.input",e+"_postNo",i&&i[1]||"POST_NO").filter("numberOnlyAndSign",{message:s.MSG00923}).maxLength(8).setInlineIndex(0),c&&f.dataRules(t.dataRules),t.__prettyFilter&&f.prettyFilter(t.__prettyFilter),t.postNo&&f.value(t.postNo),n.addControl(f));this.not_use_detail=!!t.not_use_detail;this.not_use_detail||(r=o.define("widget.textarea",e+"_areaAddr",i&&i[2]||"AREA_ADDR").notLineAlignment().filter("maxlength",t.addrMaxlength?t.addrMaxlength:{message:String.format(s.MSG00297,"500","500"),max:500}).setInlineIndex(1),c&&r.dataRules(t.dataRules),t.nationalFlagOptions&&r.setNationalFlag(t.nationalFlagOptions),t.dropdownOptions&&(t.hasFn=!1,r.hasFn(t.dropdownOptions||!1)),t.addrValue&&r.value(t.addrValue),n.addControl(r))},getValue:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.controlList[n].getValue());return t},setNationalFlag:function(n,t){var i=this.controlList.find(function(n){return n.controlType==="widget.textarea"});i&&i.setNationalFlag(n,t)},getNationalFlag:function(){var n=this.controlList.find(function(n){return n.controlType==="widget.textarea"});return n?n.getNationalFlag():""},setPrettyFilter:function(n){var t=this.controlList.find(function(n){return n.controlType==="widget.input"});t&&t.setPrettyFilter(n)},getPrettyFilter:function(){var n=this.controlList.find(function(n){return n.controlType==="widget.input"});return n?n.getPrettyFilter():null}},exchangeSale:{controlType:"widget.combine.exchangeSale",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),e=t.id,o=ecount.resource,l=t.name,a=t.data,v=t._fixedSelectedValue,i=t.paramName;n.addControl(f.define("widget.radio",e+"_ioCodeBaseYn",i&&i[0]||"IO_CODE_SL_BASE_YN").label([o.LBL08396,o.LBL05716]).value(["Y","N"]).select(t.IO_CODE_SL_BASE_YN?t.IO_CODE_SL_BASE_YN:"Y").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));var y=t.ioSaleValue,c=t.isAdd,s=t.editFlag,r=$.isEmpty(t.ioValue)?"":t.ioValue,u=f.define("widget.select.ioType.sale",e+"_ioTypeSale",i&&i[1]||"IO_CODE_SL").defaultOptions({isAllAdd:!1,isAdd:c===!1?!1:!0,useYn:"A",editFlag:s?s:"M",ioValue:r}).setInlineIndex(0);t.IO_CODE_SL_BASE_YN!="N"&&u.hide();r&&u.select(r);n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"Y":this.get(1).hide();break;case"N":this.get(1).show()}}},exchangeBuy:{controlType:"widget.combine.exchangeBuy",onInitChildControl:function(n,t){var h=widget.generator,u=h.control(),f=t.id,e=ecount.resource,l=t.name,a=t.data,v=t._fixedSelectedValue,i=t.paramName;n.addControl(u.define("widget.radio",f+"_ioCodeBaseYn",i&&i[0]||"IO_CODE_BY_BASE_YN").label([e.LBL08396,e.LBL05716]).value(["Y","N"]).select(t.IO_CODE_BY_BASE_YN?t.IO_CODE_BY_BASE_YN:"Y").setInlineIndex(0).setChangeStateFuncName("toggleDisplay"));var y=t.ioBuyValue,c=t.isAdd,o=t.editFlag,s=$.isEmpty(t.ioValue)?"":t.ioValue,r=u.define("widget.select.ioType.purchase",f+"_ioTypeBuy",i&&i[1]||"IO_CODE_BY").defaultOptions({isAllAdd:!1,isAdd:c===!1?!1:!0,useYn:"A",editFlag:o?o:"M",ioValue:s}).setInlineIndex(0);t.IO_CODE_BY_BASE_YN!="N"&&r.hide();t.ioValue&&r.select(s);n.addControl(r)},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"Y":this.get(1).hide();break;case"N":this.get(1).show()}}},confirmerAuth:{controlType:"widget.combine.confirmerAuth",onInitChildControl:function(n,t){var v=widget.generator,u=v.control(),e=t.id,i=ecount.resource,r=t.paramName,y=t.userFlag,f=t.perType,o=t.isDefault,h=o?"widget.radio.withDivider":"widget.radio",c=o?0:undefined,l,s,a;y=="E"&&(f=="4"||f=="5")||f!=="1"?(l=u.define(h,e+"_radioAcc",r&&r[0]||"RADIO_ACC").label(t.data&&t.data[0]&&t.data[0].label||[i.LBL02178,i.LBL10052]).value(t.data&&t.data[0]&&t.data[0].value||[1,2]).setOptions({inlineDivider:c}).setAddonTitle(t._addonTitle&&t._addonTitle[0]||i.LBL30017),n.addControl(l),s=u.define(h,e+"_radioInv",r&&r[1]||"RADIO_INV").label(t.data&&t.data[1]&&t.data[1].label||[i.LBL02178,i.LBL10052]).value(t.data&&t.data[1]&&t.data[1].value||[1,2]).setOptions({inlineDivider:c}).setAddonTitle(t._addonTitle&&t._addonTitle[1]||i.LBL30019).setChangeStateFuncName("toggleDisplay"),o&&s.setAddonTitle(i.LBL30019),n.addControl(s),a=u.define("widget.link",e+"_link",r&&r[2]||"_LINK").label(i.BTN00168).css("position-relative ml-5").hide(),n.addControl(a)):f=="1"&&(n.addControl(u.define("widget.label","confirmer","confirmer","confirmer").label("MASTER").css("text-danger").setAddonTitle(i.LBL30017)),n.addControl(u.define("widget.label","confirmer","confirmer","confirmer").label("MASTER").css("text-danger").setAddonTitle(i.LBL30019)))},toggleDisplay:function(){if(this.get(1).controlType=="widget.label")return!1;var n=this.get(1).getValue();n&&(n=n.toString());switch(n){case"0":this.get(2).hide();break;case"1":this.get(2).hide();break;case"2":this.get(2).show()}}},foreignTransactionCondition:{controlType:"widget.combine.foreignTransactionCondition",onInitChildControl:function(n,t){var y=widget.generator,u=y.control(),f=t.id,e=t.name||t.id,i=ecount.resource,c=t.isBaseCurrency||!1,l,r,o,s,h,a,v;t.numericRange&&t.numericRange.length>0?(l=t.numericRange[0]+t.numericRange[1],r=t.numericRange[1]):(l=18,r=ecount.config.company.DEC_AMT);o=t._showZeroInPoint!=undefined?t._showZeroInPoint:ecount.config.company.ZERO_CHK_YN;s=u.define("widget.input",f+"_krw",e.toUpperCase()+"_KRW").numericOnly(15+r,r,i.MSG04553).showZeroInPoint(o).setOptions({isKrw:!0,isNotChangeWidth:!0}).setChangeStateFuncName("_krwChageValue").setInlineIndex(0);c||s.setAddonTitle(i.LBL02041);n.addControl(s);h=u.define("widget.checkbox",f+"_IncomeStatementCheckbox",e.toUpperCase()+"_INCOMESTATEMENTCHECKBOX").label([i.LBL13503]).value(["Y"]).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0);c===!0&&h.hide();n.addControl(h);a=u.define("widget.input",f+"_drCr",e.toUpperCase()+"_DRCR").numericOnly(15+r,r,i.MSG04553).showZeroInPoint(o).setAddonTitle(i.LBL02041+"("+(t.isDeposit?i.LBL01018:i.LBL02704)+")").hide().setChangeStateFuncName("_drcrChageValue").setInlineIndex(1).setOptions({isNotChangeWidth:!0});n.addControl(a);v=u.define("widget.input",f+"_IncomeStatementInput",e.toUpperCase()+"_INCOMESTATEMENTINPUT").numericOnly(15+r,r,i.MSG04553).showZeroInPoint(o).setAddonTitle(i.LBL13503).readOnly(!0).hide().setInlineIndex(2).setOptions({isNotChangeWidth:!0});n.addControl(v)},toggleDisplay:function(){var n=this.get(1).getValue();n!==!0||this.isBaseCurrency?(this.get(2).hide(),this.get(3).hide()):(this.get(2).show(),this.get(3).show());this._krwChageValue()},_krwChageValue:function(){var t=this.get(1).getValue(),n;t==!1&&(n=new Decimal(this.get(0).getValue()||0),this._setValue.call(this.get(2),n.toString()));this.calcIncomeStatement()},_drcrChageValue:function(){this.calcIncomeStatement()},calcIncomeStatement:function(){var r=this.get(3),n=new Decimal(this.get(0).getValue()||0),t=new Decimal(this.get(2).getValue()||0),i;i=this.isDeposit===!0?n.minus(t):t.minus(n);this._setValue.call(r,i.toString());this.chageIncomeStatementLabel()},chageIncomeStatementLabel:function(){var n=this.get(3),t=ecount.resource,i;i=n.getValue()>=0?t.LBL13501:t.LBL13502;n.changeAddonTitle(i)},_setValue:function(n){n&&this.setValue(n)},setValue:function(n){var r,t,u,i,f;if(n){if($.isPlainObject(n))for(u in n)t=this.controlList[u],r=n[u],this._setValue.call(t,r),t.isKrw==!0&&this._krwChageValue();else for(i=0,f=n.length;i<f;i++)t=this.controlList[i],r=n[i],this._setValue.call(t,r);this.toggleDisplay()}}},userPayLang:{controlType:"widget.combine.userPayLang",onInitChildControl:function(n,t){var h=widget.generator,e=h.control(),o=t.id,f=ecount.resource,a=t.name,i=t.data,v=t._fixedSelectedValue,r=t.paramName,s=i[0]&&i[0].value||"Y",c=t.defaultLang||f.LBL09108,l=e.define("widget.radio",o+"_langType",r&&r[0]||"LANG_TYPE").label([f.LBL80322+"("+c+")",f.LBL09235]).value(["Y","N"]).select(s).setChangeStateFuncName("toggleDisplay"),u;n.addControl(l);u=e.define("widget.code.languageDetail",o+"_language",r&&r[1]||"LANGUAGE").codeType(7);i[1]&&i[1].value&&u.addCode(i[1].value);s=="Y"&&u.hide();n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getValue();n&&(n=n.toString());n=="Y"?this.get(1).hide():this.get(1).show()},setValue:function(n,t){if(t)this.controlList[t].controlType.indexOf("widget.code")!=-1?this.controlList[t].addCode(n):this.controlList[t].setValue(n);else for(var i=0;i<n.length;i++)this.controlList[i].controlType.indexOf("widget.code")!=-1?this.controlList[i].addCode(n[i]):this.controlList[i].setValue(n[i])},getValue:function(){for(var t=[],n=0;n<this.controlList.length;n++)this.controlList[n].controlType.indexOf("widget.code")!=-1?t.push(this.controlList[n].getSelectedItem()):t.push(this.controlList[n].getValue());return t}},recoveryEmail:{controlType:"widget.combine.recoveryEmail",onInitChildControl:function(n,t){var l=widget.generator,f=l.control(),e=t.id,r=ecount.resource,a=t.name,i=t.data,u=t.paramName,h=f.define("widget.input",e+"_general_email",u&&u[0]||"EMAIL").value(i&&i[0]&&i[0].value).dataRules(["required","email"],r.MSG00008).filter("maxlength",{message:String.format(r.MSG00957,"100"),max:100}),c,o,s;t.isHideMail==!0&&h.hide();n.addControl(h);c=f.define("widget.checkbox",e+"_use_recovery",u&&u[1]||"USE_RECOVERY").label(r.LBL13541).value("Y").select(i&&i[1]&&i[1].value).setChangeStateFuncName("toggleDisplay");n.addControl(c);o=f.define("widget.label",e+"_info","INFO").label(r.MSG07990);i&&i[1]&&i[1].value=="Y"||o.hide();n.addControl(o);s=f.define("widget.input.general",e+"_recovery_email",u&&u[2]||"RECOVERY_EMAIL").value(i&&i[2]&&i[2].value).dataRules(["required","email"],r.MSG00008).filter("maxlength",{message:String.format(r.MSG00957,"100"),max:100});i&&i[1]&&i[1].value=="Y"||s.hide();n.addControl(s)},toggleDisplay:function(){var n=this.get(1).getValue();n?(this.get(2).show(),this.get(3).show()):(this.get(2).hide(),this.get(3).hide())},checkEmail:function(){var n=this.serialize(),t=!1;return $.isEmpty(n[0].value)&&(this.get(0).showError(""),this.get(0).setFocus(0),t=!0),ecount.validator.check("email",n[0].value)||(this.get(0).showError(ecount.resource.MSG00008),this.get(0).setFocus(0),t=!0),n[1].value[0]=="Y"&&($.isEmpty(n[3].value)&&(this.get(3).showError(""),this.get(3).setFocus(0),t=!0),ecount.validator.check("email",n[3].value)||(this.get(3).showError(ecount.resource.MSG00008),this.get(3).setFocus(0),t=!0)),t},validate:function(){return this.checkValidate(["required","email"],ecount.resource.MSG00008)},checkValidate:function(n,t){var i=[];return this._executeValidateIfVisible&&!this.get(0).isVisible()&&!this.get(3).isVisible()?i:(i=i.concat(ecount.control.prototype.validate.call(this.get(0),n||this.dataRules,t||this.dataRulesMsg)),this.get(3).isVisible()&&(i=i.concat(ecount.control.prototype.validate.call(this.get(3),n||this.dataRules,t||this.dataRulesMsg))),i)}},recoveryEmailVerify:{controlType:"widget.combine.recoveryEmailVerify",onInitChildControl:function(n,t){var l=widget.generator,f=l.control(),e=t.id,r=ecount.resource,a=t.name,i=t.data,u=t.paramName,c=f.define("widget.input",e+"_general_email",u&&u[0]||"EMAIL").value(i&&i[0]&&i[0].value).dataRules(["required","email"],r.MSG00008).setInlineIndex(0).filter("maxlength",{message:String.format(r.MSG00957,"100"),max:100}),o,s,h;i&&i[1]&&i[1].value=="Y"&&c.readOnly(!0);n.addControl(c);o=f.define("widget.link","verifySend","VerifySend").label(r.LBL40210).setInlineIndex(0);t.isButtonLink==!0&&(o=f.addCss("btn btn-primary first-child last-child").define("widget.button","verifySend","verifySend").label(r.LBL40210));n.addControl(o);s=f.define("widget.checkbox",e+"_use_recovery",u&&u[1]||"USE_RECOVERY").setInlineIndex(1).label(r.LBL13541).value("Y").select(i&&i[1]&&i[1].value).setChangeStateFuncName("toggleDisplay");t.isHideMail==!0&&s.hide();n.addControl(s);h=f.define("widget.input.general",e+"_recovery_email",u&&u[2]||"RECOVERY_EMAIL").setInlineIndex(2).value(i&&i[2]&&i[2].value).dataRules(["required","email"],r.MSG00008).filter("maxlength",{message:String.format(r.MSG00957,"100"),max:100});i&&i[1]&&i[1].value=="Y"||h.hide();n.addControl(h)},toggleDisplay:function(){var n=this.get(2).getValue();n?(this.get(0).readOnly(!0),this.get(3).show()):(this.get(0).readOnly(!1),this.get(3).hide())},checkEmail:function(){var n=this.serialize(),t=!1;return $.isEmpty(n[0].value)&&(this.get(0).showError(""),this.get(0).setFocus(0),t=!0),ecount.validator.check("email",n[0].value)||(this.get(0).showError(ecount.resource.MSG00008),this.get(0).setFocus(0),t=!0),n[2].value[0]=="Y"&&($.isEmpty(n[3].value)&&(this.get(3).showError(""),this.get(3).setFocus(0),t=!0),ecount.validator.check("email",n[3].value)||(this.get(3).showError(ecount.resource.MSG00008),this.get(3).setFocus(0),t=!0)),t},validate:function(){return this.checkValidate(["required","email"],ecount.resource.MSG00008)},checkValidate:function(n,t){var i=[];return this._executeValidateIfVisible&&!this.get(0).isVisible()&&!this.get(3).isVisible()?i:(i=i.concat(ecount.control.prototype.validate.call(this.get(0),n||this.dataRules,t||this.dataRulesMsg)),this.get(3).isVisible()&&(i=i.concat(ecount.control.prototype.validate.call(this.get(3),n||this.dataRules,t||this.dataRulesMsg))),i)}},usePassword:{controlType:"widget.combine.usePassword",onInitChildControl:function(n,t){var o=widget.generator,f=o.control(),e=t.id,s=ecount.resource,c=t.name,i=t.data,r=t.paramName,h=f.define("widget.checkbox",e+"_checkbox",r&&r[0]||"USE_PWD").label([s.LBL01448]).value(["Y"]).select(i[0]&&i[0].value).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0),u;n.addControl(h);u=f.define("widget.input.password",e+"_password",r&&r[1]||"PASSWORD").value(i[1]&&i[1].value).inline().setInlineIndex(0);i[0]&&i[0].value=="Y"||u.hide();n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getCheckedValue();n[0]==="Y"?this.get(1).show():this.get(1).hide()},getValue:function(){for(var t=[],n=0;n<this.controlList.length;n++)t.push(this.controlList[n].getValue());return t}},useTimeWidget:{controlType:"widget.combine.useTimeWidget",onInitChildControl:function(n,t){var o=widget.generator,f=o.control(),e=t.id,s=ecount.resource,c=t.name,i=t.data,l=t._fixedSelectedValue,r=t.paramName,h=f.define("widget.checkbox",e+"_checkbox",r&&r[0]||"USE_PWD").label([s.LBL01448]).value(["Y"]).select(i[0]&&i[0].value).setChangeStateFuncName("toggleDisplay").noneFlex(!0).setInlineIndex(0),u;n.addControl(h);u=f.define("widget.date.timeRange",e+"_time",r&&r[1]||"TIME").setOptions({_isOnlyUseTime:!0}).noneFlex(!0).setInlineIndex(0);i[0]&&i[0].value=="Y"||u.hide();n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getCheckedValue();n[0]==="Y"?this.get(1).show():this.get(1).hide()},setValue:function(n){$.isArray(n)?(n[0]&&this.get(0).setValue(n[0][0]),n[1]&&this.get(1).setDate(n[1])):n&&this.get(0).setValue(n)},getValue:function(){return[this.get(0).getCheckedValue(),this.get(1).getDate(),]}},disabledTime:{controlType:"widget.combine.disabledTime",onInitChildControl:function(n,t){var s=widget.generator,e=s.control(),o=t.id,f=ecount.resource,l=t.name,i=t.data,h=t.noTimeSync,r=t.paramName,c=e.define("widget.radio",o+"_use",r&&r[0]||"USE_TIME").label([f.LBL01448,f.LBL03589]).value(["Y","N"]).select(i[0]&&i[0].value||"Y").setChangeStateFuncName("toggleDisplay"),u;n.addControl(c);u=e.define("widget.date.timeRange",o+"_disable_time",r&&r[1]||"DISABLED_TIME").setAddonTitle(f.LBL85243);h&&u.noTimeSync();i[0]&&i[0].value=="N"&&u.hide();n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"Y":this.get(1).show();break;case"N":this.get(1).hide()}}},multipleControls:{controlType:"widget.combine.multipleControls",onInitChildControl:function(n,t){for(var r,s=widget.generator,e=s.control(),h=t.id,a=ecount.resource,c=t.name,o=t.childrenOptions,f=0,l=o.length,u,i;f<l;f++){i=o[f];u=e.define(i.type,[h,i.id].join("_"),[c,i.name].join("_"),i.groupId);for(r in i)["type","id","name"].contains(r)||e[r]&&(["dataRules","popover","hasDropdown","hasFn","hasLayerList",].contains(r)?u[r].apply(null,i[r]):u[r](i[r]));n.addControl(u.end())}},setValue:function(n){var t,r,i;if(n){if($.isArray(n)){for(t=0,r=this.controlList.length;t<r;t++)i=this.get(t),i.setValue(n[t]);return}if(typeof n=="obejct"&&n.hasOwnProperty("id")&&n.hasOwnProperty("value")){if(i=this.get(n.id),!i)throw Error("There's no control that has id [["+valeus.key+"]]");i.setValue(n.value)}}}},typeActual:{controlType:"widget.combine.typeActual",onInitChildControl_submit:function(n,t){this.onInitChildControl(n,t)},onInitChildControl:function(n,t){var h=widget.generator,e=h.control(),o=t.id,i=ecount.resource,c=t.name,r=t.data,u=t.paramName,s,f;if(this.isHide=t.isHide,s=e.define("widget.radio",o+"_radio",u&&u[0]||"REPORT_TYPE").label([i.LBL02020,i.LBL02621,i.LBL00292,i.LBL01715,i.LBL09541,i.LBL09542]).value(["1","4","5","6","7","8"]).select(r&&r[0]&&r[0].value||"1").setChangeStateFuncName("toggleDisplay"),n.addControl(s),this.isHide)return!1;if(f=e.define("widget.radio",o+"_standard",u&&u[1]||"TYPE").label([i.LBL80071+i.LBL09618,i.LBL13748]).value(["1","2"]).select(r&&r[1]&&r[1].value||"1").setAddonTitle(i.LBL35769),r&&r[0]&&r[0].value)switch(r[0].value){case"7":case"8":f.hide()}n.addControl(f)},toggleDisplay:function(){var n=this.get(0).getValue();if(this.isHide)return!1;switch(n){case"1":case"4":case"5":case"6":this.get(1).show();break;case"7":case"8":this.get(1).hide()}}},standardData:{controlType:"widget.combine.standardData",onInitChildControl:function(n,t){var l=widget.generator,f=l.control(),e=t.id,r=ecount.resource,v=t.data,u=t.paramName,i=t.setData,o=i[0].select==="B"?!0:!1,a=f.define("widget.radio",e+"_type",u&&u[0]||"TYPE").label([r.LBL08567,r.LBL08568]).value([i[0].value[0],i[0].value[1]]).select(i[0].select).setChangeStateFuncName("toggleRadio"),s,h,c;n.addControl(a);s=f.define("widget.radio",e+"_slip",u&&u[1]||"SLIP").label([r.LBL08019,r.LBL08571,r.LBL17774]).value([i[1].value[0],i[1].value[1],i[1].value[2]]).select(i[1].select).setAddonTitle(r.LBL04452).setChangeStateFuncName("toggleRadio");o&&s.hide();n.addControl(s);h=f.define("widget.radio",e+"_sales",u&&u[2]||"SALES").label([r.LBL08019,r.LBL17775,r.LBL17776]).value([i[2].value[0],i[2].value[1],i[2].value[2]]).select(i[2].select).setAddonTitle(r.LBL04452);o||h.hide();n.addControl(h);c=f.define("widget.radio",e+"_visible",u&&u[3]||"VISIBLE").label([r.LBL08019,r.LBL17778,r.LBL18160]).value([i[3].value[0],i[3].value[1],i[3].value[2]]).select(i[3].select).setAddonTitle(r.LBL17777);o&&c.hide();n.addControl(c)},toggleRadio:function(){var r=this.get(0).getValue(),n=this.get(1).getValue(),u=this.getValueOrigin(0),t=this.getValueOrigin(1),i=this.getValueOrigin(3),f=n===t[2];r===u[0]?(this.get(1).show(),this.get(2).hide(),this.get(3)[f===!0?"hide":"show"](),n===t[0]?this.get(3).setValue(i[0]):this.get(3).setValue(i[2])):(this.get(1).hide(),this.get(2).show(),this.get(3).hide())}},codeLabelLink:{controlType:"widget.combine.codeLabelLink",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),f=t.id,e=t.name,u=t.data,o=t.isEditMode===!1?!1:!0,i;i=r.define("widget.input.codeType",f+"_codeType",e+"_codeType").value(t.data[0]&&typeof t.data[0]=="object"?u[0].value?u[0].value:"":"").setInlineIndex(0);i=t.__filter?r.filter(t.__filter[0].type,t.__filter[0]):r.filter("maxbyte",{message:String.format(ecount.resource.MSG01136,"5","10"),max:10});i=r.dataRules(["required"],ecount.resource.MSG01207);o&&i.hide();n.addControl(i);i=r.define("widget.label",f+"_label",e+"_label").label(t.data[0]&&typeof t.data[0]=="object"?u[0].label?u[0].label:"":"").noneFlex(!0).setInlineIndex(1);o||i.hide();n.addControl(i);i=r.define("widget.link",f+"_link",e+"_link").label(ecount.resource.BTN00028).noneFlex(!0).setInlineIndex(1);o||i.hide();n.addControl(i)},toggleDisplay:function(n){var t=n&&n.cid.split("_").pop();t=="link"&&(this.get(0).show(),this.get(1).hide(),this.get(2).hide())},setValue:function(n){this.controlList[0].isVisible()||this.controlList[0].isReadOnly()!==!1?this.controlList[0].setValue(n):this.controlList[1].setLabel(n)},getValue:function(){return this.controlList[0].isVisible()||this.controlList[0].isReadOnly()!==!1?this.controlList[0].getValue():this.controlList[1].getValue()},ON_CLICK:function(n,t){this.toggleDisplay(n,t)}},typeVariance:{controlType:"widget.combine.typeVariance",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,e=t.name,i=ecount.resource,r;r=u.define("widget.radio",f+"_difference",e+"_difference").label([i.LBL05033,i.LBL06115,i.LBL06126,i.LBL06127]).value(["1","2","3","4"]).select("1").setChangeStateFuncName("toggleDisplay");n.addControl(r);r=u.define("widget.radio",f+"_base",e+"_base").label([i.LBL13757,i.LBL13748]).value(["1","2"]).select("1").setAddonTitle(i.LBL35769);n.addControl(r)},toggleDisplay:function(){var n=this.get(0).getValue();n!="4"?this.get(1).show():this.get(1).hide()}},changeFlag:{controlType:"widget.combine.changeFlag",onInitChildControl:function(n){var i=widget.generator,t=i.control();n.addControl(t.define("widget.select","C_CODE","C_CODE").setAddonTitle("").option([["0",""],["4","[]"],["8","[2012/02/28]"],["9","[2012/02/28]"]]).end());n.addControl(t.define("widget.date","C_DATE","C_DATE").setAddonTitle(" ").useSlipDate(!1).setOptions({_isMonthCalendar:!1}).hideDateControl(!0).end())},getValue:function(){return[this.get(0).getSelectedItem(),this.get(1).getDate(),this.get(1).getDateUseChecked()]},setValue:function(n){switch($.isArray(n)&&n.length){case 1:this.get(0).setSelectedValue(n[0]);break;case 2:this.get(0).setSelectedValue(n[0]);this.get(1).setDate(n[1]);break;case 3:this.get(0).setSelectedValue(n[0]);this.get(1).setDate(n[1]);this.get(1).setDateUseChecked(n[2]=="1"?!0:!1,!1)}},serialize:function(){for(var i,t,u,n=[],r=0,f=this.controlList.length;r<f;r++)i=this.get(r),t=i.serialize(),$.isArray(t)?n=n.concat(t):i._hideDateControl?(u=$.extend({},t),delete u.C_DATE_DATECHK,n.push(u),n.push({key:i.name+"_DATECHK",value:t[i.name+"_DATECHK"]})):n.push(t);return n}},fapiaoSale:{controlType:"widget.combine.fapiaoSale",_menuType:"",_invoiceType:0,_invoiceGroup:["B2B","B2B","B2C"],_beforeBarcodeValue:"",onInitChildControl:function(n,t){function l(n){for(var i=n.length,t=0;t<i;t++)$.isNull(n[t])||typeof n[t]=="object"&&($.isNull(n[t].label)||$.isNull(n[t].value))&&(n[t]=null);return n}var c=widget.generator,u=c.control(),f=t.id,e=t.name,a=t.data,o=!1,h=!1,r=ecount.resource,i=t._fixedSelectedValue&&l(t._fixedSelectedValue),s={};this._menuType=t.menuType;h=this._menuType&&this._menuType!="N"?!0:!1;o=this._menuType&&this._menuType=="S"?!0:!1;this._invoiceType=$.isNull(i&&i[0])?0:i[0];n.addControl(u.define("widget.radio",f+"_radio_1",e+"_radio_1").label([r.LBL14131,r.LBL14133,r.LBL14134]).value([0,1,2]).select(this._invoiceType).setChangeStateFuncName("toggleRadio").readOnly(h).setInlineIndex(0));s=u.define("widget.select",f+"_select",e+"_select").setChangeStateFuncName("toggleSelect").readOnly(h).setInlineIndex(1);i&&i[0]==2?s.option([["0",r.LBL01777],["1",r.LBL14154],["2",r.LBL14156],["3",r.LBL14158],["4",r.LBL20709],]):s.option([["0",r.LBL01777],["1",r.LBL14154],["2",r.LBL14156],]);s.select($.isNull(i&&i[1])?0:i[1]);n.addControl(s);this._menuType=="S"||this._menuType=="U"?s=u.define("widget.label",f+"_label_invoice",e+"_label_invoice").label($.isNull(i&&i[2])?"":typeof i[2]=="object"?i[2].label:i[2]).setAddonTitle(r.LBL14147).readOnly(h).setInlineIndex(2):(s=u.define("widget.multiCode.einvoiceCodeRange",f+"_multiCode_invoice",e+"_multiCode_invoice").setAddonTitle(r.LBL14147).setOptions({checkMaxCount:1}).readOnly(h).dataRules(["required"]).setInlineIndex(2),s.addCode($.isNull(i&&i[2])?[]:i[2]));n.addControl(s);n.addControl(u.define("widget.radio",f+"_radio_2",e+"_radio_2").setAddonTitle(r.LBL14495).label([r.LBL14135,r.LBL01890,r.LBL01144]).value([0,1,2]).select($.isNull(i&&i[3])?0:i[3]).setChangeStateFuncName("toggleRadioTax").readOnly(o).setInlineIndex(3));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_invoiceNum",e+"_label_invoiceNum").setAddonTitle(r.LBL14147).label($.isNull(i&&i[4])?"":typeof i[4]=="object"?i[4].label:i[4]).readOnly(o).setInlineIndex(4)):n.addControl(u.define("widget.code.einvoiceCode",f+"_code_invoiceNum",e+"_code_invoiceNum").setAddonTitle(r.LBL14147).codeType(7).hide().addCode($.isNull(i&&i[4])?{}:i[4]).readOnly(o).dataRules(["required"]).setInlineIndex(4));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_discountNum",e+"_label_discountNum").setAddonTitle(r.LBL14149).label($.isNull(i&&i[5])?"":typeof i[5]=="object"?i[5].label:i[5]).readOnly(o).setInlineIndex(5)):n.addControl(u.define("widget.code.einvoiceCode",f+"_code_discountNum",e+"_code_discountNum").setAddonTitle(r.LBL14149).codeType(7).hide().addCode($.isNull(i&&i[5])?{}:i[5]).readOnly(o).dataRules(["required"]).setInlineIndex(5));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_disposalReason",e+"_label_disposalReason").setAddonTitle(r.LBL14496).label($.isNull(i&&i[6])?"":typeof i[6]=="object"?i[6].label:i[6]).hide().readOnly(o).setInlineIndex(6)):n.addControl(u.define("widget.input.general",f+"_input_disposalReason",e+"_input_disposalReason").setAddonTitle(r.LBL14496).filter("maxbyte",{message:r.MSG01396,max:40}).value($.isNull(i&&i[6])?"":i[6]).hide().readOnly(o).dataRules(["required"]).setInlineIndex(6));n.addControl(u.define("widget.radio",f+"_radio_3",e+"_radio_3").setAddonTitle(r.LBL14136).label([r.LBL14137,r.LBL14138]).value([0,1]).select($.isNull(i&&i[7])?0:i[7]).hide().readOnly(o).setInlineIndex(7));n.addControl(u.define("widget.radio",f+"_radio_invoiceMethod",e+"_radio_invoiceMethod").setAddonTitle(r.LBL14139).label([r.LBL14150,r.LBL14151,r.LBL14140]).value([0,1,2]).select($.isNull(i&&i[8])?0:i[8]).setChangeStateFuncName("toggleRadioInvoice").hide().readOnly(o).setInlineIndex(8));n.addControl(u.define("widget.code.einvoiceDonation",f+"_code_donation",e+"_code_donation").setAddonTitle(r.LBL14141).addCode($.isNull(i&&i[9])?{}:i[9]).hide().readOnly(o).dataRules(["required"]).setInlineIndex(9));n.addControl(u.define("widget.radio",f+"_radio_barcodeType",e+"_radio_barcodeType").setAddonTitle(r.LBL14142).setChangeStateFuncName("toggleBarcodeRadio").label([r.LBL03552,r.LBL14143,r.LBL14144]).value([0,1,2]).select($.isNull(i&&i[10])?0:i[10]).hide().readOnly(o).setInlineIndex(10));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_donation",e+"_label_donation").setAddonTitle(r.LBL14145).label($.isNull(i&&i[11])?"":typeof i[11]=="object"?i[11].label:i[11]).hide().readOnly(o).setInlineIndex(11)):n.addControl(u.define("widget.input.general","_input_barcodeNumber","_input_barcodeNumber").setAddonTitle(r.LBL14145).filter("maxlength",{message:String.format(ecount.resource.MSG01136,64,64),max:64}).value($.isNull(i&&i[11])?"":i[11]).hide().readOnly(o).dataRules(["required"]).setInlineIndex(11));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_cancelReason",e+"_label_cancelReason").setAddonTitle(r.LBL15124).label($.isNull(i&&i[12])?"":typeof i[12]=="object"?i[12].label:i[12]).hide().readOnly(o).setInlineIndex(12)):n.addControl(u.define("widget.input.general",f+"_input_cancelReason",e+"_input_cancelReason").setAddonTitle(r.LBL15124).filter("maxbyte",{message:r.MSG01396,max:40}).value($.isNull(i&&i[12])?"":i[12]).hide().readOnly(o).dataRules(["required"]).setInlineIndex(12));n.addControl(u.define("widget.radio",f+"_radio_printYN",e+"_radio_printYN").setAddonTitle(r.LBL15238).label([r.LBL02155,r.LBL01159]).value([0,1]).select($.isNull(i&&i[13])?0:i[13]).hide().setInlineIndex(13))},toggleRadio:function(n,t,i){var r=this.get(0).getValue(),u,f;if(i&&(u=this.get(1),f=u.getValue(),this._invoiceGroup[this._invoiceType]!=this._invoiceGroup[r])){u.removeOption();switch(this._invoiceGroup[r]){case"B2B":u.addOption([["0",ecount.resource.LBL01777],["1",ecount.resource.LBL14154],["2",ecount.resource.LBL14156]]);this.get(1).setValue(f==3?0:f);break;case"B2C":u.addOption([["0",ecount.resource.LBL01777],["1",ecount.resource.LBL14154],["2",ecount.resource.LBL14156],["3",ecount.resource.LBL14158],["4",ecount.resource.LBL20709]]);this.get(1).setValue(f)}}r=r&&Number(r);this._invoiceType=r?r:0;this.toggleSelect(null,t)},toggleSelect:function(n,t){var i=this.get(1).getValue();this.hideControlsWithout0To1();switch(Number(i)){case 0:this._invoiceType==0||this._invoiceType==1?(this.get(2).show(),this.get(3).show(),this.toggleRadioTax(null,t)):(this.get(2).show(),this.get(3).show(),this.get(8).show(),this.toggleRadioInvoice(null,t));break;case 1:this.get(4).show();this.get(6).show();break;case 2:this._menuType=="S"&&this.get(5).show();break;case 3:this.get(5).show();this.get(6).show();break;case 4:this.get(4).show();this.get(12).show()}},hideControlsWithout0To1:function(){for(var n=2,t=this.controlList.length;n<t;n++)this.get(n).hide()},hideControlsWithout0To5:function(){for(var n=6,t=this.controlList.length;n<t;n++)n!=8&&this.get(n).hide()},toggleRadioTax:function(n,t){this.hideControlsWithout0To5();this.toggleRadioInvoice(null,t)},toggleRadioInvoice:function(n,t,i){var r=this.get(8).getValue();if(this.hideControlsWithout0To5(),this.get(3).getValue()=="1"?this.get(7).show():this.get(7).hide(),this._invoiceType!=2)return!1;!this.get(10).isReadOnly()&&this.get(10).isReadOnly(0)&&this.get(10).setReadOnly(!1);switch(Number(r)){case 1:i&&this.get(10).setValue("1");this.get(10).show();this.get(10).isReadOnly(0)||this.get(10).setReadOnly(!0,0);this.get(11).show();break;case 2:this.get(9).show();this.reSetValueBarcodeType.call(this);this.get(10).show();this.get(11).hide();break;default:this.reSetValueBarcodeType.call(this);this.get(10).setValue("0")}this.toggleBarcodeRadio()},reSetValueBarcodeType:function(){var n=this.get(10);this._beforeBarcodeValue?n.setValue(this._beforeBarcodeValue):Number(n.getValue())>0&&(this._beforeBarcodeValue=n.getValue())},toggleBarcodeRadio:function(){var n=Number(this.get(10).getValue()),t=Number(this.get(8).getValue());if(this._invoiceType!=2)return!1;t==0||n==0?this.get(11).hide():this.get(11).show();t==1&&n==1?this.get(13).show():this.get(13).hide()},setValue:function(n){var i,r,t,u;for(this.setChangeStateFuncCallFlag(!1),i={},r="",t=0,u=this.controlList.length;t<u;t++)if(i=this.get(t),!$.isNull(n[t])){if((this._menuType=="S"||this._menuType=="U")&&i.controlType=="widget.label"){r=typeof n[t]=="object"?n[t].label:n[t];i.setLabel(r);continue}i.setStandardValue(n[t])}this.toggleRadio();this.setChangeStateFuncCallFlag(!0)}},fapiaoPurchase:{controlType:"widget.combine.fapiaoPurchase",_menuType:"",_invoiceType:0,_selectOption:[["0",ecount.resource.LBL14155],["1",ecount.resource.LBL14157],["2",ecount.resource.LBL14158]],onInitChildControl:function(n,t){function s(n){for(var i=n.length,t=0;t<i;t++)$.isNull(n[t])||typeof n[t]=="object"&&($.isNull(n[t].label)||$.isNull(n[t].value))&&(n[t]=null);return n}var o=widget.generator,u=o.control(),f=t.id,e=t.name,h=t.data,r=ecount.resource,i=t._fixedSelectedValue&&s(t._fixedSelectedValue);this._menuType=t.menuType;readOnlyFlagForSave=this._menuType&&this._menuType=="S"?!0:!1;n.addControl(u.define("widget.radio",f+"_radio",e+"_radio").label([r.LBL14131,r.LBL14133]).value([0,1]).select($.isNull(i&&i[0])?0:i[0]).setChangeStateFuncName("toggleRadio").readOnly(readOnlyFlagForSave).setInlineIndex(0));n.addControl(u.define("widget.select",f+"_select",e+"_select").option(this._selectOption).select($.isNull(i&&i[1])?0:i[1]).setChangeStateFuncName("toggleSelect").readOnly(readOnlyFlagForSave).setInlineIndex(1));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_invoiceNum",e+"_label_invoiceNum").setAddonTitle(r.LBL14147).label($.isNull(i&&i[2])?"":typeof i[2]=="object"?i[2].label:i[2]).readOnly(readOnlyFlagForSave).setInlineIndex(2)):n.addControl(u.define("widget.code.einvoiceCode",f+"_code_invoiceNum",e+"_code_invoiceNum").setAddonTitle(r.LBL14147).codeType(7).addCode($.isNull(i&&i[2])?{}:i[2]).readOnly(readOnlyFlagForSave).dataRules(["required"]).setInlineIndex(2));n.addControl(u.define("widget.date",f+"_date",e+"_date").setAddonTitle(r.LBL14910).readOnly(readOnlyFlagForSave).notUseHolidayConfig().hide().setInlineIndex(3));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_discountNum2",e+"_label_discountNum2").setAddonTitle(r.LBL14149).label($.isNull(i&&i[3])?"":typeof i[3]=="object"?i[3].label:i[3]).readOnly(readOnlyFlagForSave).setInlineIndex(4)):n.addControl(u.define("widget.code.einvoiceCode",f+"_code_discountNum",e+"_code_discountNum").setAddonTitle(r.LBL14149).codeType(7).addCode($.isNull(i&&i[3])?{}:i[3]).readOnly(readOnlyFlagForSave).hide().dataRules(["required"]).setInlineIndex(4));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_discountNum3",e+"_label_discountNum3").setAddonTitle(r.LBL14149).label($.isNull(i&&i[5])?"":typeof i[5]=="object"?i[5].label:i[5]).readOnly(readOnlyFlagForSave).setInlineIndex(5)):n.addControl(u.define("widget.input.general",f+"_input_discountNum",e+"_input_discountNum").setAddonTitle(r.LBL14149).maxLength(16).value($.isNull(i&&i[5])?"":i[5]).readOnly(readOnlyFlagForSave).hide().dataRules(["required"]).setInlineIndex(5));this._menuType=="S"?n.addControl(u.define("widget.label",f+"_label_disposalReason",e+"_label_disposalReason").setAddonTitle(r.LBL14496).label($.isNull(i&&i[6])?"":typeof i[6]=="object"?i[6].label:i[6]).readOnly(readOnlyFlagForSave).setInlineIndex(6)):n.addControl(u.define("widget.input.general",f+"_input_disposalReason",e+"_input_disposalReason").setAddonTitle(r.LBL14496).filter("maxbyte",{message:r.MSG01396,max:40}).value($.isNull(i&&i[6])?"":i[6]).readOnly(readOnlyFlagForSave).dataRules(["required"]).setInlineIndex(6))},toggleRadio:function(){var n=this.get(0).getValue(),t=this.get(1).getValue();this._invoiceType=Number(n);this.changeSelectOption.call(this,t);this.toggleSelect()},toggleSelect:function(){var n=this.get(1).getValue();if(this.hideControlsWithout0To1(),this._invoiceType==0)switch(Number(n)){case 0:this.get(2).show();this.get(6).show();break;case 1:this._menuType=="S"&&(this.get(5).show(),this.get(5).readOnly());break;case 2:this.get(4).show();this.get(6).show()}else switch(Number(n)){case 2:this.get(3).show();this.get(5).show();this.get(6).show()}},changeSelectOption:function(n){this.get(1).removeOption();this._invoiceType==0?this.get(1).addOption(this._selectOption):(this.get(1).addOption([this._selectOption[2]]),n=this._selectOption[2][0]);this.get(1).setSelectedValue(n?n:"0")},hideControlsWithout0To1:function(){for(var n=2,t=this.controlList.length;n<t;n++)this.get(n).hide()},setValue:function(n){var r,i,u,t,f;for(this.setChangeStateFuncCallFlag(!1),r=[],n[3]instanceof Date?r.push(n[3].format("yyyyMMdd")):r.push(n[3]),i={},u="",t=0,f=this.controlList.length;t<f;t++)if(i=this.get(t),!$.isNull(n[t])){if(this._menuType=="S"&&i.controlType=="widget.label"){u=typeof n[t]=="object"?n[t].label:n[t];i.setLabel(u);continue}i.controlType=="widget.date"&&i.setDateByString(r);i.setStandardValue(n[t])}this.toggleRadio();this.setChangeStateFuncCallFlag(!0)}},baseCompareDateUpgrade:{controlType:"widget.combine.baseCompareDateUpgrade",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=t.id,i=ecount.resource,e,f=t._isMonthCalendar===!1?!1:!0;n.addControl(r.define("widget.radio",u+"_VIEW_TYPE_SGT","VIEW_TYPE_SGT").label([i.LBL02569,i.LBL03193]).value(["vertical","width"]).select("vertical").setAddonTitle(i.LBL08075).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));e=r.define("widget.multiDate",u+"_date","BASE_DATE").setOptions({_isMonthCalendar:f,_isLastDay:!f}).setChangeStateFuncName("changeBaseDate").setAddonTitle(i.LBL00847).setInlineIndex(1);n.addControl(e);n.addControl(r.define("widget.radio",u+"_radio","PERIOD_TYPE").label([i.LBL03589,i.LBL08411,i.LBL08412,i.LBL08413,i.LBL08414]).value(["0","4","3","2","1"]).select("0").hide().setAddonTitle(i.LBL00389).setChangeStateFuncName("toggleDisplay").setInlineIndex(2));n.addControl(r.define("widget.select",u+"_select","SELECT_SGT").option([["0",i.LBL80089],["1",i.LBL01688],["2",i.LBL80170],["3",i.LBL01356],["4",i.LBL03067+"("+i.LBL00778+")"],]).select("0").hide().setAddonTitle(i.LBL14123).setInlineIndex(3));n.addControl(r.define("widget.multiDate",u+"_date2","BASE_PREV").setOptions({_isMonthCalendar:f,_isLastDay:!f}).hide().setInlineIndex(4))},getDateControl:function(){return this.get(this.id+"_date")},toggleDisplay:function(){var n=this.getValue();this.setPrevDate(n[2].toString());n[0].toString()=="vertical"?(this.get(2).hide(),this.get(3).hide(),this.customReset(n,!1)):(this.get(2).show(),this.get(3).show())},customReset:function(n){var t=n||this.getValue();this.get(0).setValue("vertical");this.get(1).setDate(t[1]);this.get(2).setValue("0");this.get(3).setValue("0");this.get(4).setDate(t[1])},setDate:function(n){var t=[];n[0]instanceof Date?t.push(n[0].format("yyyyMMdd")):t.push(n[0]);n[1]instanceof Date?t.push(n[1].format("yyyyMMdd")):t.push(n[1]);this.get(1).setDateByString(t)},getDate:function(){return this.get(1).getDate()},changeBaseDate:function(){var n=this.get(2).getValue();n!=8&&this.setPrevDate(n)},setPrevDate:function(n){var h=n,t=this.get(1).getDate(),i,r,c,l,u,f,e,o,s,a,v;h>4&&(t.length==1?(l=t[0].format("yyyyMM"),c=t[0].format("yyyyMM")):(l=t[0].format("yyyyMM"),c=t[1].format("yyyyMM")));switch(h){case"1":u=t[0].getDate();i=t[0].setDate(u-1);i=new Date(i).format("yyyyMMdd");f=t[1].getDate();r=t[1].setDate(f-1);r=new Date(r).format("yyyyMMdd");break;case"2":u=t[0].getDate();i=t[0].setDate(u-7);i=new Date(i).format("yyyyMMdd");f=t[1].getDate();r=t[1].setDate(f-7);r=new Date(r).format("yyyyMMdd");break;case"3":e=new Date(t[0].getYear(),t[0].getMonth()+1,0).getDate();o=new Date(t[0].getYear(),t[0].getMonth(),0).getDate();e==t[0].getDate()||o<t[0].getDate()?(i=t[0].setDate(0),i=new Date(i).format("yyyyMMdd")):(s=t[0].getMonth(),i=t[0].setMonth(s-1),i=new Date(i).format("yyyyMMdd"));e=new Date(t[1].getYear(),t[1].getMonth()+1,0).getDate();o=new Date(t[1].getYear(),t[1].getMonth(),0).getDate();e==t[1].getDate()||o<t[1].getDate()?(r=t[1].setDate(0),r=new Date(r).format("yyyyMMdd")):(s=t[1].getMonth(),r=t[1].setMonth(s-1),r=new Date(r).format("yyyyMMdd"));break;case"4":a=t[0].getFullYear();i=t[0].setYear(a-1);i=new Date(i).format("yyyyMMdd");v=t[1].getFullYear();r=t[1].setYear(v-1);r=new Date(r).format("yyyyMMdd")}h!="0"&&(i.length==6?(i=i&&new Date(i.substring(0,4),i.substring(4,6)-1,"01"),r=r&&new Date(r.substring(0,4),r.substring(4,6)-1,"01")):(i=i&&new Date(i.substring(0,4),i.substring(4,6)-1,i.substring(6,8)),r=r&&new Date(r.substring(0,4),r.substring(4,6)-1,r.substring(6,8))),this.get(4).setDate([i,r]))},setValue:function(n){var t,i;n[0]&&this.get(0).setValue(n[0]);n[1]&&(t=[],n[1][0]instanceof Date?t.push(n[1][0].format("yyyyMMdd")):t.push(n[1][0]),n[1][1]instanceof Date?t.push(n[1][1].format("yyyyMMdd")):t.push(n[1][1]),this.get(1).setDateByString(t));n[2]&&this.get(2).setValue(n[2]);n[3]&&this.get(3).setValue(n[3]);n[4]&&(i=[],n[4][0]instanceof Date?i.push(n[4][0].format("yyyyMMdd")):i.push(n[4][0]),n[4][1]instanceof Date?i.push(n[4][1].format("yyyyMMdd")):i.push(n[4][1]),this.get(4).setDateByString(i))},getValue:function(){var n=[];return n.push(this.controlList[0].getValue()),n.push(this.controlList[1].getDate()),n.push(this.controlList[2].getValue()),n.push(this.controlList[3].getValue()),n.push(this.controlList[4].getDate()),n}},radioCustGroup:{controlType:"widget.combine.radioCustGroup",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=t.id,e=t.name,o=t.data,i=ecount.resource;n.addControl(r.define("widget.radio",u+"_RCG_RADIO","RCG_RADIO").label([i.LBL02475,i.LBL00916,i.LBL01957]).value(["all","in","out"]).select("all").setChangeStateFuncName("toggleDisplay"));n.addControl(r.define("widget.multiCode.custGroup",u+"_RCG_CUSTGROUP","RCG_CUSTGROUP",i.LBL00397).addCode(t.codes||[]).hide().setAddonTitle(i.LBL01977))},toggleDisplay:function(){var n=this.get(0).getValue();n=="out"?this.get(1).show():this.get(1).hide()},setValue:function(n,t){this.get(0).setValue(0,n[0],t);this.get(1).addCodes(n[1],t)},getValue:function(){var n=[];return n.push(this.controlList[0].getValue()),n.push(this.controlList[1].getSelectedItem()),n}},unitPriceBatchChange:{controlType:"widget.combine.unitPriceBatchChange",onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=t.id,o=t.name,e=t.data,i=ecount.resource;n.addControl(r.define("widget.radio",u+"_rbChangeTarget","CHANGE_TARGET").label([i.LBL05426+"-"+i.LBL03311,i.LBL05426+"-"+i.LBL09363,i.LBL10756]).value(["PITEM","PLINE","E"]).select("PITEM").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_ddlForeignFlag","FOREIGN_FLAG").label([i.LBL00916,i.LBL01957]).value(["0","1"]).select("0").setAddonTitle(i.LBL03747).setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(r.define("widget.select",u+"_currencyType","CURRENCY_TYPE").option(e[0].option).setAddonTitle(i.LBL10304).hide().setInlineIndex(2))},toggleDisplay:function(){var n=this.getValue();n[0]!="E"?(this.get(1).show(),n[1]=="0"?this.get(2).hide():this.get(2).show()):(this.get(1).hide(),this.get(2).show())},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setValue(n[1]);this.get(2).setValue(n[2])},getValue:function(){var n=[];return n.push(this.get(0).getValue()),n.push(this.get(1).getValue()),n.push(this.get(2).getValue()),n}},paymentType:{controlType:"widget.combine.paymentType",onInitChildControl:function(n,t){var e=widget.generator,u=e.control(),f=t.id,o=t.name,i=ecount.resource,r;n.addControl(u.define("widget.radio",f+"_PT_paymentType","PT_PAYMENTTYPE").label([i.LBL14280,i.LBL14281]).value(["PC","CE"]).setChangeStateFuncName("toggleDisplay").select(t._fixedSelectedValue?t._fixedSelectedValue[0]:"PC").setInlineIndex(0));r=u.define("widget.code.bankAccountInOut",f+"_PT_bankAccountInOut","PT_BANKACCOUNTINOUT").hide().setInlineIndex(1);t.nonAddonTitle||r.setAddonTitle(i.LBL01046);n.addControl(r)},toggleDisplay:function(){var n=this.get(0).getValue();n=="PC"?this.get(1).hide():this.get(1).show()},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).addCode(n[1])},getValue:function(){var n=[];return n.push(this.controlList[0].getValue()),n.push(this.controlList[1].getSelectedItem()),n}},periodSet:{controlType:"widget.combine.periodSet",onInitChildControl:function(n,t){var f=widget.generator,u=f.control(),i=ecount.resource,r;this.radioFrozen=t.radioFrozen;r=u.define("widget.radio","PERIOD_SET","PERIOD_SET").label([i.LBL10059,i.LBL10058]).value(["F","R"]).select(t._fixedSelectedValue?t._fixedSelectedValue[0]:"F").readOnly(t._readOnly?!0:!1);this.radioFrozen||r.setChangeStateFuncName("toggleDisplay");n.addControl(r);n.addControl(u.define("widget.radio","REPEAT_TYPE","REPEAT_TYPE").label([i.LBL01098,i.LBL01117,i.LBL01092,i.LBL01089,i.LBL14282]).value(["D","W","M","Y","E"]).select(t._fixedSelectedValue?t._fixedSelectedValue[1]:"D").hide().readOnly(t._readOnly?!0:!1))},toggleDisplay:function(){var n=this.controlList[0].getValue();this.radioFrozen||(n=="F"?this.get(1).hide():(this.get(1).setValue("D"),this.get(1).show()))},setRadioFrozen:function(n){this.radioFrozen=n},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setValue(n[1])},getValue:function(){var n=[];return n.push(this.controlList[0].getValue()),n.push(this.controlList[1].getValue()),n}},expensesControlType:{controlType:"widget.combine.expensesControlType",onInitChildControl:function(n,t){var e=widget.generator,u=e.control(),o=t.id,s=t.name,f=t.childData||t.data||{},r=ecount.resource,i;this.viewType=t.viewType||{PERIOD:"",CTRL_YN:"",LIMIT_TYPE:"",NOTI_TYPE:""};n.addControl(u.define("widget.code.trackingType","EC_CTRLTYPE_CD","EC_CTRLTYPE_CD",r.LBL12912).addCode(f.EC_CTRLTYPE).setInlineIndex(0));i=u.define("widget.multiDate","PERIOD","PERIOD",r.LBL13082).setAddonTitle(r.LBL13082).setInlineIndex(1);this.viewType.PERIOD!="F"&&i.hide();n.addControl(i);i=u.define("widget.label","REPEAT_TYPE","REPEAT_TYPE").setAddonTitle(r.LBL13082).label(f.REPEAT_TYPE).setInlineIndex(2);(this.viewType.PERIOD=="F"||this.viewType.PERIOD=="")&&i.hide();n.addControl(i);i=u.define("widget.multiCode.PIC","EC_PIC","EC_PIC").setAddonTitle(r.LBL10064).addCode(f.EC_PIC).setInlineIndex(3);(this.viewType.CTRL_YN!="Y"||this.viewType.LIMIT_TYPE=="E")&&i.hide();n.addControl(i);i=u.define("widget.link","EC_LIMITED_LABEL","EC_LIMITED_LABEL").setAddonTitle(r.LBL14525).label(r.LBL14527).setInlineIndex(4);this.viewType.LIMIT_TYPE!="E"&&i.hide();n.addControl(i);i=u.define("widget.input","EC_LIMITED_INPUT","EC_LIMITED_INPUT").setAddonTitle(this.viewType.LIMIT_TYPE=="P"?r.LBL14525:r.LBL09499).setOptions({isNotChangeWidth:!0}).value(f.EC_LIMITED_INPUT).setInlineIndex(5);this.viewType.LIMIT_TYPE=="P"||this.viewType.LIMIT_TYPE=="T"||i.hide();t.numericOnly?i.numericOnly(t.numericRange[0],t.numericRange[1],t.numericMsg,t._useNumericRequired,t._isPositiveInteger):i.numericOnly(18,ecount.config.company.DEC_AMT,ecount.resource.MSG04553);n.addControl(i);i=u.define("widget.label","EC_NOTI_LABEL","EC_NOTI_LABEL",r.LBL12849).setAddonTitle(r.LBL12849).label(r.LBL09523).setInlineIndex(6);this.viewType.notiShowFlag!==!0&&this.viewType.NOTI_TYPE!="X"&&i.hide();n.addControl(i);i=u.define("widget.multiCode.user","EC_PIC_NOTI","EC_PIC_NOTI").setAddonTitle(r.LBL13199).addCode(f.EC_PIC_NOTI).setInlineIndex(7);this.viewType.NOTI_TYPE!="A"&&i.hide();n.addControl(i)},viewTypeChange:function(n){var t=this.viewType||{PERIOD:"",CTRL_YN:"",LIMIT_TYPE:"",NOTI_TYPE:""};n&&(t=n,this.viewType=n);this.hideAll();this.get(0).show();t.PERIOD!=""&&(t.PERIOD=="F"?this.get(1).show():this.get(2).show(),t.CTRL_YN=="Y"&&t.LIMIT_TYPE!="E"&&this.get(3).show(),t.LIMIT_TYPE=="E"?this.get(4).show():(t.LIMIT_TYPE=="P"||t.LIMIT_TYPE=="T")&&(this.get(5).show(),this.get(5).changeAddonTitle(t.LIMIT_TYPE=="P"?ecount.resource.LBL14525:ecount.resource.LBL09499)),(this.viewType.notiShowFlag===!0||t.NOTI_TYPE=="X")&&this.get(6).show(),t.NOTI_TYPE=="A"&&this.get(7).show())},notiLabelShowToggle:function(n,t){typeof n=="boolean"?(this.viewType.notiShowFlag=n,n?this.get(6).show():this.get(6).hide(),t&&this.get(6).setLabel(t)):typeof n=="string"&&this.get(6).setLabel(n)}},selectMultiRadios:{controlType:"widget.combine.selectMultiRadios",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,i=ecount.resource,f=t.name,s=t.data,o=[["2",i.LBL02836]];n.addControl(r.define("widget.select",u+"_select",f+"_select").option(o).setChangeStateFuncName("toggleDisplay").inline().noneFlex(!0).setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_radio1",f+"_radio1").label([i.LBL02042,i.LBL01390,i.LBL01239,i.LBL09602]).value([0,1,2,3]).select(0).hide().noneFlex(!0).setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_radio2",f+"_radio2").label([i.LBL09970,i.LBL01018,i.LBL02704]).value([0,1,2]).select(0).hide().noneFlex(!0).setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_radio3",f+"_radio3").label([i.LBL00482,i.LBL00363]).value([0,1]).select(0).hide().noneFlex(!0).setInlineIndex(0));n.addControl(r.define("widget.link",u+"_link",f+"_link").label(i.LBL08031).setInlineIndex(0));this.setCutInControlsTag([{index:0,value:"&nbsp;"},{index:3,value:"&nbsp;"}])},toggleDisplay:function(){var n=this.get(0).getValue();switch(Number(n)){case 0:this.get(1).show();this.get(2).hide();this.get(3).hide();break;case 1:this.get(1).hide();this.get(2).show();this.get(3).hide();break;case 2:this.get(1).hide();this.get(2).hide();this.get(3).show()}this.get(4).show()},resetSelect:function(){var n=$.extend([],arguments),t;n&&$.isArray(n)&&(n=n[0],t=this.get(0),t.removeOption(),t.addOption(n.addOption),this.setValue(n.fixedSelect?n.fixedSelect:n.addOption[0]),this.toggleDisplay())},toggle:function(n){this.setValue(n);this.toggleDisplay()},setValue:function(n){n&&this.get(0).setValue(n)},getValue:function(){var n=Number(this.get(0).getSelectedItem().value);return[n,this.get(n+1).getValue(),]},serialize:function(){var t=[],i=this.get(0).serialize(),n;return t.push(i),n=this.get(Number(i.value)+1).serialize(),$.isArray(n)?t=t.concat(n):!n||typeof n!="object"||t.push(n),t}},repeatUpgrade:{controlType:"widget.combine.repeatUpgrade",initializeOptions:function(n){this.isCustom=n.isCustom===undefined?{}:n.isCustom},onInitChildControl:function(n,t){function e(n){return n?[["M",i.LBL00299],["Y",i.LBL09602]]:[["D",i.LBL00467],["W",i.LBL02579],["M",i.LBL00299],["Y",i.LBL09602]]}var f=widget.generator,u=f.control(),o=t.id,s=t.name,h=t.data,i=ecount.resource,r;r=u.define("widget.input","ru_day_cycle","RU_DAY_CYCLE").setOptions({isNotChangeWidth:!0}).numericOnly(3,0).setAddonTitle(i.LBL01248).setInlineIndex(0);n.addControl(r);r=u.define("widget.select","ru_day_cycle_type","RU_DAY_CYCLE_TYPE").option(e(this.isCustom.isMY)).select(this.isCustom.isMonthYear||"D").setChangeStateFuncName("toggleDisplay").setInlineIndex(0);n.addControl(r);r=u.define("widget.checkbox","ru_week_dayOfWeek","RU_WEEK_DAYOFWEEK").label([i.LBL08023,i.LBL04596,i.LBL03132,i.LBL01680,i.LBL01161,i.LBL00777,i.LBL02890]).value(["SUN","MON","TUE","WED","THU","FRI","SAT"]).setAddonTitle(i.LBL01992).hide().setInlineIndex(1);n.addControl(r);r=u.define("widget.radio","ru_monthDay_type","RU_MONTHDAY_TYPE").label([i.LBL00467,i.LBL02579]).value(["D","W"]).select(this.isCustom.isDayWeek||"D").setAddonTitle(i.LBL07137).hide().setChangeStateFuncName("toggleDisplay").setInlineIndex(2);n.addControl(r);r=u.define("widget.select","ru_monthDay_day","RU_MONTHDAY_DAY").option(this.getSelectedDataType()).setAddonTitle(i.LBL02211).hide().setInlineIndex(3);n.addControl(r);r=u.define("widget.label","ru_monthDay_day_label","RU_MONTHDAY_DAY_LABEL").label(i.LBL00467).hide().noneFlex(!0).setInlineIndex(3);n.addControl(r);r=u.define("widget.select","ru_monthWeek_turn","RU_MONTHWEEK_TURN").option([["1",i.LBL14569],["2",i.LBL14570],["3",i.LBL14571],["4",i.LBL14572],["5",i.LBL14573]]).setAddonTitle(i.LBL01992).hide().setInlineIndex(4);n.addControl(r);r=u.define("widget.checkbox","ru_monthWeek_dayOfWeek","RU_MONTHWEEK_DAYOFWEEK").label([i.LBL08023,i.LBL04596,i.LBL03132,i.LBL01680,i.LBL01161,i.LBL00777,i.LBL02890]).value(["SUN","MON","TUE","WED","THU","FRI","SAT"]).hide().setInlineIndex(4).noneFlex(!0);n.addControl(r);r=u.define("widget.select","ru_year_month","RU_YEAR_MONTH").option([["1",i.LBL08135],["2",i.LBL08136],["3",i.LBL08137],["4",i.LBL08138],["5",i.LBL08139],["6",i.LBL08140],["7",i.LBL08141],["8",i.LBL08142],["9",i.LBL08143],["10",i.LBL08144],["11",i.LBL08145],["12",i.LBL08146],]).setAddonTitle(i.LBL02211).hide().setInlineIndex(5);n.addControl(r);r=u.define("widget.select","ru_year_day","RU_YEAR_DAY").option(this.getSelectedDataType()).hide().setInlineIndex(5);n.addControl(r);r=u.define("widget.label","ru_year_day_label","RU_YEAR_DAY_LABEL").label(i.LBL00467).hide().noneFlex(!0).setInlineIndex(5);n.addControl(r)},onAfterRender:function(){this.toggleDisplay()},toggleDisplay:function(){var n=this.getValue();this.hideAll();this.get(0).show();this.get(1).show();this.isCustom.isMY?n[0]=="M"?(this.get(3).show(),n[2]=="D"?(this.get(4).show(),this.get(5).show()):(this.get(6).show(),this.get(7).show())):n[0]=="Y"&&(this.get(8).show(),this.get(9).show(),this.get(10).show()):n[1]=="W"?this.get(2).show():n[1]=="M"?(this.get(3).show(),n[3]=="D"?(this.get(4).show(),this.get(5).show()):(this.get(6).show(),this.get(7).show())):n[1]=="Y"&&(this.get(8).show(),this.get(9).show(),this.get(10).show())},getControlTypeCheck:function(n){return n.controlType.indexOf("checkbox")>-1},getControlIndex:function(){return this.isCustom.isMY?1:0},setValue:function(n){for(var i,r,u=this.getControlIndex(),t=0;t<10;t++)i=this.get(u),r=n[t],this.getControlTypeCheck()?i.setCheckedValue(r):i.setValue(r),u++},getValue:function(){var i=[],n=this.getControlIndex(),t;for(n;n<10;n++)t=this.controlList[n],this.getControlTypeCheck(t)?i.push(t.getCheckedValue()):i.push(t.getValue());return i},getSelectedDataType:function(){for(var i,t=[],n=1;n<=30;n++)i=n.toString(),t.push([n,i]);return t.push(["31",ecount.resource.LBL01084]),t}},repeatEndDate:{controlType:"widget.combine.repeatEndDate",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),o=t.id,s=t.name,h=t.data,r=ecount.resource,f=t.isUserDateSetting,u;n.addControl(i.define("widget.radio","repeatEndDate_type","REPEATENDDATE_TYPE").label([r.LBL00899,r.LBL10510]).value(["D","N"]).select("D").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.date","repeatEndDate_endDate","REPEATENDDATE_ENDDATE").setAddonTitle(r.LBL02576).setInlineIndex(1));!f||i.setOptions({hasYearLimit:!0,_maxYearLimit:f.maxYearLimit});u=i.define("widget.input","repeatEndDate_numberOfTimes","REPEATENDDATE_NUMBEROFTIMES").numericOnly(3,0).setAddonTitle(r.LBL10510).hide().setInlineIndex(2);t.numericOnly?u.numericOnly(t.numericRange[0],t.numericRange[1],t.numericMsg,t._useNumericRequired,t._isPositiveInteger):u.numericOnly(2,0);n.addControl(u);n.addControl(i.define("widget.label","repeatEndDate_label","REPEATENDDATE_LABEL").label(r.LBL14574).hide().noneFlex(!0).setInlineIndex(2))},toggleDisplay:function(){var n=this.get(0).getValue();n=="D"?(this.get(1).show(),this.get(2).hide(),this.get(3).hide()):(this.get(1).hide(),this.get(2).show(),this.get(3).show())}},inventoryClosingSetTrans:{controlType:"widget.combine.inventoryClosingSetTrans",onInitChildControl:function(n,t){var f=widget.generator,u=f.control(),e=t.id,o=t.name,s=t.data,i=ecount.resource,r;n.addControl(u.define("widget.radio","settrans_radio","SETTRANS_RADIO").label([i.LBL09953,i.LBL14424]).value(["D","S"]).select("D").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(u.define("widget.select","settrans_endingamount","SETTRANS_ENDINGAMOUNT").setAddonTitle(i.LBL10023).option([["1",i.LBL00848],["2",i.LBL00848+"+"+i.LBL01014],["0","0"],]).setInlineIndex(1));r=u.define("widget.input",e+"_input","SETTRANS_INPUT").setOptions({isNotChangeWidth:!0}).setAddonTitle(i.LBL01347).hide().setInlineIndex(2);t.numericOnly?r.numericOnly(t.numericRange[0],t.numericRange[1],t.numericMsg,t._useNumericRequired,t._isPositiveInteger):r.numericOnly(18,ecount.config.company.DEC_AMT,i.MSG04553,!0);n.addControl(r)},toggleDisplay:function(){var n=this.get(0).getValue();n=="D"?(this.get(1).show(),this.get(2).hide()):(this.get(1).hide(),this.get(2).show())}},companyCodeUpdateOption:{controlType:"widget.combine.companyCodeUpdateOption",onInitChildControl:function(n,t){function f(n,t,i){for(var r=0,u=[],f="",r=n;r<=t;r++)f=i?r==t?"Last Date":r:r,u.push([r.toString(),f]);return u}var e=widget.generator,i=e.control(),r=t.id,u=t.name,o=t.data;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label(["Use","Do Not Use"]).value([1,0]).select(1).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.radio",r+"_radio_2",u+"_radio_2").setAddonTitle("Customer.Mngt Menu Exposure").label(["Yes","No"]).value([1,0]).select(1).setInlineIndex(1));n.addControl(i.define("widget.select",r+"_select_1",u+"_select_1").setAddonTitle("Load From").option([["0","Reset to Blank"],["1","Registration Date"],["2","Expiry Date"],["3","Access Denied Date"],["4","Termination Date"],["5","Current Date"],["6","Business Day"],["8","Expiry Date(or Current Date)"]]).setChangeStateFuncName("toggleDisplay").setInlineIndex(2));n.addControl(i.define("widget.multiCode.comChgDateCd",r+"_code_1",u+"_code_1").setAddonTitle("Save To").dataRules(["required"]).setInlineIndex(3));n.addControl(i.define("widget.label",r+"_label",u+"_label").label("Point of Date").css("label label-default label-light").setInlineIndex(4));n.addControl(i.define("widget.radio",r+"_pointOfDate_radio_1",u+"_pointOfDate_radio_1","","pointOfDate_radio").label([""]).value(["D"]).setChangeStateFuncName("toggleRadio").noneFlex(!0).setInlineIndex(5));n.addControl(i.define("widget.select",r+"_pointOfDate_select1_1",u+"_pointOfDate_select1_1").option(f(0,365,!1)).select(["0"]).noneFlex(!0).setInlineIndex(5));n.addControl(i.define("widget.label",r+"_pointOfDate_label_1",u+"_pointOfDate_label_1").label(["day(s)"]).noneFlex(!0).setInlineIndex(5));n.addControl(i.define("widget.select",r+"_pointOfDate_select2_1",u+"_pointOfDate_select2_1").option([["B","ago"],["A","later"],]).select(["0"]).noneFlex(!0).setInlineIndex(5));n.addControl(i.define("widget.radio",r+"_pointOfDate_radio_2",u+"_pointOfDate_radio_2","","pointOfDate_radio").label([""]).value(["M"]).select("M").setChangeStateFuncName("toggleRadio").noneFlex(!0).setInlineIndex(6));n.addControl(i.define("widget.select",r+"_pointOfDate_select1_2",u+"_pointOfDate_select1_2").option(f(0,12,!1)).select(["0"]).noneFlex(!0).setInlineIndex(6));n.addControl(i.define("widget.label",r+"_pointOfDate_label1_2",u+"_pointOfDate_label1_2").label(["month(s)"]).noneFlex(!0).setInlineIndex(6));n.addControl(i.define("widget.select",r+"_pointOfDate_select2_2",u+"_pointOfDate_select2_2").option([["B","ago"],["A","later"],]).select(["0"]).noneFlex(!0).setInlineIndex(6));n.addControl(i.define("widget.select",r+"_pointOfDate_select3_2",u+"_pointOfDate_select3_2").option(f(0,31,!0)).select(["0"]).noneFlex(!0).setInlineIndex(6));n.addControl(i.define("widget.label",r+"_pointOfDate_label2_2",u+"_pointOfDate_label2_2").label(["day(s)"]).noneFlex(!0).setInlineIndex(6));n.addControl(i.define("widget.select","pointOfBusinessDay","pointOfBusinessDay").setAddonTitle("Point of Business Day").option(f(1,31,!1)).hide().select(0).setInlineIndex(7));n.addControl(i.define("widget.label","pointOfBusinessDay_label","pointOfBusinessDay_label").label("Day").hide().noneFlex(!0).setInlineIndex(7));n.addControl(i.define("widget.select","pointOfMonth","pointOfMonth").setAddonTitle("Point of Month").option(f(1,12,!1)).hide().select(0).setInlineIndex(8));n.addControl(i.define("widget.label","pointOfMonth_label","pointOfMonth_label").label("Month Later").hide().noneFlex(!0).setInlineIndex(8))},toggleDisplay:function(){var n=this.getValue("all"),t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],i=[15,16,17,18],r,u;if(n[0]==1){switch(_.isArray(n[2])?n[2][0]:n[2]){case"0":t=[1,2,3];i=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18];break;case"6":t=[1,2,3,15,16];i=[4,5,6,7,8,9,10,11,12,13,14,17,18];break;case"8":t=[1,2,3,17,18];i=[4,5,6,7,8,9,10,11,12,13,14,15,16]}t.map(function(n){this.get(n).show()},this);i.map(function(n){this.get(n).hide()},this)}else for(r=1,u=this.controlList.length;r<u;r++)this.get(r).hide()},toggleRadio:function(n,t,i){var r=this.getValue("all");i&&i.indexOf("pointOfDate_radio")!==-1?i.indexOf("pointOfDate_radio_1")!==-1?(this.get(5).setStandardValue(["D"]),this.get(9).setUncheck()):(this.get(5).setUncheck(),this.get(9).setStandardValue(["M"])):r[5]!=="D"&&r[9]!=="M"&&this.get(9).setStandardValue(["M"])},getValue:function(n,t){var i=[],r,u;if(n=="all"||t=="all"){for(r=0,u=this.controlList.length;r<u;r++)i.push(this.get(r).getStandardValue());return $.isNumber(n)?i[n]:i}return i.push(this.get(0).getStandardValue()),i.push(this.get(1).getStandardValue()),i.push(this.get(2).getSelectedItem()),i.push(this.get(3).getStandardValue()),i.push(this.getPointOfDate()),i.push(this.get(15).getSelectedItem()),i.push(this.get(17).getSelectedItem()),$.isNumber(n)?i[n]:i},setValue:function(n){if($.isArray(n))if(n.length==7)this.get(0).setStandardValue(n[0]),this.get(1).setStandardValue(n[1]),this.get(2).setStandardValue(n[2]),this.get(3).setStandardValue(n[3]),n[4][0]=="D"?(this.get(5).setStandardValue(n[4][0]),this.get(6).setStandardValue(n[4][1]),this.get(8).setStandardValue(n[4][3]),this.get(9).setUncheck()):n[4][0]=="M"&&(this.get(9).setStandardValue(n[4][0]),this.get(10).setStandardValue(n[4][1]),this.get(12).setStandardValue(n[4][2]),this.get(13).setStandardValue(n[4][3]),this.get(5).setUncheck()),this.get(15).setStandardValue(n[5]),this.get(17).setStandardValue(n[6]);else if(n.length==19)for(var t=0,r=this.controlList.length,i;t<r;t++)i=this.get(t),i.controlType!="widget.label"&&(t==5||t==9?$.isEmpty(n[t])?i.setUncheck():i.setStandardValue(n[t]):i.setStandardValue(n[t]))},serialize:function(){var n=[];return[0,1,2,3,5,15,17].map(function(t){t==5?n.push({key:this.name+"_pointOfDate",value:this.getPointOfDate()}):n.push(this.controlList[t].serialize())},this),n},getPointOfDate:function(){var n=[],t=this.controlList[5].getValue(),i=this.controlList[9].getValue();return n.push(t=="D"?t:i),n[0]=="D"?(n.push(this.controlList[6].getValue()),n.push(this.controlList[8].getValue())):n[0]=="M"&&(n.push(this.controlList[10].getValue()),n.push(this.controlList[12].getValue()),n.push(this.controlList[13].getValue())),n}},scheChangeServiceType:{controlType:"widget.combine.scheChangeServiceType",onInitChildControl:function(n,t){function f(n,t,i){for(var r=0,u=[],f="",r=n;r<=t;r++)f=i?r==t?"Last Date":r:r,u.push([r.toString(),f]);return u}var e=widget.generator,i=e.control(),r=t.id,u=t.name,o=t.data;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label(["Use","Do Not Use"]).value([1,0]).select(1).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.radio",r+"_radio_2",u+"_radio_2").setAddonTitle("Update Period").label(["Every Day","Business Day"]).value(["D","MS"]).select("D").setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(i.define("widget.select",r+"_selectDetail_3",u+"_selectDetail_3").option(f(1,31,!1)).select(0).setInlineIndex(2));n.addControl(i.define("widget.select",r+"_select_1",u+"_select_1").setAddonTitle("Sche.Criteria").option([[1,"Registration Date"],[2,"Expiry Date"],[3,"Access Denied Date"],[4,"Termination Date"],[7,"Amount Receivable"]]).setChangeStateFuncName("toggleDisplay").setInlineIndex(3));n.addControl(i.define("widget.select",r+"_select_2",u+"_select_2").setAddonTitle("Adjust").option(f(0,31,!1)).setInlineIndex(4));n.addControl(i.define("widget.label",r+"_label",u+"_label").label("day(s)").noneFlex(!0).setInlineIndex(4));n.addControl(i.define("widget.select",r+"_select_3",u+"_select_3").option([["B","ago"],["A","later"]]).setInlineIndex(4));n.addControl(i.define("widget.radio",r+"CMS_radio","CMS_radio").setAddonTitle("Except CMS registration").label(["Use","Do Not Use"]).value([1,0]).select(1).hide().setInlineIndex(5));n.addControl(i.define("widget.code.svcType",r+"_code_1",u+"_code_1").setAddonTitle("ServiceType(After)").codeType(7).dataRules(["required"]).setInlineIndex(6))},toggleDisplay:function(){var r=this.getValue(),n=[0,1,3,8],t=[],i,u;if(r[0]==1)r[1]=="MS"?n.push(2):t.push(2),r[3]=="7"?(n.push(7),t=t.concat([4,5,6])):(n=n.concat([4,5,6]),t.push(7)),n.map(function(n){this.get(n).show()},this),t.map(function(n){this.get(n).hide()},this);else for(i=1,u=this.controlList.length;i<u;i++)this.get(i).hide()},getValue:function(){return[this.get(0).getValue(),this.get(1).getValue(),this.get(2).getValue(),this.get(3).getStandardValue(),this.get(4).getStandardValue(),this.get(6).getStandardValue(),this.get(7).getValue(),this.get(8).getStandardValue()]},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setValue(n[1]);n[1]=="MS"&&this.get(2).setSelectedValue(n[2]);this.get(3).setSelectedValue(n[3]);this.get(4).setSelectedValue(n[4]);this.get(6).setSelectedValue(n[5]);this.get(7).setValue(n[6]);this.get(8).addCode(n[7])},serialize:function(){for(var i,n=[],t=0,r=this.controlList.length;t<r;t++)(i=this.controlList[t].serialize(),this.get(t).controlType!="widget.label")&&($.isArray(i)?n=n.concat(i):n.push(i));return n}},noticeType:{controlType:"widget.combine.noticeType",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,f=t.name,e=t.data;n.addControl(i.define("widget.select",r+"_noticeType",f+"_noticeType").setAddonTitle("Notice Type").option([["0","None"],["7","Free Trial Expiry Date"],["8","Remaining Days(expiry date)"],["9","Paypal Recurring Failed"],["10","Subs.Fee"],["11","Amount Receivable"],["19","CMS Registration"],["20","Req.Payment(Subs.Fee)"],["21","Req.Payment(AR)"],["22","Req.Payment(AR+1month)"],["23","Req.Payment(Expiry Date)"],["24","Unsubscribe(+3day access)"],["25","Access Restriction"]]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.code.multimanual",r+"_multiMenualLink","multiMenualLink").setAddonTitle("Multi Manual Link").hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"1":this.get(1).show();break;default:this.get(1).hide()}}},billingPlan:{controlType:"widget.combine.billingPlan",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name;n.addControl(i.define("widget.radio",r+"_radioType",u+"_radioType").label(["Invoiced Billing","Payment Options"]).value(["I","P"]).select("I").setInlineIndex(0));n.addControl(i.define("widget.code.svcType",r+"_serviceType",u+"_serviceType").setAddonTitle("Service Type").setOptions({executeChangeOnRemove:!1}).dataRules(["required"]).setInlineIndex(1));n.addControl(i.define("widget.label",r+"_loginType",u+"_loginType").setAddonTitle("Login Type").label("").setInlineIndex(2));n.addControl(i.define("widget.input.digit",r+"_accessDeniedDate",u+"_accessDeniedDate").setAddonTitle("Access Denied (Date)").maxLength(8).setInlineIndex(3));n.addControl(i.define("widget.link",r+"_setupLink",u+"_setupLink").label("Setup").setInlineIndex(4))},setValue:function(n){this.get(0).setValue(n[0]);$.isNull(n[1])?this.get(1).removeCode():this.get(1).addCode(n[1]);this.get(2).setLabel(n[2]);this.get(3).setValue(n[3])},getValue:function(){return result=[this.get(0).getValue(),this.get(1).getStandardValue(),this.get(2).getValue(),this.get(3).getValue()]},setLabel:function(n){this.get(2).setLabel(n)},setInput:function(n){this.get(3).setValue(n)},setInputReadOnly:function(n){this.get(3).readOnly(n?!0:!1)}},summaryCondition:{controlType:"widget.combine.summaryCondition",onInitChildControl:function(n,t){var l=widget.generator,r=l.control(),e=t.id,u=t.name,b=t.data,i=ecount.resource,o=t.useTogglingBtn==!0,a=$.isEmpty(t.useSummaryTarget)?!0:t.useSummaryTarget,v=$.isEmpty(t.useComparePeriod)?!0:t.useComparePeriod,y=t.selectComparePeriod,p=t.selectOther,s=t.typeSubs||[i.LBL03589,i.LBL08411,i.LBL08412,i.LBL08413,i.LBL08414],h=t.othersChk||[i.LBL14824,i.LBL14825,i.LBL02884],w=t.orders?this.setOrders(t.orders):[["0","none"]],c=[i.LBL14818,i.LBL14819,i.LBL14820,i.LBL14821,i.LBL14822],f;this.useTogglingBtn=o;c.forEach(function(t,f){var e=f+1,s=r.define("widget.code.searchSUMR","balanceCode_"+e,u+"_balanceCode_"+e).setAddonTitle(t).codeType(7).setChangeStateFuncName("toggleCode").setInlineIndex(f);f>1&&s.hide();n.addControl(s);n.addControl(r.define("widget.select","innerSelect_"+e,u+"_innerSelect_"+e).option(w).inline().hide().noneFlex(!0).setInlineIndex(f));o==!0?(n.addControl(r.define("widget.button.toggling","innerBtn1_"+e,u+"innerBtn1_"+e).setOptions({toggleClass:["btn-asc","btn-desc"],togglePopover:[i.LBL07443,i.LBL07377]}).noneFlex().hide().setInlineIndex(f)),n.addControl(r.define("widget.button.toggling","innerBtn2_"+e,u+"innerBtn2_"+e).setOptions({toggleClass:["btn-add-sum","btn-unadd-sum"],togglePopover:[i.LBL00090,i.LBL18494]}).noneFlex().hide().setInlineIndex(f))):n.addControl(r.define("widget.checkbox","innerChk_"+e,u+"_innerChk_"+e).label([i.LBL07377]).value([1]).hide().noneFlex(!0).setInlineIndex(f))});f=c.length;a&&n.addControl(r.define("widget.multiCode.summaryTarget",e+"_multiCode",u+"_multiCode").setAddonTitle(i.LBL14823).setInlineIndex(f++));v&&n.addControl(r.define("widget.radio",e+"_comparePeriod",u+"_comparePeriod").setAddonTitle(i.LBL00389).label(s).value(s.map(function(n,t){return t})).select(y).setInlineIndex(f++));n.addControl(r.define("widget.checkbox",e+"_othersChk",u+"_othersChk").setAddonTitle(i.LBL00870).label(h).value(h.map(function(n,t){return t})).select(p).setInlineIndex(f))},toggleCode:function(n,t,i){var h=this.get(i),u=h.id.split("_")[1],c=h.getSelectedCode(),f=c.length>0&&c[0]!==""?"show":"hide",e,o,l,r,s;for(this.get("innerSelect_"+u)[f](),this.useTogglingBtn==!0?(this.get("innerBtn1_"+u)[f](),this.get("innerBtn2_"+u)[f]()):this.get("innerChk_"+u)[f](),e=0,o=0,r=0;r<5;r++)this.get("balanceCode_"+(r+1)).isEmpty()||(e++,o=r+1);for(l=e>=o-2?e:o-2,r=0;r<l;r++)if(s=this.get("balanceCode_"+(3+r)),s)s.show();else break},setOrders:function(n){var t=[];return n&&n instanceof Array&&!(n[0]instanceof Array)?$.each(n,function(n,i){t.push([n.toString(),i])}):$.isEmpty(n)||(t=n),t},extract:function(){var n=this._super.extract.call(this);return n.useTogglingBtn=this.useTogglingBtn,n},save:function(){for(var t,i=[],n=0,r=this.controlList.length;n<r;n++)t=null,t=this.controlList[n].controlType=="widget.select"?{key:this.controlList[n].id,value:this.controlList[n].getValue(),option:this.getSelectOption(n)}:this.controlList[n].save(),i.push(t);return{key:this.id,value:i}},setSelectOption:function(n,t,i){if(!$.isEmpty(n)&&t){n=Number(n);var r=this.controlList,i=$.isNull(i)?!0:i,u;r=r.filter(function(n){if(n.name.indexOf("innerSelect")>-1)return n});u=r[n].getValue();r[n].removeOption();r[n].addOption(this.setOrders(t));r[n].setSelectedValue(u)}},getSelectOption:function(n){var t=[];return this.controlList[n].getSelectOptions().map(function(n){t.push([n.value,n.label])}),t},getValue:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)t.push(this.get(n).getStandardValue());return t}},singleCodeRadio:{controlType:"widget.combine.singleCodeRadio",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,e=t.name,s=t.data,i=ecount.resource,r=u.define("widget.code",f+"_code_1",e+"_code_1").codeType(7).setInlineIndex(0).setChangeStateFuncName("toggleRadio").setOptions({searchURL:"/SVC/Common/GetListSearchMenu",popupURL:"/ECERP/SVC/Popup/ES069P",valueColumn:"PRG_ID",labelColumn:"PRG_NM",isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""}});n.addControl(r);r=u.define("widget.checkbox.whole",f+"_chk_1",e+"_chk_1").value(["Z","A","N","Y"]).select("Z").label([i.LBL02475,i.LBL09252,i.LBL02690,i.LBL00182]).setAddonTitle(i.LBL17381).setInlineIndex(1);n.addControl(r.hide());r=u.define("widget.checkbox.whole",f+"_chk_2",e+"_chk_2").value(["Z","A","C","N","Y"]).select("Z").label([i.LBL02475,i.LBL09252,i.LBL01750,i.LBL02690,i.LBL00182]).setAddonTitle(i.LBL17381).setInlineIndex(1);n.addControl(r.hide());r=u.define("widget.radio",f+"_radio_3",e+"_radio_3").value(["Z","N","Y"]).select("Z").label([i.LBL08019,i.LBL01193,i.LBL00723]).setAddonTitle(i.LBL17381).setInlineIndex(1);n.addControl(r.hide());r=u.define("widget.radio",f+"_radio_4",e+"_radio_4").value(["Z","N","Y"]).select("Z").label([i.LBL08019,i.LBL02690,i.LBL00182]).setAddonTitle(i.LBL17381).setInlineIndex(1);n.addControl(r.hide())},toggleRadio:function(n,t){for(var u=["13","14","25","71","58","60","10","11","72",""],f=[["01","06","08","12"],["02"],["03","09","32","43","42","44","31","59","51"],["04","15","81","82","84"]],r=t.value||"",i=1;i<=4;i++)u.contains(r)?this.get(i).hide():f[i-1].contains(r)?this.get(i).show():this.get(i).hide()}},checkDoubleSingle:{controlType:"widget.combine.checkDoubleSingle",onInitChildControl:function(n,t){var c=widget.generator,u=c.control(),f=t.id,e=t.name,l=t.data,o=t.codes===undefined?[]:t.codes,s=t.firstChecked,h=t.secondChecked,r=ecount.resource,i=u.define("widget.checkbox",f+"_checkbox_1",e+"_checkbox_1").value(["Z","N"]).label([r.LBL02490,r.LBL02834]).setChangeStateFuncName("toggleCheckbox").setInlineIndex(0);s&&i.select("Z");h&&i.select("N");n.addControl(i);i=u.define("widget.code.firstInputDraft",f+"_code_1",e+"_code_1").codeType(7).setAddonTitle(r.LBL02490).addCode(o[0]).setInlineIndex(1);s||i.hide();n.addControl(i);i=u.define("widget.code.secondInputDraft",f+"_code_2",e+"_code_2").codeType(7).setAddonTitle(r.LBL02834).addCode(o[1]).setInlineIndex(2);h||i.hide();n.addControl(i)},toggleCheckbox:function(){var n=this.get(0).getState(0,"attr.checked"),t=this.get(0).getState(1,"attr.checked");this.get(1)[n?"show":"hide"]();this.get(2)[t?"show":"hide"]()},changeCheckedState:function(n,t){this.get(0).setState(n=="all"?this._ALL_COMP:n,"attr.checked",t)},onAfterRender:function(){this.setAddOnTitleResize()}},customBalance:{controlType:"widget.combine.customBalance",renderParent:null,onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=t.id,f=t.name,s=t.data,h=ecount.resource,e=t.types,i=t.isCustomValue,c=t.selectComparePeriod,l=t.selectOther;this.typeIndexies=i&&_.isArray(i)?i:this.setTypeIndexies(e);n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label(e).value(this.typeIndexies).select(this.typeIndexies[0]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.combine.summaryCondition",u+"_summaryCondition",f+"_summaryCondition").setOptions({typeSubs:t.typesSub,orders:t.orders,useSummaryTarget:t.useSummaryTarget,useComparePeriod:t.useComparePeriod,selectComparePeriod:t.selectComparePeriod,selectOther:t.selectOther,useTogglingBtn:t.useTogglingBtn}).hide().setInlineIndex(1))},setTypeIndexies:function(n){var t=[],r=n.length,i;if(n&&n instanceof Array){for(t.push(2),i=3;i<=r;i++)t.push(i);r!=1&&t.push(1)}return t},toggleDisplay:function(){var n=this.get(0).getValue()==1;this.get(this.id+"_summaryCondition")[n?"show":"hide"]();this.adjustDimensions()},getValue:function(){var n=this.get(1).getStandardValue();return n.unshift(this.get(0).getStandardValue()),n},save:function(){var n=[],t=this.get(0)&&this.get(0).save(),i=this.get(1)&&this.get(1).save();return t&&n.push(t),i&&(n=n.concat(i.value)),{key:this.id,value:n}},restore:function(n){if(n&&$.isArray(n)){var t=Object.clone(n,!0),i=t.shift();this.controlList[0].restore(i.value);this.controlList[1].restore(t)}},getSelectOption:function(n){var t=this.get(1);return t&&t.getSelectOption(n)},setSelectOption:function(n,t,i){var r=this.get(1);r&&r.setSelectOption(n,t,i)}},userPay:{controlType:"widget.combine.userPay",isPasswordHide:!1,onInitChildControl:function(n,t){var h=widget.generator,r=h.control(),u=t.id,f=t.name,a=t.data,i=ecount.resource,c=ecount.config.company.GB_PWDEXPIRATIONDATE,e=t.modify,o=ecount.config.company.GB_PWDLEVEL,l=t.editFlag,s;this.editFlag=l;this.modify=e;n.addControl(r.define("widget.checkbox",u+"_chk",f+"_chk").label([i.BTN00346]).value([0]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.code.userPayLanguage",u+"_code",f+"_code").setAddonTitle(i.LBL08935).hide().codeType(7).setInlineIndex(1));e?n.addControl(r.define("widget.link","passwordLink","passwordLink").setAddonTitle(i.LBL01420).hide().label(i.BTN00168).setInlineIndex(2)):(n.addControl(r.define("widget.input.password",u+"_password",f+"_password").setAddonTitle(i.LBL01420).passwordLevel(o).maxLength(15).setOptions({passWordValidationInfo:[[ecount.user.ID,ecount.resource.LBL01809],[ecount.user.UNAME,ecount.resource.LBL02116],[ecount.company.EMAIL,ecount.resource.LBL02117],[ecount.company.BUSINESS_NO,ecount.resource.LBL01437],[ecount.company.JUMIN_NO,ecount.resource.LBL01314],[ecount.company.TEL_NO1,ecount.resource.LBL04070],[ecount.company.BOSS_NAME,ecount.resource.LBL01035],[ecount.company.TEL_NO2,ecount.resource.LBL04071],[ecount.company.FAX,ecount.resource.LBL00223],[ecount.company.START_DATE_SM,ecount.resource.LBL04085],[ecount.company.SETTING_DATE,ecount.resource.LBL01591],[ecount.company.ELECTRON_ID,ecount.resource.LBL02471],[ecount.company.CONSENT_NUM,ecount.resource.LBL01434],[ecount.company.STD_INCM_RT_CD,ecount.resource.LBL01640],[ecount.company.ACCT_NO,ecount.resource.LBL00504]]}).noReplacement().hide().label(i.BTN00168).setInlineIndex(2)),s=String.format("[{0} : {1}]",i.LBL07917,o=="0"?i.LBL07870:o=="1"?i.LBL07871:i.LBL07872),s+=String.format("[{0} : {1}]",i.LBL07918,String.format(i.LBL21900,c)),n.addControl(r.define("widget.label","aaa").label(s).hide().noneFlex(!0).setInlineIndex(3)),n.addControl(r.define("widget.link","view","View",i.BTN00539).label(i.BTN00539).hide().setInlineIndex(3)));n.addControl(r.define("widget.code.accessibleUserPayGroup","userPayAccessibleMenuGroup","userPayAccessibleMenuGroup").setAddonTitle(i.LBL21013||"UserPay").hide().codeType(7).setInlineIndex(e?3:4))},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case!0:this.toggleAllControlWithoutDefault.call(this,"show");this.modify||this.get(0).setDataRules(["required"]);break;default:this.toggleAllControlWithoutDefault.call(this,"hide");this.get(0).setDataRules([])}this.adjustDimensions()},toggleAllControlWithoutDefault:function(n){var t=this;this.controlList.forEach(function(i,r){r>=2&&t.isPasswordHide&&n==="show"||r>0&&(n=="show"?i.show():i.hide())})},getValue:function(){return returnArr=[this.get(0).getValue(),this.get(1).getSelectedItem()]},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).addCode(n[1]);this.get("userPayAccessibleMenuGroup").addCode(n[2])},setPasswordHide:function(){this.isPasswordHide=!0;this.get(2).hide();this.get(3)&&this.get(3).hide();this.get(4)&&this.get(4).hide()}},bankAccount:{controlType:"widget.combine.bankAccount",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,f=t.name,o=t.data,i=ecount.resource;n.addControl(r.define("widget.code.bankAccountInsa",u+"_bank",f+"_bank").setAddonTitle(i.LBL02092).codeType(7).setInlineIndex(0));n.addControl(r.define("widget.input",u+"_account",f+"_account").setAddonTitle(i.LBL07735).filter("regexp",{regexp:"[^0-9-]",message:String.format("",24,24)}).maxLength(30).setInlineIndex(1));n.addControl(r.define("widget.input",u+"_input_2",f+"_input_2").setAddonTitle(i.LBL04750).maxLength(50).hasFn([{id:"acountSearch",label:i.LBL18106}]).setInlineIndex(2))}},insurance:{controlType:"widget.combine.insurance",typeFlag:null,onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,e=t.name,s=t.data,i=ecount.resource,r;this.typeFlag=["Pension","Health","Unemployment","TempWorkingPension","TempWorkingHealth"][t.type];r=u.define("widget.radio",f+"_typeRadio",e+"_typeRadio").setChangeStateFuncName("toggleDisplay").setInlineIndex(0);this.typeFlag=="Pension"?r.label([i.LBL05887,i.LBL01813]).value([1,0]).select(0):this.typeFlag==="TempWorkingPension"?r.label([i.LBL05887,i.LBL02318]).value([1,9]).select(1):this.typeFlag==="TempWorkingHealth"?r.label([i.LBL07397,i.LBL02318]).value([1,9]).select(1):r.label([i.LBL07397,i.LBL02318,i.LBL01813]).value([1,9,0]).select(0);n.addControl(r);r=u.define("widget.input",f+"_input_1",e+"_input_1").hide().setOptions({isNotChangeWidth:!0}).numericOnly(18,2,ecount.resource.MSG04553).setInlineIndex(1);this.typeFlag==="Pension"||this.typeFlag==="TempWorkingPension"?r.setAddonTitle(i.LBL07372):r.setAddonTitle(i.LBL07396);n.addControl(r);n.addControl(u.define("widget.input.digit",f+"_input_2",e+"_input_2").setAddonTitle(i.LBL07494).hide().maxLength(1).setInlineIndex(2));n.addControl(u.define("widget.label",f+"_label",e+"_label").label("-").hide().noneFlex(!0).setInlineIndex(2));n.addControl(u.define("widget.input.digit",f+"_input_3",e+"_input_3").hide().maxLength(10).setInlineIndex(2));n.addControl(u.define("widget.radio",f+"_radio_2",e+"_radio_2").setAddonTitle(i.LBL14901).hide().label([i.LBL05595,i.LBL14902]).value([1,0]).select(0).setInlineIndex(3));n.addControl(u.define("widget.radio",f+"_radio_3",e+"_radio_3").setAddonTitle(i.LBL14903).hide().label([i.LBL14904,i.LBL10587]).value([1,2]).select(1).setInlineIndex(4))},toggleDisplay:function(){var i=this.get(0).getValue(),t=[0],n=[];if(this.typeFlag=="Pension"||this.typeFlag=="Unemployment"||this.typeFlag=="TempWorkingPension"||this.typeFlag=="TempWorkingHealth")switch(i){case"1":t=t.concat([1]);n=n.concat([2,3,4,5,6]);break;default:n=n.concat([1,2,3,4,5,6])}else switch(i){case"1":t=t.concat([1,2,3,4,5,6]);break;case"9":t=t.concat([2,3,4,5,6]);n.push(1);break;default:n=n.concat([1,2,3,4,5,6])}t.map(function(n){this.get(n).show()},this);n.map(function(n){this.get(n).hide()},this)},getValue:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)this.get(n).controlType!="widget.label"&&t.push(this.get(n).getStandardValue()[0]);return t},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setValue(n[1]);this.get(2).setValue(n[2]);this.get(4).setValue(n[3]);this.get(5).setValue(n[4]);this.get(6).setValue(n[5])}},familySubjectToDeduction:{controlType:"widget.combine.familySubjectToDeduction",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),r=t.id,u=t.name,f=ecount.resource;n.addControl(i.define("widget.input.digit",r+"_input_1",u+"_input_1").maxLength(2).setInlineIndex(0).alignRight());n.addControl(i.define("widget.label",r+"_label_1",u+"_label_1").label(f.LBL00802).noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.input.digit",r+"_input_2",u+"_input_2").setAddonTitle(f.LBL22654).maxLength(2).setInlineIndex(1).alignRight());n.addControl(i.define("widget.label",r+"_label_2",u+"_label_2").label(f.LBL00802).noneFlex(!0).setInlineIndex(1))},getValue:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)this.get(n).controlType!="widget.label"&&t.push(this.get(n).getStandardValue()[0]);return t},setValue:function(n){this.get(0).setValue(n[0]);this.get(2).setValue(n[1])}},applyDeductionIncome:{controlType:"widget.combine.applyDeductionIncome",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,f=t.name,o=t.data,i=ecount.resource;n.addControl(r.define("widget.code.reducedCode",u+"_code",f+"_code").setAddonTitle(i.LBL02065).codeType(7).setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_radioType_1",f+"_radioType_1").setAddonTitle(i.LBL02206).label([i.BTN00070,i.LBL01202]).value(["Y","N"]).select("Y").setInlineIndex(1));n.addControl(r.define("widget.radio",u+"_radioType_2",f+"_radioType_2").setAddonTitle(i.LBL01881).label([i.BTN00070,i.LBL01202]).value(["Y","N"]).select("Y").setInlineIndex(2));n.addControl(r.define("widget.radio",u+"_radioType_3",f+"_radioType_3").setAddonTitle(i.LBL02037).label([i.BTN00070,i.LBL01202]).value([1,2]).select(1).setInlineIndex(3));n.addControl(r.define("widget.input",u+"_input",f+"_input").setAddonTitle(i.LBL07334).maxLength(30).setInlineIndex(4));n.addControl(r.define("widget.multiDate",u+"_deductionPeriod",f+"_deductionPeriod").setAddonTitle(i.LBL07335).useDateSpace().useSlipDate(!1).setInlineIndex(5))}},exchangeType:{controlType:"widget.combine.exchangeType",isViewMode:!1,selectAddOptions:["_defaultOptions","initOptions","_selectedValue","formset","isViewMode","_readOnlyIndex"],isGrid:!1,onInitChildControl:function(n,t){var c=widget.generator,f=c.control(),l=ecount.resource,e=t.id,o=t.name,i={},s=!$.isEmpty(t.initOptions)&&!$.isEmpty(t.initOptions.requestForeignType)?t.initOptions.requestForeignType:"0",h=!$.isEmpty(t.initOptions)&&!$.isEmpty(t.initOptions.requestExchangeType)?t.initOptions.requestExchangeType:"0",a=s+ecount.delimiter+h,r,u;t._fixedSelectedValue=t._fixedSelectedValue||[];this.isGrid=!$.isEmpty(t.gridID);r=f.define("widget.select.exchangeType",e+"_select",o+"_SELECT",undefined,undefined,"isCombine").setChangeStateFuncName("toggleSelect").select(t._fixedSelectedValue.length>0?t._fixedSelectedValue:a).setInlineIndex(0);this.selectAddOptions.forEach(function(n){var r=t[n];r&&(i[n]=r)});$.isEmptyObject(i)||r.setOptions(i);n.addControl(r);u=f.define("widget.input",e+"_input",o+"_INPUT").setChangeStateFuncName("toggleInput").numericOnly(18,4,l.MSG04553).showZeroInPoint(!1).setInlineIndex(0).setDefault(t.initOptions).value(t.initOptions?this.getExchangeRate(t):"");(s=="0"||h=="99999"||this.isGrid)&&u.hide();n.addControl(u)},getExchangeRate:function(n){var t=n.initOptions,i=ecount.control.getInitData("widget.select.exchangeType",n.inIncludePage,n.ecPageID),u,e,r,o,f;return u=i&&i.config&&i.config.IsFormSet==!0?$.isEmpty(t.requestExchangeRate)?0:t.requestExchangeRate:t&&($.isEmpty(t.exchangeRate)||t.exchangeRate==0)?this.getCookies(t.rateCookie)||"":t?t.exchangeRate:"",i&&i.result&&i.result.Data&&(e=n._defaultOptions,r=n.formset,e.editFlag=="I"&&r&&r.defaultValueType=="D"&&!$.isEmpty(r.exchangeType)&&(o=r.exchangeType,f=i.result.Data.where(function(n){return n.CODE_NO===o}),u=f.length>0?f[0].EXCHANGE_RATE:0)),u},toggleSelect:function(){var n=this.get(0),i=this.get(1),r,t;this.isGrid||(r=n.getValue(),r.indexOf(String.format("0{0}",ecount.delimiter))>=0||r=="99999"?i.hide():(t=n.getCodeData(ecount.control.select.prototype.getCodeData.apply(n)),i.setValue($.isNull(t.EXCHANGE_RATE)||t.EXCHANGE_RATE=="null"?0:t.EXCHANGE_RATE),n.isViewMode||i.show()))},toggleInput:function(){},setReadOnly:function(n,t){this.get(t).setReadOnly(n)},setSelctReadOnly:function(n){this.get(0).setReadOnly(n)},setInputReadOnly:function(n){this.get(1).setReadOnly(n)},addOption:function(n,t){this.get(0).addOption(n,t)},removeOption:function(n,t){this.get(0).removeOption(n,t)},hideOption:function(n){this.get(0).hideOption(n)},showOption:function(n){this.get(0).showOption(n)},getOptionCount:function(){return this.get(0).getOptionCount()},getFormset:function(){return this.get(0).getFormset()},isContain:function(n){return this.get(0).isContain(n)},useNumericOnly:function(n,t,i,r,u){this.get(1).useNumericOnly(n,t,i,r,u)},getTextIndex:function(){return 1},setDefault:function(){},setInitData:function(){},serialize:function(n){return{key:n||this.name,value:this.getValue(0)}},onInitControlOptions:function(){},initControl:function(){},getForeign:function(){return this.get(0).getForeign()},getForeignCode:function(){return this.get(0).getForeignCode()},getCodeData:function(n,t){return this.get(0).getCodeData(n,t)},setInputValue:function(n){var i=this.get(0),r=this.get(1),t;n||(n=this.get(0).getValue());n.indexOf(String.format("0{0}",ecount.delimiter))>=0||n=="99999"?r.hide():(t=i.getCodeData(ecount.control.select.prototype.getCodeData.apply(i)),r.setValue($.isNull(t.EXCHANGE_RATE)||t.EXCHANGE_RATE=="null"?0:t.EXCHANGE_RATE),i.isViewMode||r.show())},getValue:function(n){return n==undefined&&(n=0),this.get(n).getValue()},setValue:function(n,t,i){switch(arguments.length){case 1:t=$.isNull(arguments[0])?"":arguments[0];n=0;break;case 2:isNaN(+n)||typeof t!="boolean"||(t=arguments[0],i=arguments[1],n=0)}this.get(n).setValue(0,t,i)},setStandardValue:function(){var n;ecount.control.prototype.setValue.apply(this.get(0),arguments);var t=this.get(0),i=this.get(1),r=this.get(0).getValue();r.indexOf(String.format("0{0}",ecount.delimiter))>=0||r=="99999"?i.hide():(n=t.getCodeData(ecount.control.select.prototype.getCodeData.apply(t)),i.setValue($.isNull(n.EXCHANGE_RATE)||n.EXCHANGE_RATE=="null"?0:n.EXCHANGE_RATE),t.isViewMode||i.show())},useNumericOnly:function(n,t,i,r,u){this.get(1).useNumericOnly(n,t,i,r,u)},hasChild:function(){return this.get(0).hasChild()},ON_FOCUSOUT:function(){var t=this.get(1),i=t.numericOnly,n;i&&(n=this.getValue(1),n!=""&&n.match(/\.$/)&&t.setValue(val.substring(0,val.length-1),!0))},executeChangeDelegator:function(n){$.isEmpty(n)&&(n={});_.merge(n,{cid:this.id,cindex:this.getIndex(n.cid)});ecount.control.prototype.executeChangeDelegator.call(this,n)}},"exchangeType.inputCommon":{controlType:"widget.combine.exchangeType.inputCommon",__inheritParent:"widget.combine.exchangeType",onInitChildControl:function(n,t){var h=widget.generator,e=h.control(),c=ecount.resource,o=t.id,s=t.name,i="",r={},u,f;t&&t.compileOption&&t.compileOption.select&&t.compileOption.select.length&&(i=t.compileOption.select[0][0]);u=e.define("widget.select.exchangeType.inputCommon",o+"_select",s+"_SELECT",undefined,undefined,"isCombine").setChangeStateFuncName("toggleSelect").setInlineIndex(0);this.selectAddOptions.forEach(function(n){var i=t[n];i&&(r[n]=i)});$.isEmptyObject(r)||u.setOptions(r);n.addControl(u);f=e.define("widget.input",o+"_input",s+"_INPUT").setChangeStateFuncName("toggleInput").numericOnly(18,4,c.MSG04553).showZeroInPoint(!1).value(t.initOptions?this.getExchangeRate(t):"").setInlineIndex(0);(i.indexOf(String.format("0{0}",ecount.delimiter))>=0||i=="99999")&&f.hide();n.addControl(f)},setForeignTypeChange:function(n){var t=this.get(0),i=this.get(1);t.setForeignTypeChange(n);i.setValue(t.getCodeData().EXCHANGE_RATE||0)},onMessage:function(n,t){var i=this.get(0),r=this.get(1);i.onMessage(n,t);i.getForeign()=="1"&&r.setFocus(0)},setRecommendValue:function(n){var t=this.get(0);t.setRecommendValue(n)},resetRecommend:function(){var n=this.get(0);n.resetRecommend()},getFoldLayerValue:function(){var i="",r,t,n,u,f;return this.getForeign()=="0"?(r=this.get("foreign_type_select"),r&&(t=r.getSelectedItem(),t&&t.label&&(i=t.label))):(n=this.getCodeData(),_.isEmpty(n)||_.isEmpty(n.CODE_NO)||(u=n.EXCHANGE_RATE,f=this.get("foreign_type_input"),f&&(u=f.getText()),i=String.format("[{0}] {1} {2}",n.CODE_NO,n.CODE_DES,u))),i}},fixedAssetsPlus:{controlType:"widget.combine.fixedAssetsPlus",typeFlag:null,onInitChildControl:function(n,t){var r=widget.generator,i=r.control(),u=t.id,f=t.name,e=t.data;n.addControl(i.define("widget.code.fixedAssetsType","txtFixedAssetsClassCd","CLASS_CD",ecount.resource.LBL10302).maxSelectCount(1).hasFn([{id:"classInfo",label:ecount.resource.LBL02355}]).popover(ecount.resource.MSG05789).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.multiCode.account","txtGyeCode","GYE_CODE",ecount.resource.LBL04156).maxSelectCount(1).dataRules(["required"],ecount.resource.MSG05747).popover(ecount.resource.MSG05782).setAddonTitle(ecount.resource.LBL04156).setInlineIndex(1));n.addControl(i.define("widget.multiCode.account","txtDeprGyeCode","DEPR_GYE_CODE",ecount.resource.LBL07839).maxSelectCount(1).popover(ecount.resource.MSG03472.replace(/\n/g,"<br/>")).setAddonTitle(ecount.resource.LBL07839).setInlineIndex(2));n.addControl(i.define("widget.multiCode.account","txtCostGyeCode","COST_GYE_CODE",ecount.resource.LBL00286).maxSelectCount(1).popover(ecount.resource.MSG05783).setAddonTitle(ecount.resource.LBL00286).setInlineIndex(3));n.addControl(i.define("widget.radio","rbProcGubun","PROC_GUBUN",ecount.resource.LBL01509).label([ecount.resource.LBL02524,ecount.resource.LBL02516]).value(["1","2"]).select("1").popover(ecount.resource.MSG05784).setAddonTitle(ecount.resource.LBL01509).setInlineIndex(4));n.addControl(i.define("widget.radio","rbLifeUnit","LIFE_UNIT",ecount.resource.LBL10303).label([ecount.resource.LBL00926,ecount.resource.LBL02042]).value(["Y","M"]).select("Y").popover(ecount.resource.MSG05785).setAddonTitle(ecount.resource.LBL10303).setInlineIndex(5));n.addControl(i.define("widget.input.general","txtYearCnt","YEAR_CNT",ecount.resource.LBL00913).value("0").numericOnly(4,0,ecount.resource.MSG04553).setOptions({isNotChangeWidth:!0}).popover(ecount.resource.MSG05794).setAddonTitle(ecount.resource.LBL00913).setInlineIndex(6)).setOptions({isNotChangeWidth:!0});n.addControl(i.define("widget.input.general","txtResidualAmt","RESIDUAL_AMT",ecount.resource.LBL35804).value(0).numericOnly(18+ecount.config.company.DEC_AMT,ecount.config.company.DEC_AMT,ecount.resource.MSG04553).setOptions({isNotChangeWidth:!0}).showZeroInPoint(ecount.config.company.ZERO_CHK_YN).popover(ecount.resource.MSG05786).setAddonTitle(ecount.resource.LBL35804).setInlineIndex(7))},toggleDisplay:function(){var n=this.get(0).getSelectedCode();n[0]!==""?(this.hideAll(),this.get(0).show()):this.showAll()}},bizTaxStatus:{controlType:"widget.combine.bizTaxStatus",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name,e=t.data;n.addControl(i.define("widget.radio",r+"_bizTaxStatus_radio",u+"_BIZTAXSTATUS_RADIO").label([ecount.resource.LBL15076,ecount.resource.LBL14902]).value(["Y","N"]).select("N").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.input",r+"_bizTaxStatus_input",u+"_BIZTAXSTATUS_INPUT").filter("regexp",{regexp:"[^0-9]",message:ecount.resource.MSG00923}).maxLength(4).setAddonTitle(ecount.resource.LBL04832).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();n=="Y"?this.get(1).show():this.get(1).hide()}},nationality:{controlType:"widget.combine.nationality",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name,e=t.data;n.addControl(i.define("widget.checkbox",r+"_nationality_checkbox",u+"_NATIONALITY_CHECKBOX").label([ecount.resource.LBL04947]).value(["1"]).noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.code.nationality",r+"_nationality_code",u+"_NATIONALITY_CODE").codeType(7).setAddonTitle(ecount.resource.LBL06308).setInlineIndex(0))}},residenceCountry:{controlType:"widget.combine.residenceCountry",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name,e=t.data;n.addControl(i.define("widget.checkbox",r+"_residenceCountry_checkbox",u+"_RESIDENCECOUNTRY_CHECKBOX").label([ecount.resource.LBL05893]).value(["1"]).noneFlex(!0).setInlineIndex(0));n.addControl(i.define("widget.code.residenceCountry",r+"_residenceCountry_code",u+"_RESIDENCECOUNTRY_CODE").codeType(7).setAddonTitle(ecount.resource.LBL06405).setInlineIndex(0))}},scheManageSearchType:{controlType:"widget.combine.scheManageSearchType",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").label([ecount.resource.LBL02475,ecount.resource.LBL02221,ecount.resource.LBL03815]).value([0,1,2]).select(0).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.multiCode.timeCode",r+"_timeCode",u+"_timeCode").setAddonTitle(t._addonTitle||null).setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();n=="1"?this.get(1).hide():this.get(1).show()}},reportFlag:{controlType:"widget.combine.reportFlag",isLabelClicked:!1,isShowSettlement:!0,onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;labels=t.label&&t.label;n.addControl(r.define("widget.select",u+"_RPT_TYPE",f+"_RPT_TYPE").option([["O300",i.BTN00443],["O301",i.LBL08001],["O303",i.LBL08004],["O304",i.LBL15198],["O305",i.LBL15199],["O309",i.LBL15200],["O307",i.LBL15201],["O310",i.LBL07454],]).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.label.combineView","combineView","combineView").userData([0,1]).label(labels&&labels.length?labels:[i.LBL15204,i.LBL15207,]).css("label-default label-light").setChangeStateFuncName("toggleLabel").setInlineIndex(1));n.addControl(r.define("widget.label",u+"_label1",f+"_label1").setAddonTitle(i.LBL15203).label([i.LBL15204]).hide().setInlineIndex(2));n.addControl(r.define("widget.radio",u+"_radio2",f+"_radio2").setAddonTitle(i.LBL06406).label([i.LBL03755,i.LBL07247]).value([1,0]).select(1).hide().setInlineIndex(3))},getValue:function(){for(var t,r=[],n=0,i=this.controlList.length;n<i;n++)t=this.get(n),t.controlType&&t.controlType.indexOf("widget.label")===-1&&r.push(t.getStandardValue()[0]);return r},setValue:function(n){for(var i,u=0,t=0,r=this.controlList.length;t<r;t++)if(i=this.get(t),i.controlType&&i.controlType.indexOf("widget.label")>-1){i.getState(this._IT_SELF,"style.display")===!0&&u++;continue}else i.setStandardValue(n[t-u])},toggleDisplay:function(){var n=this.get(0).getValue();n=="O300"||n=="O301"?(this.isShowSettlement=!0,this.get(1).showLabelById(1)):(this.isShowSettlement=!1,this.get(1).hideLabelById(1));this.toggleRadio()},toggleLabel:function(n,t){this.isLabelClicked=!0;this.toggleRadio(null,t)},toggleRadio:function(){this.isLabelClicked&&(this.get(1).hide(),this.get(2).show(),this.isShowSettlement?this.get(3).show():this.get(3).hide())},ON_CLICK:function(n,t,i){i&&i.controlType=="widget.label.combineView"&&(this.isLabelClicked=!0,this.toggleRadio())}},displayDetailsSetting:{controlType:"widget.combine.displayDetailsSetting",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,f=t.name;n.addControl(i.define("widget.radio",r+"_radio","COL_VISIBLE").label([ecount.resource.LBL15248,ecount.resource.LBL05511,ecount.resource.LBL15249]).value(["0","1","2"]).select("0").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.checkbox",r+"_checkbox","CTT_ALL_TF").setAddonTitle(ecount.resource.LBL12497).label([ecount.resource.LBL15250]).setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[1]?(this.get(1).hide(),this.get(1).setValue(!1)):this.get(1).show()},getValue:function(n){var t=[];return t.push(this.controlList[0].getValue()),t.push(this.controlList[1].getValue()),$.isNumber(n)?t[n]:t}},taxTypeSearchTaiwan:{controlType:"widget.combine.taxTypeSearchTaiwan",onInitChildControl:function(n,t){var f=widget.generator,u=f.control(),e=t.id,o=t.name,r=ecount.resource,i=t.checkValue;n.addControl(u.define("widget.multiCode.taxType","twTxtIoTypeCd","twTxtIoTypeCd").setInlineIndex(0));n.addControl(u.define("widget.checkbox.whole","INVOICE_TYPE","INVOICE_TYPE").setAddonTitle(r.LBL04920).label([r.LBL02475,r.LBL16288,r.LBL14131,r.LBL14133,r.LBL14134]).value([i[0],i[1],i[2],i[3],i[4]]).select(i[0],i[1],i[2],i[3],i[4]).setInlineIndex(1));n.addControl(u.define("widget.multiCode.invoiceKind","INVOICE_KIND","INVOICE_KIND").setAddonTitle(r.LBL04853).setInlineIndex(2));n.addControl(u.define("widget.input","INVOICE_NO","INVOICE_NO").setAddonTitle(r.LBL14147).filter("regexp",{regexp:"[^0-9a-z]"}).setInlineIndex(3));n.addControl(u.define("widget.input","DISCOUNT_NO","DISCOUNT_NO").setAddonTitle(r.LBL14149).filter("regexp",{regexp:"[^0-9a-z]"}).setInlineIndex(4))}},inventoryStatusScheduleType:{controlType:"widget.combine.inventoryStatusScheduleType",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,s=t.name,e=ecount.resource,r,i;this.isHideFlag=t.isHideFlag;this._hasFn=t.hasFn;this.ioDv=t.ioDv;t.hasFn=!1;i=this.initData&&this.initData.result&&this.initData.result.Data&&_.isArray(this.initData.result.Data)&&this.initData.result.Data;t._fixedSelectedValue&&(i=t._fixedSelectedValue);r=u.define("widget.code.translip",f+"_type","ISST_TYPE_CD").codeType(7).setChangeStateFuncName("toggleCode").setInlineIndex(0);t.dataRules&&r.dataRules(t.dataRules,t.dataRulesMsg?t.dataRulesMsg:"");i&&_.isArray(i)&&i.length>0&&r.addCode(i[0]);n.addControl(r);r=u.define("widget.code.cust",f+"_cust","ISST_CUST_CD").codeType(1).setAddonTitle(e.LBL80082).setInlineIndex(1);(this.isHideFlag||!i||i&&_.isArray(i)&&i[0].sliptype!="C")&&r.hide();this._hasFn&&r.hasFn(t.dropdownOptions||!1);i&&_.isArray(i)&&i.length>1&&r.addCode(i[1]);n.addControl(r);r=u.define("widget.code.wh",f+"_wh","ISST_WH_CD").codeType(1).setAddonTitle(e.LBL02846).setInlineIndex(2);(this.isHideFlag||!i||i&&_.isArray(i)&&i[0].sliptype!="W")&&r.hide();i&&_.isArray(i)&&i.length>2&&r.addCode(i[2]);n.addControl(r)},toggleCode:function(){if(this.isHideFlag)return!1;var t=this.get(0).getSelectedItem(),n=_.isArray(t)?t[0]:{},i=this.ioDv=="I"?n.value=="W1"?ecount.resource.LBL01547:ecount.resource.LBL01333:n.value=="W2"?ecount.resource.LBL01254:ecount.resource.LBL01259;n.sliptype=="C"?(this.get(1).show(),this.get(2).hide()):n.sliptype=="W"?(this.get(1).hide(),this.get(2).setPlaceHolder(i),this.get(2).changeAddonTitle(i),this.get(2).show()):(this.get(1).hide(),this.get(2).hide())}},phoneConsultation:{controlType:"widget.combine.phoneConsultation",onInitChildControl:function(n,t){var u=widget.generator,r=u.control(),f=ecount.resource,i=t.id,e=t.name;n.addControl(r.define("widget.code.country",i+"_COUNTRY",i+"_COUNTRY").codeType(7).setInlineIndex(0));n.addControl(r.define("widget.input.digit",i+"_",i+"_PHONE_NO").maxLength(20).setInlineIndex(0))},getValue:function(){for(var t,r=[],n=0,i=this.controlList.length;n<i;n++)t=this.get(n),t.controlType&&t.controlType.indexOf("widget.label")===-1&&r.push(t.getStandardValue()[0]);return r}},billingType:{controlType:"widget.combine.billingType",onInitChildControl:function(n){var r=widget.generator,i=r.control(),t=ecount.resource;n.addControl(i.define("widget.radio","BILLING_TYPE","BILLING_TYPE").label([t.LBL16635,t.LBL16636,t.LBL21864]).value([0,1,2]).select(0).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.input","BILLING_COM_CODE","BILLING_COM_CODE").setAddonTitle(t.LBL03181).hide().setInlineIndex(1));n.addControl(i.define("widget.checkbox","BILLING_INCL","BILLING_INCL").label([t.LBL16952]).value(["1"]).hide().setInlineIndex(2));n.addControl(i.define("widget.checkbox","BILLING_SVC_TYPE","BILLING_SVC_TYPE").setAddonTitle(t.LBL17578).label(["A003 ","A008 "]).value(["A003","A008"]).hide().select(["A003","A008"]).setInlineIndex(3))},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[1]?(this.get(3).reset(),this.get(1).show(),this.get(2).show(),this.get(3).hide(),this.setFocus(1)):n==t[2]?(this.get(1).reset(),this.get(2).reset(),this.get(1).show(),this.get(2).hide(),this.get(3).show()):(this.get(1).reset(),this.get(2).reset(),this.get(3).reset(),this.get(1).hide(),this.get(2).hide(),this.get(3).hide())},getValue:function(){return[this.get(0).getValue(),this.get(1).getValue(),this.get(2).getValue()]}},setNotificationCondition:{controlType:"widget.combine.setNotificationCondition",afterSetValueDatas:[],testFlag:!1,initializeOptions:function(n){this.customOptions=n.customOptions},onInitChildControl:function(n,t){var r=widget.generator,u=r.control(),f=t.id,e=t.name,i;t.testFlag===!0&&(this.testFlag=!0);i=u.define("widget.code.filterItem",f+"_setType",e+"_setType").codeType(7).setOptions({isKeep:!0}).setChangeStateFuncName("toggleCode").setInlineIndex(0);this.testFlag&&i.setOptions({searchURL:"/Common/Infra/GetListCountry",popupURL:"/ECERP/ECK/ECK001P_04",valueColumn:"STATE_CODE",labelColumn:"STATE_TEXT",isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""}});n.addControl(i)},toggleCode:function(n,t){var r=t,i,f=this.controlList.map(function(n,t){return t}),u;if(this.isGridV3)for(u=1;u<this.controlList.length;u++)this.controlList[u].reset(null,!1);if($.isEmpty(r))return!1;this.testFlag?r.value=="GH"?i=[{baseType:"code",controlType:"widget.multiCode.custLevelGroup",id:this.id+"_code",name:this.id+"_code",setAddonTitle:"ecount.resource.LBL03253",dataRules:["required"],setOptions:{label:""}}]:r.value=="GA"?i=[{baseType:"text",controlType:"widget.select",id:"testSelectId",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["Contain","ecount.resource.LBL03755"],["NotContain","ecount.resource.LBL04294"]]},{baseType:"text",controlType:"widget.input",id:this.id,name:this.id}]:r.value=="GY"?i=[{baseType:"numeric",controlType:"widget.select",id:"testSelectId",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["=","="],["<>","<>"],[">",">"],[">=",">="],["<","<"],["<=","<="],["Between","~"]]},{baseType:"numeric",controlType:"widget.input",id:this.id+"_inputFirst",name:this.id+"_inputFirst",numericOnly:[18,2,"ecount.resource.MSG04553",!0,!0]},{baseType:"numeric",controlType:"widget.label",id:"~",name:"~",label:"~",isHide:!0},{baseType:"numeric",controlType:"widget.input",id:this.id+"_inputSecond",name:this.id+"_inputSecond",numericOnly:[18,2,"ecount.resource.MSG04553",!0,!0],isHide:!0}]:r.value=="GM"?i=[{baseType:"date",controlType:"widget.select",id:"testSelectId",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["Before",""],["After",""],["Within",""]]},{baseType:"date",controlType:"widget.input",id:this.id,name:this.id,numericOnly:[3,0,"ecount.resource.MSG04553"]}]:r.value=="GG"?i=[{baseType:"calculate",controlType:"widget.link",id:this.id+"_calculate",name:this.id,setAddonTitle:"ecount.resource.LBL03253",label:"ecount.resource.LBL80195"},]:r.value=="GP"?i=[{baseType:"time",controlType:"widget.select.fromToDouble",id:this.id+"_select",name:this.id+"_select"}]:r.value=="GT"?i=[{baseType:"keyword",controlType:"widget.simpleMultiCode.keywordAlert",id:this.id+"_code",name:this.id+"_code"}]:r.value=="GU"?i=[{baseType:"selectKeyword",controlType:"widget.select",id:this.id+"select",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["Contain","ecount.resource.LBL03755"],["NotContain","ecount.resource.LBL04294"]]},{baseType:"selectKeyword",controlType:"widget.simpleMultiCode.keywordAlert",id:this.id+"_code",name:this.id+"_code"}]:r.value=="VA"&&(i=[{baseType:"chatRoomList",controlType:"widget.multiCode.chatRoomList",id:this.id+"_code",name:this.id+"_code"}]):i=this.dataFinder(r);f.shift();this.removeChildControl(f);$.isArray(i)&&i.length>0&&(this.addChildControl(i,1),this.afterSetValueDatas.length&&this.setValue())},dataFinder:function(n){return n&&n.rawData?this.get(0).getSelectedItem()[0].initControls:n},toggleSelect:function(){var n=this.get(1).getSelectedItem();switch(n.label){case"~":this.get(3).show();this.get(4).show();this.get(4).setDataRules(["required"]);break;default:this.get(3).hide();this.get(4).hide();this.get(4).setDataRules([])}},setValue:function(n){var t,i;t=_.extend([],this.controlList);this.afterSetValueDatas.length?(t.shift(0),$.each(t,function(n,t){t.controlType=="widget.label"&&(i=n)}),i&&t.splice(i,1),n=_.extend([],this.afterSetValueDatas),this.afterSetValueDatas=[]):(this.afterSetValueDatas=_.extend([],n),this.afterSetValueDatas.shift(0));$.each(t,function(i,r){if(this.isGridV3&&/widget.code/.test(r.controlType)?r.setStandardValue(n[i],!0):r.setStandardValue(n[i]),!this.afterSetValueDatas.length&&t.length>2&&r.controlType=="widget.select"){var u=r.getSelectedItem().label;u==="~"&&this.toggleSelect(null,u)}}.bind(this))},getValue:function(){for(var n,i=[],t=0,r=this.controlList.length;t<r;t++)n=this.controlList[t],n.controlType=="widget.simpleMultiCode.keywordAlert"?i.push(n.getStandardValue()):n.controlType&&n.controlType.indexOf("multiCode")!=-1||n.controlType=="widget.select.fromToDouble"?i.push(n.getStandardValue()):n.controlType&&n.controlType.indexOf("widget.label")===-1&&n.controlType.indexOf("widget.link")===-1&&i.push(n.getStandardValue()[0]);return i},removeAll:function(){this.controlType.indexOf("setNotificationCondition")>-1&&this.controlList[0].removeAll()},serialize:function(){for(var n,t=[],i=0,r=this.controlList.length;i<r;i++)n=this.controlList[i].serialize(),$.isArray(n)?t=t.concat(n):n.key.indexOf("~")<=-1&&t.push(n);return t},activeDefineControls:function(n,t){var l=widget.generator,e=ecount.resource,c,r,i,s,f,o,h,u;for(this._activeControls=[],i=0;i<n.length;i++){if(c=l.control(),r=c.define(n[i].controlType,n[i].id,n[i].name).setInlineIndex(t),n[i].setAddonTitle&&(f=n[i].setAddonTitle.indexOf("ecount.resource"),n[i].setAddonTitle=f>-1?n[i].setAddonTitle.split(".")[2]:n[i].setAddonTitle,r.setAddonTitle(e[n[i].setAddonTitle])),n[i].dataRules&&r.dataRules(n[i].dataRules),n[i].option&&($.each(n[i].option,function(n,t){var i=t[1].indexOf("ecount.resource");i>-1&&(t[1]=e[t[1].split(".")[2]])}),r.option(n[i].option)),n[i].numericOnly&&(f=n[i].numericOnly[2].indexOf("ecount.resource"),n[i].numericOnly[2]=f>-1?e[n[i].numericOnly[2].split(".")[2]]:n[i].numericOnly[2],r.numericOnly.apply(r,n[i].numericOnly)),n[i].popoverContents&&r.setAddonPopover({content:e[n[i].popoverContents]||n[i].popoverContents,isLeftView:!0}),n[i].label&&_.isArray(n[i].label)){for(s=[],u=0;u<n[i].label.length;u++)f=n[i].label[u].indexOf("ecount.resource"),s.push(f>-1?e[n[i].label[u].split(".")[2]]:n[i].label[u]);r.label(s)}else n[i].label&&(f=n[i].label.indexOf("ecount.resource"),n[i].label=f>-1?e[n[i].label.split(".")[2]]:n[i].label,r.label(n[i].label));if(_.isNil(n[i].value)||r.value(n[i].value),_.isNil(n[i].select)||r.select(n[i].select),_.isNil(n[i].addCode)||r.addCode(n[i].addCode),n[i].isHide&&r.hide(n[i].isHide),n[i].codeType&&r.codeType(n[i].codeType),n[i].baseType=="numeric"&&n[i].controlType=="widget.select"&&r.setChangeStateFuncName("toggleSelect"),n[i].controlType=="widget.label"||n[i].controlType=="widget.select"?r.noneFlex(!0):n[i].controlType=="widget.input"?r.setOptions({isNotChangeWidth:!0}):n[i].controlType=="widget.select.fromToDouble"?(o={SNextDay:"1",SHours:"0",SMinutes:"0",ENextDay:"1",EHours:"0",EMinutes:"0"},h=[["0","00"],["1","01"],["2","02"],["3","03"],["4","04"],["5","05"],["6","06"],["7","07"],["8","08"],["9","09"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"],["21","21"],["22","22"],["23","23"]],r.addItem({option:h,selectedValue:o.SHours}).addItem({from:0,to:59,padLength:2,padString:0,postfix:"",category:"minutes",selectedValue:o.SMinutes}).addItem({option:h,selectedValue:o.EHours}).addItem({from:0,to:59,padLength:2,padString:0,postfix:"",category:"minutes",selectedValue:o.EMinutes}).setOptions({colon:":",canValidate:!1})):n[i].controlType=="widget.simpleMultiCode.keywordAlert"&&r.maxLength(20,String.format(ecount.resource.MSG00957,20)),n[i].controlType=="widget.select"&&r.css("btn-selectbox-inline"),n[i].setOptions&&r.setOptions(n[i].setOptions),_.isArray(this.customOptions)&&this.customOptions.length>0)for(u=0;u<this.customOptions.length;u++)n[i].id==this.customOptions[u].id&&this.customOptions[u].css&&r.css(this.customOptions[u].css);this._controls||(this._controls=[]);r.end&&typeof r.end=="function"&&(r=r.end());r.data&&r.data.length>0&&r.data.forEach(function(n){n.pcid=this.id});r._pcid=this.id;this._activeControls.push(r)}}},loadSlip:{controlType:"widget.combine.loadSlip",selectIndex:0,codeIndex:1,buttonIndex:2,initializeOptions:function(n){var i=n._loadSlipOption||{},t=_.merge({},i,ecmodule.inventory.loadslipinfo.setButton(this.ecPageID,i));$.isEmpty(n._loadSlipOption.isLinetypeCheck)||(t.isLinetypeCheck=n._loadSlipOption.isLinetypeCheck);_.merge(this,{slipOptions:t,isToJob:t.isToJob||!1,isComboWH:t.isComboWH||!1,isComboAGCon:t.isComboAGCon||!1,isDataAllApply:t.isDataAllApply||!1,isDataRemainApply:t.isDataRemainApply||!1,isCboxPurchasePric:t.isCboxPurchasePric||!1,isLinetypeCheck:t.isLinetypeCheck||!1,settingValue:t.settingValue||!1,isContainProcessCode:t.isContainProcessCode||!1,plantCd:t.PLANT_CD||"",plantDes:t.PLANT_DES||"",applyCallback:n.applyCallBack,hasApplyCallback:!!n.applyCallBack})},onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),r=t.id,u=t.name,f=$.isNull(this.settingValue)?this._getSelctBoxOption().length>0?this._getSelctBoxOption()[0].value:undefined:this.settingValue;n.addControl(i.define("widget.select",r+"_select","selectLoadSlip").option(this._getSelctBoxOption()).select(f).inline().setChangeStateFuncName("toggleSelect").setOptions({hidden:!this.isShowSelectBox()}).setInlineIndex(0));n.addControl(i.define("widget.code.processCode",r+"_processCode",u+"_processCode").addCode({value:this.plantCd,label:this.plantDes}).smallSize().codeType(6).inline().setOptions({hidden:!this.isContainProcessCode||this.settingValue!="2"||!this.isComboWH}).setInlineIndex(0));n.addControl(i.define("widget.button.group",r+"_button",u+"_button").label(this._getButtonLabel(f)).addGroup(t.dropdownOptions||[]).setOptions({_layerKey:"additional"}).setInlineIndex(0))},onAfterRender:function(){this.isDataAllApply&&this.isDataRemainApply&&(!this.isComboAGCon||this.settingValue=="1")?this.addGroupItem():this.isToJob?this.addGroupItem():this.toggleSelect()},toggleSelect:function(){var n=this.get(this.selectIndex).getOldValue();this.isComboAGCon&&this.isDataAllApply&&(this.isLinetypeCheck&&n=="1"&&ecount.confirm(ecount.resource.MSG06115,function(t){if(!t)return this.get(this.selectIndex).setValue(n),!1}.bind(this)),this.isDataRemainApply&&(this.get(this.selectIndex).getValue()!="1"?this.removeGroupItem():this.addGroupItem()),this.get(this.buttonIndex).changeLabel(this._getButtonLabel(this.get(0).getValue())));this.isComboWH&&this.isContainProcessCode&&(this.get(this.selectIndex).getValue()=="2"?this.get(this.codeIndex).show():this.get(this.codeIndex).hide())},isShowSelectBox:function(){return this.isComboAGCon||this.isComboWH||this.isToJob},getLoadSlipType:function(){return this.isToJob?this._getLoadSlipTypeForJob.apply(this,arguments):this._getLoadSlipType.apply(this,arguments)},getEventButtonIdForJob:function(){return this.__ecEventButtonIdForJob},getSelectedValue:function(){return this.get(this.selectIndex).getValue()},getSelectedCode:function(){var n=this.get(this.codeIndex).getSelectedItem()[0];return{label:n.label,value:n.value}},showCodeError:function(){this.get(this.codeIndex).showError()},setSelectedValue:function(n){this.get(this.selectIndex).setSelectedValue(n)},loadSlipOption:function(n){var u=n||{},t=_.merge({},u,ecmodule.inventory.loadslipinfo.setButton(this.ecPageID,u)),r;if(_.merge(this,{slipOptions:t,isComboWH:t.isComboWH||!1,isComboAGCon:t.isComboAGCon||!1,isDataAllApply:t.isDataAllApply||!1,isDataRemainApply:t.isDataRemainApply||!1,isCboxPurchasePric:t.isCboxPurchasePric||!1,isLinetypeCheck:t.isLinetypeCheck||!1,settingValue:t.settingValue||!1,applyCallback:n.applyCallBack,hasApplyCallback:!!n.applyCallBack}),t.LOAD_TYPE=="V"){var i=$.isNull(this.settingValue)?this._getSelctBoxOption().length>0?this._getSelctBoxOption()[0].value:undefined:this.settingValue,r=this._getButtonLabel(i),f=this._getSelctBoxOption();this.setChangeStateFuncCallFlag(!1);this.get(this.selectIndex).removeOption();this.showElement(this.selectIndex);this.get(this.selectIndex).addOption(f);this.setChangeStateFuncCallFlag(!0);this.get(this.selectIndex).setSelectedValue(i);this.isDataRemainApply?this.addGroupItem():this.removeGroupItem();this.get(this.buttonIndex).setState(0,"label",r)}else r=this._getButtonLabel(i),this.hideElement(0),this.removeGroupItem(),this.get(this.buttonIndex).setState(0,"label",r)},showElement:function(n){this.show(n)},hideElement:function(n){this.hide(n)},removeGroupItem:function(){var n=this.get(this.buttonIndex);n.removeDropdownItem(null,!0);n.refresh()},addGroupItem:function(){var n=this.get(this.buttonIndex);n.getDropdownItemLength()==0&&(n.addDropdownItem({id:"allApply",label:ecount.resource.LBL80221}),this.isToJob&&n.addDropdownItem({id:"jobOrderRemainApply",label:ecount.resource.LBL20118}),n.refresh())},addClass:function(n,t){$.isNull(t)&&(t=n,n=this.buttonIndex);this.get(n).addClass(t)},removeClass:function(n,t){$.isNull(t)&&(t=n,n=this.buttonIndex);this.get(n).removeClass(t)},_getSelctBoxOption:function(){return this.isComboAGCon?[["2",ecount.resource.LBL03311],["1",ecount.resource.LBL09363]]:this.isComboWH?[["3",String.format(ecount.resource.LBL00040,"1")],["2",ecount.resource.LBL00564],["1",ecount.resource.LBL08019]]:this.isToJob?[["1",ecount.resource.LBL08019],["2",ecount.resource.LBL20114],["3",ecount.resource.LBL20115]]:[]},_getButtonLabel:function(n){var t;return this.isComboAGCon||this.isComboWH?this.isDataAllApply&&this.isDataRemainApply?t=this.isComboWH?ecount.resource.LBL10735:n!=="1"?ecount.resource.LBL10734:ecount.resource.LBL10735:this.isDataAllApply?t=ecount.resource.LBL10734:this.isDataRemainApply&&(t=ecount.resource.LBL10735):t=this.isDataAllApply?ecount.resource.LBL10734:this.isDataAllApply?ecount.resource.LBL10735:ecount.resource.BTN00069,this.isToJob&&(t=ecount.resource.LBL20116),t},_getLoadSlipType:function(){if(this.isDataAllApply){if(this.isDataRemainApply&&this.isLinetypeCheck&&this.isComboAGCon)return this.getSelectedValue()=="1"?"R":"T";if(this.isDataRemainApply&&this.isComboWH)return"R";if(!this.isDataRemainApply)return"T"}else if(this.isDataRemainApply)return"R";return"A"},_getLoadSlipTypeForJob:function(n){var t;switch(n){case"allApply":t="T";break;case"jobOrderRemainApply":t="R";break;default:t="R"}return t},_registEventButtonIdForJob:function(n){this.__ecEventButtonIdForJob=n},ON_CLICK:function(n,t,i,r){r.command=this._makeCommandString();this.hasApplyCallback&&(this.isToJob&&this._registEventButtonIdForJob("jobRemainApply"),n.id=="loadSlip_button"&&this.applyCallback(this._getLoadSlipType()))},ON_CLICK_SERVICE:function(n){this.hasApplyCallback&&n.ecFunction!="select"&&(this.isToJob&&this._registEventButtonIdForJob(n.ecFunctionId),this.applyCallback("T"))}},calendarPack:{calendarOptions:["year","month","_setDaycallBack","calendarApiUrl","calendarApiUserParam","disableWeekend","_dataFilter","datas","holidays","isShowToday","isGroupedUsers","clockInResource","clockOutResource","_setDropdownTitleConverter","_setDateConverter","isDisableDataControl","_holiday","_scheduleCount","_scheduleDayListArray","_holidayDetail","TYPE_VALUE","subTitle","_callBack","_popoverContentsClickCallBack","_url","form",],controlType:"widget.combine.calendarPack",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=t.id,f=t.name,s=t.controlName?["widget","calendar",t.controlName].join("."):"widget.calendar",i={},e=0;dateYm={};calendar={};this.year=t.year;this.month=t.month;t.isDisableDataControl||(this.isDisableDataControl=t.isDisableDataControl,this.disableControl=t.disableControl,dateYm=r.define("widget.date.YM",u+"_date",f+"_date").setChangeStateFuncName("changeDateControlYM"),_.isNil(this.year)||_.isNil(this.month)||dateYm.select(this.year+"-"+(this.month+1).toString().padLeft(2,"0")+"-01"),n.addControl(dateYm),this.dateContrlIndex=e++);calendar=r.define(s,u+"_calendar",f+"_calendar");this.calendarOptions.forEach(function(n){var r=t[n];$.isEmpty(r)||(i[n]=r)});$.isEmptyObject(i)||calendar.setOptions(i);n.addControl(calendar);this.calendarControlIndex=e},getCalendarControl:function(){return this.get(this.calendarControlIndex)},getDateControl:function(){return this.get(this.dateContrlIndex)},onAfterRender:function(){$.isEmpty(this.disableControl)||this.getDateControl().disable(this.disableControl)},changeDateControlYM:function(){var r=this.getDateControl().getDate()[0],i=this.getCalendarControl(),n=r.getFullYear(),t=r.getMonth();if(this.year==n&&this.month==t)return!1;this.year=n;this.month=t;console.log(" : "+n+" "+(t+1)+"");i.setYear(n);i.setMonth(t);i.requestData()},requestData:function(){this.getCalendarControl().requestData()},setData:function(n){return this.getCalendarControl().setData(n)},setMonth:function(n){return this.getCalendarControl().setMonth(n)},setYear:function(n){return this.getCalendarControl().setMonth(n)},reLoadData:function(){this.getCalendarControl().requestData()},getHTML:function(){for(var t=this.$el,i=[],n=0,r=t.length;n<r;n++)$.isNull(t[n])||$.isNull(t[n].outerHTML)||i.push(t[n].outerHTML);return i.join("")},getValue:function(){return this.isDisableDataControl?"":this.get(0).getStandardValue()},setValue:function(n){this.isDisableDataControl||this.get(0).setStandardValue(n)}},fileGroup:{controlType:"widget.combine.fileGroup",_totalFileCount:0,_isEditable:!0,init:function(n){this.callbackID=ecount.global.registerCallback(n.ecPageID,this.onMessage,this);this._linkList=[];widget.combine.prototype.init.apply(this,arguments);this.dndID=["dnd",this.ecPageID,this.tabID||"",this.id].join(ecount.separator.ecPath);this._addSimpleFilesFilter=this.getFileGroupCommon()===!0&&ecmodule.common.slipLink&&ecmodule.common.slipLink.setSlipFilter&&typeof ecmodule.common.slipLink.setSlipFilter=="function"?ecmodule.common.slipLink.setSlipFilter:this._fileFilter&&typeof this._fileFilter=="function"?this._fileFilter:!1},initializeOptions:function(n){var t,i,r,u;$.isEmpty(n.HID)?(t=ecount.control.getInitData(n.baseControlType||"widget.fileGroup",n.inIncludePage,n.ecPageID),t&&t.result&&t.result.Data&&t.result.Data.LinkOption&&t.result.Data.LinkOption.length&&(i=t.result.Data.LinkOption.slice(0))):(r=ecount.global.findViewBag(n.ecPageID),u=r.InitDatas&&r.InitDatas.DiyFileGroups||[],t=u.find(function(t){return t.config.HID==n.HID}),t&&t.result&&(i=t.result.slice(0),i.forEach(function(n){$.isEmpty(n.files)||n.files.forEach(function(t){ecmodule.common.slipLink.setSlipFilter(n,t)})})));this.initData=t;this.isSlip=n.isSlip;this.isPdfOptions=n.isPdfOptions||null;this.isMailCommon=n.isMailCommon||!1;$.isEmptyObject(t)||t.config&&(this.isFileGroupCommon=t.config.isFileGroupCommon||!1,this._useCloudDriver=t.config.UseCloudDriver,this.fromType=t.config.MENU_SEQ||0,this.PRG_ID=t.config.PRG_ID,this.PAGE_TYPE=t.config.PAGE_TPYE,this.HID=t.config.HID,this.FROM_TYPE=t.config.FROM_TYPE,this.SEQ_NO=t.config.SEQ_NO,this.EditFlag=t.config.EditFlag);i?this._groups=i:this.initGroups(n);$.extend(this,{_callback:n._callback,noRender:n.noRender,displayFnButton:n.displayFnButton,isToggleFn:n.isToggleFn,isNotUsed:n.isNotUsed,limitTotalCount:n.limitTotalCount,limitTotalCountCallback:n.limitTotalCountCallback,_storageSizeCheckPassFlag:n._storageSizeCheckPassFlag||!1,realFilesChekMode:n.limitTotalRealFilesSize||n.limitTotalRealFiles?!0:!1,limitTotalRealFilesSize:n.limitTotalRealFilesSize||null,limitTotalRealFiles:n.limitTotalRealFiles||null,limitTotalRealTarget:n.limitTotalRealTarget?_.isArray(n.limitTotalRealTarget)?n.limitTotalRealTarget:[n.limitTotalRealTarget]:[],myStorageFileEmptyCheck:n.myStorageFileEmptyCheck||!1,limitTotalRealFilesErrorCallback:n.limitTotalRealFilesErrorCallback})},render:function(){this.noRender?this.containerDelegator&&this.containerDelegator.triggerEvent("item.onload",{target:this.containerName,type:this.__type,__self:this}):widget.combine.prototype.render.apply(this,arguments)},show:function(){if(this.noRender)return!1;this._super.show.apply(this,arguments)},hide:function(){if(this.noRender)return!1;this._super.hide.apply(this,arguments)},initGroups:function(n){var u,t,f,i,r;for($.isNull(this._groups)&&(this._groups=[]),n._groupList=n._groupList||[],u=0;u<n._groupList.length;u++){if(t=$.extend({},n._groupList[u]),t.files=[],t.uploadFiles||(t.uploadFiles=[]),t.removeFiles||(t.removeFiles=[]),t.errorFiles||(t.errorFiles=[]),t.isShow=!0,n._fileList)for(i=0;i<n._fileList.length;i++)r=n._fileList[i],r[0]==t.id&&$.isArray(r[1])&&(t.files=r[1]);if(n._maxCountList)for(i=0;i<n._maxCountList.length;i++)r=n._maxCountList[i],r[0]==t.id&&$.isNumeric(r[1])&&(t.maxFileCount=r[1]);if($.isNull(t.maxFileCount)&&(t.maxFileCount=5),n._referenceConfigs)for(i=0;i<n._referenceConfigs.length;i++)r=n._referenceConfigs[i],r[0]==t.id&&(t.referenceType=r[1],t.getParamCallback=r[2]);if($.isNull(n._mystorageConfig)||n._mystorageConfig.groupId!=t.id||(t.usingMystorage=!0,t.gwPermission=n._mystorageConfig.gwPermission,t.isViewMode=n._mystorageConfig.isViewMode),n._uploaderConfigs)for(i=0;i<n._uploaderConfigs.length;i++)r=n._uploaderConfigs[i],r[0]==t.id&&(t.usingUploader=!0,t.uploaderConfig=$.extend({},r[1]));if(n._newFileStorageConfigs)for(i=0;i<n._newFileStorageConfigs.length;i++)r=n._newFileStorageConfigs[i],r[0]==t.id&&(t.usingNewFileStorage=!0,t.newFileStorageConfig=$.extend({},r[1]),this._isIntegrationOwnerKey===!0&&(t._isIntegrationOwnerKey=!0,delete this._isIntegrationOwnerKey));if(n._massStorageConfigs)for(i=0;i<n._massStorageConfigs.length;i++)r=n._massStorageConfigs[i],f||(f=_.merge({max_attach_file_size:ecount.common.parseSize("20mb"),big_file_size:0,big_file_start_date:new Date,big_file_end_date:(new Date).addDays(30)},r[1])),r[0]==t.id&&(t.usingMassStorage=!0,t.massStorageConfig=$.extend(f,r[1]));if(n._dataRules)for(i=0;i<n._dataRules.length;i++)r=n._dataRules[i],r.id==t.id&&(t.dataRules=r.dataRules,t.dataRulesMsg=r.dataRulesMsg);this._groups.push(t)}},setChildControl:function(n){var f=this._groups,t=0,e={},r="",i="",u=[],o=!1,c=n.isNoLayer,s=0,h=0;return!_.isArray(f)||f.length==0?[]:(f.forEach(function(n){(n.isShow==!0||n.isViewMode)&&(h+=1)}),h>1&&!c&&(o=!0),this.isNotUsed===!0?f.forEach(function(n,t){isShow=n.isShow==!1&&!n.isViewMode;u.push({controlType:"widget.link",id:this.id+t,name:n.name+t,generator:{label:n.name,hide:o?o:isShow,noneFlex:!0,setInlineIndex:s}});isShow||this._linkList.push({id:this.id+t})}.bind(this)):(h>1&&!c&&(u.push({controlType:"widget.link.fileGroup",id:this.id+"_link",name:this.name+"_link",generator:{label:ecount.resource.LBL02792,hide:!1,setInlineIndex:s,noneFlex:!0},setOptions:{layerOptionCallback:function(){var n=[];return this._linkList.forEach(function(t){var r=this.get(t.id),i,u;r&&(i=r.getState(0,"items")||[],u=!1,i.length>0&&(u=!0,i.forEach(function(n){$.isArray(n)&&n.forEach(function(n){n.items&&n.items.length>0?n.items.forEach(function(n){n.parentId=t.id}):n.parentId=t.id})})),n.push({id:t.id,ecRole:t.ecRole,ecRoleIndex:t.ecRoleIndex,label:r.getState(0,"label"),isChildDepth:u,childItems:i}))}.bind(this)),n}.bind(this)}}),t++),f.forEach(function(h,c){var a=this.initData&&this.initData.result&&this.initData.Data,l;a&&a.IS_FROM_POPUP?(h.files=$.isArray(h.files)?h.files.where(function(n){return n.fileState!="remove"}):[],h.uploadFiles=[],h.removeFiles=h.removeFiles.length>0?h.removeFiles:[],h.errorFiles=[]):(h.uploadFiles=[],h.removeFiles=[],h.errorFiles=[],h.files=$.isArray(h.files)?h.files:[]);l={setInlineIndex:s};c==f.length-1&&this.hasFn&&(l.hasFn=this.dropdownOptions,l.displayFnButton=this.displayFnButton,this.hasFnControlIndex=c);e={};isShow=h.isShow==!1&&!h.isViewMode;h.usingUploader==!0?(u.push({controlType:"widget.link.file",id:this.id+"_file",name:h.name+"_file",generator:_.merge({},l,{label:_.isNil(h.title)?h.name:h.title,noneFlex:!0,hide:o?o:isShow}),setOptions:{onAddFileSuccess:this.onAddFileSuccess.bind(this),onChangeStatus:this.onChangeStatus.bind(this),onComplete:this.onComplete.bind(this),onError:this.onError.bind(this),getCloudValue:this.getCloudValue.bind(this),_useCloudDriver:this._useCloudDriver,changeFileUploadStatus:this.changeFileUploadStatus.bind(this),setCloudSelectValue:this.setCloudSelectValue.bind(this),checkLimitTotalCount:this.checkLimitTotalCount.bind(this),removeFileByError:this.removeFileByError.bind(this),getParentAttachFilesInfo:h.usingMassStorage&&this.isMailCommon?this.getAttachFilesInfo.bind(this):"",realFilesChekMode:this.realFilesChekMode,limitTotalRealFilesSize:this.limitTotalRealFilesSize,limitTotalRealFiles:this.limitTotalRealFiles,checkLimitRealFile:this.checkLimitRealFile.bind(this),limitTotalRealFilesErrorCallback:this.limitTotalRealFilesErrorCallback,dndID:["dnd",this.ecPageID,this.tabID||"",this.id].join(""),group:$.extend(!0,{},h),HID:this.HID,EditFlag:this.EditFlag,insertErrorLog:$.isEmpty(n.insertErrorLog)?!0:n.insertErrorLog,_storageSizeCheckPassFlag:this._storageSizeCheckPassFlag,isPdfOptions:this.isPdfOptions}}),isShow||this._linkList.push({id:this.id+"_file"}),this._selectedCloudValue=h.uploaderConfig.selectedCloudValue,this.fileControlIndex=t++,h.usingMassStorage==!0&&(u.push({controlType:"widget.label",id:this.id+"_label",name:h.name+"_label",generator:_.merge({},l,{label:"",hide:!0})}),this.massLabelControlIndex=t++)):(h.usingMystorage==!0&&this._isEditable==!0?(r="widget.link",i="_mystorage",this.mystorageControlIndex=t++):h.referenceType=="SLIP"?(r="widget.link.boardRefSlip",i="_slip",_.merge(e,{callBack:this.getFileGroupCommon()===!0?this.getSlipParamCallback.bind(this):h.getParamCallback,_callbackID:this.callbackID,hasWrapper:!1,editable:this._isEditable,layerItems:this.layerItems?this.layerItems[h.id]:null}),this.slipControlIndex=t++):h.referenceType=="POST"?(r="widget.link.boardRefPost",i="_post",_.merge(e,{callBack:this.getFileGroupCommon()===!0?this.getPostParamCallback.bind(this):h.getParamCallback,_callbackID:this.callbackID,hasWrapper:!1,editable:this._isEditable,layerItems:this.layerItems?this.layerItems[h.id]:null}),this.postControlIndex=t++):h.id=="04"||h.id=="draft"?(r="widget.link",i="_draft",this.draftControlIndex=t++):h.id=="06"?(r="widget.link",i="_video",this.videoControlIndex=t++):h.id=="07"?(r="widget.link",i="_image",this.imageControlIndex=t++):h.id=="98"?(r="widget.link",i="_ecdrive",this.ecdriveControlIndex=t++):h.referenceType=="ONLINEMENUAL"?(r="widget.link",i="_onlineMenual",this.onlineMenualControlIndex=t++):h.referenceType=="VIDEOCLASS"?(r="widget.link",i="_videoClass",this.videoClassControlIndex=t++):h.referenceType=="VIDEOFAQ"?(r="widget.link",i="_videoFAQ",this.videoFAQControlIndex=t++):h.referenceType=="COMMONLINK"?(r="widget.link",i="_"+h.id,e={ecRole:"link.common"},t++):h.referenceType=="APPROVALSLIP"?(r="widget.link.approvalRefSlip",i="_slip",e={callBack:h.getParamCallback,_callbackID:this.callbackID,hasWrapper:!1,editable:this._isEditable},this.getIsToogleFn()&&(l=_.merge({fnDynamicView:!1},l)),this.slipControlIndex=t++):h.referenceType=="APPROVALOUTPUT"&&(r="widget.link.approvalOutput",i="_output",e={callBack:h.getParamCallback,_callbackID:this.callbackID,hasWrapper:!1,editable:this._isEditable},this.getIsToogleFn()&&(l=_.merge({fnDynamicView:!1},l)),this.slipControlIndex=t++),u.push({controlType:r,id:this.id+i,name:h.id+i,setOptions:_.merge({ecRole:"file.subjectClick",ecRoleIndex:c},e),generator:_.merge({},l,{noneFlex:!0,label:_.isNil(h.title)?h.name:h.title,hide:o?o:isShow})}),isShow||this._linkList.push({id:this.id+i,ecRole:"file.subjectClick",ecRoleIndex:c}))}.bind(this)),this._useCloudDriver&&(u.push({controlType:"widget.select.cloud",id:this.id+"_select",name:this.name+"_select",setOptions:{baseControlType:this.cloudBaseControlType,_selectedValue:this._selectedCloudValue},generator:{setAddonTitle:ecount.resource.LBL13255,smallSize:!0,inline:!0,setInlineIndex:f.length>1?s:++s,setChangeStateFuncName:"_onAfterChangeSelectedValue"}}),this.selectControlIndex=t++),u.push({controlType:"widget.fileGroupList",id:this.id+"list",name:this.name+"list",generator:{setInlineIndex:++s},setOptions:{isFileGroupCommon:this.isFileGroupCommon,_isEditable:this._isEditable,_groups:Object.clone(this._groups,!0),realFilesChekMode:this.realFilesChekMode}}),this.fileListControlIndex=t),u)},_onAfterChangeSelectedValue:function(){var t=this.getFileControl(),n;if(t&&(n=t.getQueuedFile()),n)this.get(this.fileControlIndex).onAddFile(null,null,n,!0,!0)},onInitChildControl:function(n,t){var r=this.setChildControl(t);if(r.length){var u=widget.generator,f=u.control(),i={};r.forEach(function(t){var u,e,r;if(i=f.define(t.controlType,t.id,t.name).setOptions(t.setOptions),t.generator){u=t.generator;for(r in u)(e=u[r],r!="hide"||e==!0)&&i[r](e)}n.addControl(i)})}},onAfterRender:function(){if(this.isNotUsed!==!0){var n=!1,t=[];this._useCloudDriver&&this.get(this.selectControlIndex)&&this.get(this.selectControlIndex).hide();this._groups.forEach(function(i){if(i.files.length){if(n=!0,t=i.files||[],i.files=[],i.usingUploader==!0&&this.EditFlag=="M"){var r=this.get(this.selectControlIndex);r&&r.setReadOnly(!0)}this.addFiles(i,t,null,!0)}}.bind(this));this.fileListControlIndex&&n==!1&&this.get(this.fileListControlIndex)&&this.get(this.fileListControlIndex).hide()}},getFileControl:function(){return this.get(this.fileControlIndex)},getFileListControl:function(){return this.get(this.fileListControlIndex)},getSelectControl:function(){return this.get(this.selectControlIndex)},getSlipParamCallback:function(n){var t=n;return t.PRG_ID=this.PRG_ID,ecount.global.executeFuncWithScope(this.ecPageID,function(){var n=ecmodule.common.slipLink.onLayerRefSlips_temp.call(this,t),i=ecount.resource.LBL04686;return this.pageOption.popUpIspreOpenParam={refBoardName:i,refBoardType:"SLIP",refUrl:n.url,popupParam:n},n})},getPostParamCallback:function(n){var t=n;return t.PRG_ID=this.PRG_ID,ecount.global.executeFuncWithScope(this.ecPageID,function(){var n=ecmodule.common.slipLink.onLayerRefPost_temp.call(this,t),i=this.BOARD_NM;return this.pageOption.popUpIspreOpenParam={refBoardName:i,refBoardType:"POST",refUrl:n.url,popupParam:n},n})},getFileBlobList:function(){var n=this.getFileControl();if(n)return n.getBlobList()},getFileBlobListInfo:function(){return this.getFileControl().getBlobListInfo()},getFileRemoveFiles:function(){return this.getFileControl().getRemoveFiles()},getFileUploadFiles:function(n){return this.getFileControl().getUploadFiles(n)},getFileBlobMaxSize:function(){return this.getFileControl().getBlobMaxSize()},getFileBlobTotalSize:function(n){return this.getFileControl().getBlobTotalSize(n)},getFileBlobMaxPageCount:function(){return this.getFileControl().getBlobMaxPageCount()},getFileBlobTotalPageCount:function(n){return this.getFileControl().getBlobTotalPageCount(n)},clearFileBlobList:function(n){var t=this.getFileControl();t&&t.clearBlobList(n)},setMassStorage:function(n){var f=n.uploaderConfig,t=n.massStorageConfig,i=f.attach_file_size,r=t.big_file_size,u=this.getECDriveGroup(),e='<span id="normal-label" class="{{normalLabel}}"><span class="inline-divider"><\/span><span class="text-muted">{{lbl01}} <span id="attach_file_size">{{attachFileSize}}<\/span> / <span id="attach_file_max_size">{{attachFileMaxSize}}<\/span><\/span><\/span><span id="massive-label" class="{{massiveLabel}}"><span class="inline-divider"><\/span><span class="text-muted">{{lbl02}} <span id="big_file_size">{{bigFileSize}}<\/span> ({{lbl03}}: <span class="text-danger"><span id="big_file_start_date">{{bigFileStartDate}}<\/span> ~ <span id="big_file_end_date">{{bigFileEndDate}}<\/span><\/span>)<\/span><\/span>';return u&&u.usingMassStorage&&u.files.forEach(function(n){n.uptype>1?r+=+n.size:i+=+n.size}.bind(this)),ecount.widget.replaceAttr(e,{normalLabel:i>0?"":"hidden",massiveLabel:r>0?"":"hidden",lbl01:ecount.resource.LBL70748,lbl02:ecount.resource.LBL70628,lbl03:ecount.resource.LBL70629,attachFileSize:Number.formatSize(i).toUpperCase()||"0KB",attachFileMaxSize:Number.formatSize(t.max_attach_file_size).toUpperCase()||"20MB",bigFileSize:Number.formatSize(r).toUpperCase()||"0KB",bigFileStartDate:t.big_file_start_date||ecount.infra.getECDateFormat("DATE16",!1,new Date),bigFileEndDate:t.big_file_end_date||ecount.infra.getECDateFormat("DATE16",!1,(new Date).addDays(30))})},onChangeStatus:function(n,t,i,r){var u="",e=this.get(this.fileListControlIndex),f=r?this.getGroup(r):this.getFileGroup();typeof n=="object"?u=n.id:(u=n,n=this.getFile(f,u));$.isEmpty(r)&&(r=f.id);switch(t.toUpperCase()){case"PROGRESS":e.onChangeStatusProgress(f,u,Number.formatSize(n.size*i));break;case"LOAD":e.onChangeStatusLoad(f,u)}e.onChangeStatus(u,t,r)},onAddFileSuccess:function(n,t,i){var r=this.get(this.selectControlIndex);this.get(this.fileListControlIndex).addItems(n,t);this._onAfterAddItems(i,n);this._useCloudDriver&&r&&r.getOptionCount()>1&&r.show();t.usingMassStorage==!0&&this._toggleMassStorage()},onComplete:function(n){this._callback&&this._callback(n);this._tempCallback&&this._tempCallback(n)},onError:function(){this.readOnly(!1)},removeUploadFileAll:function(n){this.get(this.fileControlIndex).removeUploadFileAll();n||this.executeChangeDelegator({syncHandler:this.removeUploadFileAll,cid:this.id,args:[!0]})},switchtype:function(n){var u=n.ecFunction,f=n.ecFunctionId,i=this.getGroup(u),t=this.getFile(i,f),e=this.getAttachFilesInfo(),o=_.get(e,"totalFileSize",0),s=_.get(i,"massStorageConfig.max_attach_file_size"),r;if(_.isEmpty(t))return!1;if(i.usingMassStorage&&t.uptype>1&&o+t.size>=s)return ecount.alert(ecount.resource.MSG04499.replace("<br>","")),!1;if(i.usingUploader){if(r=this.get(this.fileControlIndex).changeConfigSize(t),$.isNull(r))return ecount.alert(ecount.resource.MSG04499.replace("<br>","")),!1}else t.uptype=t.uptype>1?1:2,r=t.uptype>1?i.name+"("+ecount.resource.LBL70632+")":i.name;r&&this.get(this.fileListControlIndex).fileSwitchType(f,u,r);this._toggleMassStorage()},_toggleMassStorage:function(){var n=this.get(this.massLabelControlIndex),t=this.get(this.fileControlIndex);if(!n||!t)return!1;n.show();n.setLabel(this.setMassStorage(t._getGroup()))},_toggleContainer:function(){this._totalFileCount>0?this.get(this.fileListControlIndex).show():this.get(this.fileListControlIndex).hide();this.adjustContentsDimensions()},getCloudValue:function(){var n=this.get(this.selectControlIndex);if(n)return n.getValue()},isFileGroupID:function(n){return this._groups.some(function(t){return t.usingUploader==!0&&t.id==n})},getFileInfo:function(n){if(!this.isFileGroupID(n))return!1;var t={};if(t=this.get(this.fileControlIndex))return t.getFileInfo()},getOwnerKey:function(n){return this.isFileGroupID(n)?this.get(this.fileControlIndex).getOwnerKey():!1},setOwnerKey:function(n,t,i){if(!this.isFileGroupID(n))return!1;this.get(this.fileControlIndex).setOwnerKey(t);i||this.executeChangeDelegator({syncHandler:this.setOwnerKey,cid:this.id,args:[n,t,!0]})},setCloudSelectValue:function(n){var t=this.getSelectControl();t&&(n=n||t.getOldValue(),$.isEmpty(n)||t.setValue(n))},getTotalSize:function(n){return this.isFileGroupID(n)?$.isNull(this.fileControlIndex)?0:this.get(this.fileControlIndex).getTotalSize():!1},getQueuedFileInfo:function(n,t){return!n||!t?!1:this.isFileGroupID(n)?this.get(this.fileControlIndex).getQueuedFileInfo(t):!1},setMultipartParams:function(n,t,i){if(!n||!t||!this.isFileGroupID(n))return!1;this.get(this.fileControlIndex).setMultipartParams(t);i||this.executeChangeDelegator({syncHandler:this.setMultipartParams,cid:this.id,args:[n,t,!0]})},setFileUploadUrl:function(n,t,i){if(!n||!t||!this.isFileGroupID(n))return!1;this.get(this.fileControlIndex).setFileUploadUrl(t);i||this.executeChangeDelegator({syncHandler:this.setFileUploadUrl,cid:this.id,args:[n,t,!0]})},startUpload:function(n,t,i){$.isFunction(n)&&(this._tempCallback=n);$.isFunction(t)&&(this._errorCallback=t);$.isFunction(i)&&(this._fileSizeErrorCallBack=i);var r=this.get(this.fileControlIndex);r&&(this.readOnly(!0),r.startUpload(n,t,i))},changeFileUploadStatus:function(n,t,i,r){if(!n||!t||!i)return!1;var u=this._getGroup(n);u&&u.usingUploader==!0&&this.get(this.fileListControlIndex).changeFileUploadStatus(n,t,i);r||this.executeChangeDelegator({syncHandler:this.changeFileUploadStatus,cid:this.id,args:[n,t,i,!0]})},getFileGroupCommon:function(){return this.isFileGroupCommon===!0||this.isMailCommon===!0},getGroup:function(n){return typeof n=="number"?this._groups[n]:this._groups.find(function(t){return t.id==n})},_getGroup:function(n,t){if(n){var i=this._groups.first(function(t){return t.id==n});return $.isNull(i)||i.usingUploader!=!0?this._groups.first(function(t){return t.id==n}):t?i:$.extend(!0,i,!_.isNil(this.get(this.fileControlIndex))&&this.get(this.fileControlIndex).getSettingConifg()||{})}},getFileGroup:function(){return this._groups.find(function(n){return n.usingUploader===!0})},getECDriveGroup:function(){return this._groups.find(function(n){return n.id==="98"})},parseFunctionCommand:function(n){return n=$.isArray(n)?n:[n],"on"+n.select(function(n){return n.capitalize()}).join("")},checkLimitTotalCount:function(n,t){if(!$.isEmpty(this.limitTotalCount)){var i=n.length+this.getFileCount()>this.limitTotalCount;if(i===!0)return t&&t(),this.limitTotalCountCallback&&this.limitTotalCountCallback(),!1}return!0},removeFileByError:function(n,t){this.get(this.fileListControlIndex).removeItems(n,t);t.usingMassStorage==!0&&this._toggleMassStorage();this._useCloudDriver&&(this.get(this.fileControlIndex).getAddedFileCount()==0&&this.get(this.selectControlIndex).hide(),this.EditFlag=="M"&&this.get(this.selectControlIndex).isReadOnly()==!0&&this.get(this.selectControlIndex).setReadOnly(!1))},checkLimitRealFile:function(n,t){var r=0,u=0,i=this.getRealFilesInfo(),e=this.getFileControl(),o=e.getSettingConifg(),s=_.get(o,"massStorageConfig.max_attach_file_size"),f;if(this.limitTotalRealFilesSize!==null||this.limitTotalRealFiles!==null){for(f=0;f<n.length;f++)r++,u+=n[f].size;if(this.limitTotalRealFiles!==null&&this.limitTotalRealFiles<r+i.totalFileCount)return t&&t(),{widgetType:"01",name:"4002",message:"file number error",limitTotalRealFiles:this.limitTotalRealFiles,limitTotalRealFilesSize:this.limitTotalRealFilesSize,totalFilesNum:r,totalSize:u,realFilesInfo:i};if(this.limitTotalRealFilesSize!==null&&this.limitTotalRealFilesSize<u+i.totalFileSize)return t&&t(),{widgetType:"01",name:"4003",message:"file size error",limitTotalRealFiles:this.limitTotalRealFiles,limitTotalRealFilesSize:this.limitTotalRealFilesSize,totalFilesNum:r,totalSize:u,realFilesInfo:i}}return{widgetType:"01",name:"4000",message:"done",limitTotalRealFiles:this.limitTotalRealFiles,limitTotalRealFilesSize:this.limitTotalRealFilesSize,realFilesInfo:i}},addFiles:function(n,t,i,r){var n=typeof n=="object"?n:this.getGroup(n),u;if(!$.isNull(n)&&!$.isEmpty(t)){if(this.checkLimitTotalCount(t)==!1){this.limitTotalCount&&(u=String.format(ecount.resource.MSG03839,this.limitTotalCount),ecount.alert(u));return}if(n.usingUploader==!0)this.get(this.fileControlIndex).onAddFile(null,null,t,r);else this._addSimpleFiles(n,t,i);r||this.executeChangeDelegator({syncHandler:this.addFiles,cid:this.id,args:[n.id,t,i,!0]})}},_addSimpleFiles:function(n,t,i){var u,r,f,e,o;for($.isArray(t)||(t=[t]),i==!0&&(n.files=[],this.getFileListControl().removeGroupItems(n)),n.usingMystorage==!0&&(n.hidReturnXml=n.files.select(function(n){return n.id}).join("|")),u=0,f=t.length;u<f;u++){if(r=this._addSimpleFilesFilter&&this._addSimpleFilesFilter(n,t[u])||t[u],r.status!=plupload.DONE&&(e=n.files.findIndex(function(n){return n.id==r.id}),e>-1)){n.files[e]=Object.clone(r,!0);this.getFileListControl().updateItems(r,n);continue}if(n.files.length==n.maxFileCount){o=String.format(ecount.resource.MSG03839,n.maxFileCount);ecount.alert(o);break}n.files.push(r);this.getFileListControl().addItems(r,n);this._onAfterAddItems(u==f-1,r)}},_onAfterAddItems:function(n,t){if(this._totalFileCount++,this._toggleContainer(),n===!0){var i=t.id||t.file_id;this.get(this.fileListControlIndex)._scrollIntoFile(i);this.getIsToogleFn()&&this.getFileCount()>0&&this.get(this.hasFnControlIndex).displayFnDynamicView(!0)}},onMessage:function(n,t){var v,u,a;if(n.is_from_v5&&($.isArray(n.data)||(n.data=[n.data]),t.Data=n.data.map(function(n){return{BOARD_CD:n.board_cd,BOARD_NM:n.menu_title,BOARD_SEQ:n.board_seq,BOARD_NUM:n.board_num,HID:n.hid,TITLE:n.title_ctt}}),t.type="05",t.callback&&t.callback()),t)if(this.getFileGroupCommon()===!0){var i=[],f=ecmodule.common.slipLink,h=!0,r=!0,e,o,s,c;if(f){if(t.FROM_HID=this.HID,t.EditFlag=this.EditFlag,t.type=="02"){if(this.myStorageFileEmptyCheck||this.limitTotalRealFilesSize!==null||this.limitTotalRealFiles!==null){for(e=0,o=0,c=[],u=0;u<t.data.length;u++)e+=t.data[u].attachInfoList.length,o+=t.data[u].size,c.push(t.data[u].id);s=this.getRealFilesInfo("02",c);this.myStorageFileEmptyCheck&&(h=!!e);this.limitTotalRealFiles!==null&&this.limitTotalRealFiles<e+s.totalFileCount&&(r=!1);this.limitTotalRealFilesSize!==null&&r&&this.limitTotalRealFilesSize<o+s.totalFileSize&&(r=!1)}h&&r?i=f.setRefMystorage_noDB(t):(a={widgetType:"02",name:h?r?"4000":"4001":"4004",message:h?r?"done":"file number or size error":"file empty error",limitTotalRealFiles:this.limitTotalRealFiles,limitTotalRealFilesSize:this.limitTotalRealFilesSize,totalFilesNum:e,totalSize:o,realFilesInfo:s},this.limitTotalRealFilesErrorCallback&&this.limitTotalRealFilesErrorCallback(a));f.saveCmcoAttachHistory({FROM_PRG_ID:this.PRG_ID,TO_PRG_ID:"",ATTACH_TYPE:"02"})}else if(t.type=="03")t.isChangeDate?this._groups.find(function(n){return n.id===t.type}).files.find(function(n){return n.HID===t.OLD_HID}).HID=t.NEW_HID:(v=this._groups.find(function(n){return n.id===t.type}).slipRefInfo||{},i=f.setRefSlip_noDB(t,v));else if(t.type=="05")i=f.setRefPost_noDB(t);else if(t.type=="04")i=f.setRefDraft_noDB(t),f.saveCmcoAttachHistory({FROM_PRG_ID:this.PRG_ID,TO_PRG_ID:"E070103",ATTACH_TYPE:"04"});else if(t.type=="07"){if(this.limitTotalRealFilesSize!==null||this.limitTotalRealFiles!==null){for(e=0,o=0,c=[],u=0;u<t.data.length;u++)e++,o+=t.data[u].size,c.push(t.data[u].SEQ);s=this.getRealFilesInfo("07",c);this.limitTotalRealFiles!==null&&this.limitTotalRealFiles<e+s.totalFileCount&&(r=!1);this.limitTotalRealFilesSize!==null&&r&&this.limitTotalRealFilesSize<o+s.totalFileSize&&(r=!1)}r?i=f.setRefImageStorage_noDB(t):(a={widgetType:"07",name:h?r?"4000":"4001":"4004",message:h?r?"done":"file number or size error":"file empty error",limitTotalRealFiles:this.limitTotalRealFiles,limitTotalRealFilesSize:this.limitTotalRealFilesSize,totalFilesNum:e,totalSize:o,realFilesInfo:s},this.limitTotalRealFilesErrorCallback&&this.limitTotalRealFilesErrorCallback(a));($.isEmpty(this.gridColumnID)||this.gridColumnID.indexOf("survey_option"))&&f.saveCmcoAttachHistory({FROM_PRG_ID:this.PRG_ID,TO_PRG_ID:"",ATTACH_TYPE:"07"})}i&&i.length>0&&($.each(i,function(n,t){t.isNew=!0}),this.addFiles(t.type,i));t.callback&&t.callback()}}else if(["02","08","onlineMenual","09","videoClass","10","videoFAQ"].contains(t.type)){var y=t.data,p=!1,l="",i=[];t.type=="02"?($.each(y,function(n,t){i.push({id:t.id,name:t.title,type:"1"})}),p=!0,l="mystorage"):t.type=="08"?l="onlineMenual":t.type=="09"?l="videoClass":t.type=="10"&&(l="videoFAQ");i.length||(i=Object.clone(y,!0));this.addFiles(l,i,p);t.callback&&t.callback()}},_ON_BEFORE_CLICK:function(n){return["file.removeitem"].contains(n.ecRole)&&this.get(this.fileListControlIndex).isReadOnly()?!1:!0},ON_CLICK:function(n,t,i,r){var e;if(this.isNotUsed===!0)return ecount.alert(ecount.resource.MSG09516),!1;e=n.ecRole;switch(e){case"file.subjectClick":this.subjectClick(n,t,i,r);break;case"file.removeitem":if(this.isSlip){var s=n.ecFunction,h=n.ecFunctionId,o={},u={},f=this.getTargetArray(u,s,h);f&&f.length&&(o=f[0],u=f[1]);u.usingUploader!=!0&&this.getFileGroupCommon()!=!0&&u.referenceType!="ONLINEMENUAL"&&u.referenceType!="VIDEOCLASS"&&u.referenceType!="VIDEOFAQ"&&(this.setStoreInfo(r,u,o),r.handler={},r.handler.complete=this.userRemoveItem.bind(this,n,t,i,r))}else this.removeItem(n,t,i,r),this.isPdfOptions&&this.isPdfOptions.isPdfMode&&this.clearFileBlobList(n.ecFunctionId);break;case"file.addedFiles":this.downloadItem(n,t,i,r);break;case"file.switchtype":this.switchtype(n,t,i,r);break;case"link.common":r.command=this.parseFunctionCommand([this.containerName,n.cid])}},ON_CLICK_SERVICE:function(n,t,i,r){var i=this.get(r.originId),f,u;i&&(f=this.get(r.originId).getState(0,"ecRole"),f=="file.subjectClick"?(r.ecRoleIndex=this.get(r.originId).getState(0,"ecRoleIndex"),this.subjectClick(n,t,i,r)):f=="link.common"&&(r.command=this.parseFunctionCommand([this.containerName,n.ecFunctionId])),i.controlType=="widget.link.file"&&i.openExplorer());switch(n.ecRole){case"layer.contents":if(u=r.dataset&&r.dataset.parentid,u)return this.get(u).onContentsLinkClickHandler(n,t,i,r);case"layer.footer":if(u=r.dataset&&r.dataset.parentid,u)return this.get(u).onFooterLinkClickHandler(n,t,i,r);default:return}},userRemoveItem:function(n,t,i,r){this.removeItem(n,t,i,r);r.handler.complete()},subjectClick:function(n,t,i,r){var c=n.ecRoleIndex===undefined?r.ecRoleIndex:n.ecRoleIndex,u=this._groups[c],e=u.id,o,s,f,h;if(!u)return!1;if(e=="06")return u&&u.files.length>0?(ecount.alert(ecount.resource.MSG05825),!1):(o={BOARD_CD:this.BOARD_CD,BOARD_SEQ:this.BOARD_SEQ,IsGroupWareFree:this.IsGroupWareFree},s=Math.round(screen.availHeight*.8),ecount.common.gmcSessionApi({ecPageID:this.ecPageID,sessionURL:"/Groupware/IntegratedBoard/GetIdKeyForVideo",callbackApi:function(n){ecount.common.api({ecPageID:this.ecPageID,url:n,data:Object.toJSON(o),success:function(n){if(n.Status!="200")runSuccessFunc=n.Status=="202",ecount.alert(n.Error);else if(n.Data!=null&&n.Data!=undefined){this.EKey=n.Data;var t={width:645,height:s,EKey:n.Data,Language:ecount.user.LAN_TYPE,Host:window.requestUrl.host};this.openPopup({url:"/ECERP/SVC/Popup/EcRecorderService",name:"winRecoding",param:t,popupType:!0,fpopupID:this.ecPageID})}}.bind(this)})}.bind(this)}),!1);if(this.getFileGroupCommon()===!0){if(e==ecount.attachment.ecdrive){var l=ecount.global.findPageInstance(this.ecPageID),a={isSizeCheck:u.isSizeCheck},v=function(n,t){var l=!0,e,u;if(n){if(t.selectedItems.length>0){var f=[],i={},r=this.getECDriveGroup(),a=!1,c=-1,v=null,p=this.getAttachFilesInfo(),w=_.get(p,"totalFileSize",0),y=_.get(r,"massStorageConfig.max_attach_file_size");for(u=0;u<t.selectedItems.length;u++)i=t.selectedItems[u],a=r.files.some(function(n){return n.OID===i.oid}),c=r.removeFiles.findIndex(function(n){return n.OID===i.oid}),~c?(v=r.removeFiles.splice(c,1),f=f.concat(v)):a===!1&&(e={id:i.oid,name:i.name,size:+i.fsize,SIZE:i.fsize,NAME:i.name,OID:i.oid,OTYPE:i.otype,PARENT:i.parent,PATH:i.path,HID:_.isNil(i.hid)?"":i.hid,PROVIDER_SEQ:_.isNil(i.PROVIDER_SEQ)?"":i.PROVIDER_SEQ,ISEXISTS:_.isNil(i.ISEXISTS)?"":i.ISEXISTS,refType:ecount.attachment.ecdrive,isNew:!0},r.usingMassStorage&&(e.uptype=e.size>=y?3:e.size+w>=y?2:1),f.push(e));if(this.realFilesChekMode&&!!~_.indexOf(this.limitTotalRealTarget,r.id)){var o=0,s=0,h=this.getRealFilesInfo();for(u=0;u<f.length;u++)o++,s+=+f[u].SIZE;if(this.limitTotalRealFiles!==null&&this.limitTotalRealFiles<o+h.totalFileCount)return this.limitTotalRealFilesErrorCallback&&this.limitTotalRealFilesErrorCallback({widgetType:r.id,name:"4002",message:"file number error",limitTotalRealFiles:this.limitTotalRealFiles,limitTotalRealFilesSize:this.limitTotalRealFilesSize,totalFilesNum:o,totalSize:s,realFilesInfo:h}),!1;if(this.limitTotalRealFilesSize!==null&&this.limitTotalRealFilesSize<s+h.totalFileSize)return this.limitTotalRealFilesErrorCallback&&this.limitTotalRealFilesErrorCallback({widgetType:r.id,name:"4003",message:"file size error",limitTotalRealFiles:this.limitTotalRealFiles,limitTotalRealFilesSize:this.limitTotalRealFilesSize,totalFilesNum:o,totalSize:s,realFilesInfo:h}),!1}f.length>0&&(this.addFiles(ecount.attachment.ecdrive,f),this.isMailCommon&&this._toggleMassStorage(),ecmodule.common.slipLink&&ecmodule.common.slipLink.saveCmcoAttachHistory({FROM_PRG_ID:this.PRG_ID,TO_PRG_ID:"",ATTACH_TYPE:"98"}))}else l=!1,ecount.alert(ecount.resource.MSG01889);return l}}.bind(this);return ecmodule.common.ecdrive.openFileSelectPopup(l,v,a),!1}f=ecount.global.executeFuncWithScope(this.ecPageID,function(){var t=e.toUpperCase(),n=ecmodule.common.slipLink.setItemClickParameterSetting(e,u,this.ecPageID);return this.pageOption.popUpIspreOpenParam={refBoardName:"",refBoardType:t,refUrl:n.url,popupParam:n,popupOpen:function(){_self._openPopup(n)}.bind(this)},n});f&&(f.programId?ecount.link.getConfigUrlData(this.ecPageID,f.programId,ecount.global.findViewBag(this.ecPageID).IsEnableNoL4,"link",function(n){f.url=n.url;this.openPopup(f)}.bind(this)):this.openPopup(f))}else if(u.usingMystorage===!0)h=ecount.infra.getGroupwarePermissionByAlert(u.gwPermission).Excute(),h&&this.openPopup({url:"/ECERP/SVC/ENT/ENT004M",name:ecount.resource.LBL05860,param:{width:800,height:600,listId:u.files.select(function(n){return n.id.split("/")[0]}),UID:this.UID},popupType:!1,additional:!0,parentPageID:this.ecPageID});else if(u.referenceType=="ONLINEMENUAL")this.openPopup({url:"/ECERP/SVC/ECU/ECU101P_05",name:ecount.resource.LBL18633,param:{width:ecount.infra.getPageWidthFromConfig(),height:600,CONTENTS_CLASS:"M"},popupType:!1,parentPageID:this.ecPageID});else if(u.referenceType=="VIDEOCLASS")this.openPopup({url:"/ECERP/SVC/ECU/ECU101P_05",name:ecount.resource.LBL18634,param:{width:ecount.infra.getPageWidthFromConfig(),height:600,CONTENTS_CLASS:"V"},popupType:!1,parentPageID:this.ecPageID});else if(u.referenceType=="VIDEOFAQ")this.openPopup({url:"/ECERP/ECU/ECU107M",name:ecount.resource.LBL21056,param:{width:ecount.infra.getPageWidthFromConfig(),height:"780",currentIndex:1,keyword:"",searchType:8,language:ecount.user.LAN_TYPE,pageCurrent:1,IsFromLogin:!1,IsFromWidget:!0},popupType:!1,parentPageID:this.ecPageID});else{if(this._isEditable===!1)return!1;r.command=this.parseFunctionCommand([this.id.toLowerCase(),"group",u.id])}},_getValueForDelegate:function(){},getSyncData:function(){},executeChangeDelegator:function(n){$.isEmpty(n)&&(n={});ecount.control.prototype.executeChangeDelegator.call(this,n)},removeItem:function(n,t,i,r,u){var c,l;if(this._isEditable==!1)return!1;var s=this.complete.bind(this,n,t,i,r,u),a=n.ecFunction,o=n.ecFunctionId,e={},h=this.getTargetArray(f,a,o);if(h&&h.length){var e=h[0],f=h[1],v=function(n,t){t.usingMassStorage==!0&&this._toggleMassStorage();t.tempRemoveFiles?t.tempRemoveFiles.push(n):(t.tempRemoveFiles=[],t.tempRemoveFiles.push(n));this._useCloudDriver&&(this.get(this.fileControlIndex).getAddedFileCount()==0&&this.get(this.selectControlIndex).hide(),this.EditFlag=="M"&&this.get(this.selectControlIndex).isReadOnly()==!0&&this.get(this.selectControlIndex).setReadOnly(!1))}.bind(this);if(f.usingUploader==!0)this.get(this.fileControlIndex).removeItem(f,e),v(e,f),this.complete(n,t,i,r,u);else if(this.getFileGroupCommon()===!0)e.status==plupload.DONE&&f.removeFiles.push(e),this.innerComplete(f,o,s),f.id==ecount.attachment.ecdrive&&this.isMailCommon&&this._toggleMassStorage();else if(f.usingMystorage==!0){for(c=[],f.files=f.files.filter(function(n){return n.id!=e.id}),l=0;l<f.files.length;l++)c.push(f.files[l].id),c.push("|");f.hidReturnXml=c.join("");f.isViewMode===!0&&(r.command=this.parseFunctionCommand([this.id.toLowerCase(),f.id,"delete"]));this.innerComplete(f,o,s)}else f.referenceType=="ONLINEMENUAL"||f.referenceType=="VIDEOCLASS"||f.referenceType=="VIDEOFAQ"?this.innerComplete(f,o,s):(this.setStoreInfo(r,f,e),r.handler={complete:this.innerComplete.bind(this,f,o,s)});this.get(this.fileListControlIndex).removeItems(e)}},complete:function(n,t,i,r,u){this._totalFileCount--;this._toggleContainer();this.getIsToogleFn()&&this.getFileCount()<=0&&this.get(this.hasFnControlIndex).displayFnDynamicView(!1);u||this.executeChangeDelegator({syncHandler:this.removeItem,cid:this.id,args:[n,t,i,r,!0]})},innerComplete:function(n,t,i){n.files=n.files.filter(function(n){return n.id!=t});i()},setStoreInfo:function(n,t,i){n.command=this.parseFunctionCommand([this.id.toLowerCase(),t.id,"delete"]);n.file=i;n.cid=this.id},getTargetArray:function(n,t,i){var r=[];return this._groups.first(function(n){n.id==t&&(file=this.getFile(n,i))&&r.push(file,n)}.bind(this)),r},downloadItem:function(n,t,i,r){var o,e,s,h;if(this._isEditable==!1)return!1;var c=n.ecFunction,l=n.ecFunctionId,f=this.getGroup(c),u=this.getFile(f,l);if(this.getFileGroupCommon()===!0)return ecmodule.common.slipLink.setItemClickEvent.call(this,f,u),!1;f.usingUploader==!0?(o=f.uploaderConfig,e=f.newFileStorageConfig,(u.provider_seq||"").toString()==ecount.cloudStorage.INNER?f.usingNewFileStorage==!0?(s=[e.temp_file_lifetime,e.comcode,u.name,u.name,e.owner_key],ecmodule.common.fileStorage.downloadFile(s,e.storage_host_number,null,null,this.ecPageID,o.byPassCheckFileAllowed,null,this.PRG_ID)):(h={fileMenuCode:o.menu_code,idKey:u.fileIdentity,serNo:u.fileSerNo,isGroupWareFree:o.is_free_groupware,ecPageID:this.ecPageID},ecount.document.downloadFile(h)):ecount.cloudStorage.down.download({provider_seq:u.provider_seq,account:u.account,id:u.file_id})):f.usingMystorage==!0?this.openPopup({url:"/ECERP/SVC/ENT/ENT006M",name:ecount.resource.LBL05860,param:{width:800,height:600,IDX:u.id.split("/")[0],isViewOnly:!0},popupType:!1,additional:!0,parentPageID:this.ecPageID}):f.referenceType=="ONLINEMENUAL"?this.openPopup({url:"/ECERP/SVC/EAM/EAM012M",name:"Preview",param:{width:880,height:700,parentPageID:this.pageID,responseID:this.callbackID,MPPG_SNO:0,BLTN_SNO:u.id,CONTENT:"",LANG_TYPE:ecount.user.LAN_TYPE,OPEN_TARGET:"ONLINE"},popupType:!1,additional:!1,alreadyIncludedLayout:!0}):f.referenceType=="VIDEOCLASS"?this.openPopup({url:"/ECERP/SVC/EAM/EAM012M",name:"Preview",param:{width:880,height:700,parentPageID:this.pageID,responseID:this.callbackID,MPPG_SNO:0,BLTN_SNO:u.id,CONTENT:"",LANG_TYPE:ecount.user.LAN_TYPE,OPEN_TARGET:"ONLINE"},popupType:!1,additional:!1,alreadyIncludedLayout:!0}):f.referenceType=="VIDEOFAQ"?this.openPopup({url:"/ECERP/SVC/EAM/EAM012M",name:ecount.resource.LBL21056,param:{width:ecount.infra.getPageWidthFromConfig(),height:700,MPPG_SNO:0,BLTN_SNO:u.id,CONTENT:"",LANG_TYPE:ecount.user.LAN_TYPE,OPEN_TARGET:"ONLINE",IsFromLogin:!1,IsEcManual:!1,isMovie:!0},popupType:!1,parentPageID:this.ecPageID}):(r.command=this.parseFunctionCommand([this.id.toLowerCase(),f.id,"click"]),r.file=u)},getFile:function(n,t){return n.usingUploader==!0?this.get(this.fileControlIndex).getFile(t):n.files.find(function(n){return n.id==t})},getValue:function(n){var i=$.isEmpty(n),t;return i&&this.getFileGroupCommon()===!0?{uploadFilesList:Object.clone(this.getUploadFiles(),!0),removeFilesList:Object.clone(this.getRemoveFiles(),!0)}:i&&_.get(this,"isPdfOptions.isPdfMode")?{doneUploadFiles:this.getFileUploadFiles(plupload.DONE),removeFiles:this.getFileRemoveFiles(),blobList:this.getFileBlobList()}:i?[]:($.isArray(n)||(n=[n]),t=[],n.forEach(function(n){this.isFileGroupID(n)==!0?t.push($.extend({},this._getGroup(n),_.isNil(this.get(this.fileControlIndex))?{}:this.get(this.fileControlIndex)._getGroup())):t.push($.extend(!0,{},this._getGroup(n)))}.bind(this)),t)},getFileCount:function(n){return $.isString(n)?this._getGroup(n).files.length:this._totalFileCount},getRealFilesInfo:function(n,t){var a=[],v=this.getFileControl(),e=this._getGroup("02"),c=this._getGroup("07"),o=this._getGroup("98"),l=0,y=0,p=0,w=0,u=0,r=0,f=0,s,h,i;if(t=t||[],v&&(l=v.getAddedFileCount(),r=v.getAttach_file_size(),f=v.getBig_file_size(),y=r+f,a.push({type:"01",filesNum:l,totalSize:r+f,filesSize:r,massSize:f,fileBox:v.getFileInfo()})),e){for(u=0,r=0,s=0,h=0,i=0;i<e.files.length;i++)n=="02"&&t.contains(e.files[i].id)?(s+=e.files[i].attachInfoList.length,h+=e.files[i].size):(u+=e.files[i].attachInfoList.length,r+=e.files[i].size);l+=u;y+=r;p+=s;w+=h;a.push({type:"02",filesNum:u,totalSize:r,skipNum:s,skipSize:h,fileBox:e.files})}if(c){for(u=0,r=0,s=0,h=0,i=0;i<c.files.length;i++)n=="07"&&t.contains(c.files[i].id)?(s++,h+=c.files[i].size):(u++,r+=c.files[i].size);l+=u;y+=r;p+=s;w+=h;a.push({type:"07",filesNum:u,totalSize:r,skipNum:s,skipSize:h,fileBox:c.files})}if(o&&!!~_.indexOf(this.limitTotalRealTarget,o.id)){for(u=0,r=0,f=0,i=0;i<o.files.length;i++)o.usingMassStorage==!0&&o.files[i].uptype>1?(u++,f+=+o.files[i].size):(u++,r+=+o.files[i].size);l+=u;y+=r+f;a.push({type:"98",filesNum:u,totalSize:r+f,filesSize:r,massSize:f,fileBox:o.files})}return{totalFileCount:l,totalFileSize:y,totalSkipFileCount:p,totalSkipFileSize:w,files:a}},getAttachFilesInfo:function(){var h=[],t=this.getFileControl(),n=this._getGroup(ecount.attachment.ecdrive),u=0,f=0,e=0,c,r,o,s,i;if(t&&(c=t._getGroup(),u=t.getAddedFileCount(),f=t.getAttach_file_size(),e=t.getBig_file_size(),h.push({type:"01",filesNum:u,totalSize:f,massSize:e,fileBox:t.group.uploadFiles,massConfig:{usingMassStorage:_.get(c,"usingMassStorage",!1),max_attach_file_size:_.get(c,"massStorageConfig.max_attach_file_size",null)}})),n){for(r=0,o=0,s=0,i=0;i<n.files.length;i++)n.usingMassStorage==!0&&n.files[i].uptype>1?(r++,s+=+n.files[i].size):(r++,o+=+n.files[i].size);u+=r;f+=o;e+=s;h.push({type:"98",filesNum:r,totalSize:o,massSize:s,fileBox:n.files,massConfig:{usingMassStorage:_.get(n,"usingMassStorage",!1),max_attach_file_size:_.get(n,"massStorageConfig.max_attach_file_size",null)}})}return{totalFileCount:u,totalFileSize:f,totalFileMassSize:e,files:h}},readOnly:function(n,t){arguments.length===0&&(n=!0);this.controlList.forEach(function(t){t.readOnly(n)});t||this.executeChangeDelegator({syncHandler:this.readOnly,cid:this.id,args:[n,!0]})},validate:function(n,t){var u,i,r;return this._groups.length?!this._groups.length||this._executeValidateIfVisible&&!this.isVisible()?[]:this.limitTotalRealFilesSize!==null||this.limitTotalRealFiles!==null?(u=this.getRealFilesInfo(),i=[],this.limitTotalRealFiles!==null&&this.limitTotalRealFiles<u.totalFileCount&&i.push({method:"limitTotalRealFiles",name:"4002",message:"file number error"}),this.limitTotalRealFilesSize!==null&&this.limitTotalRealFilesSize<u.totalFileSize&&i.push({method:"limitTotalRealFilesSize",name:"4003",message:"file size error"}),i):(r=this.checkValidate(n,t),r.length&&this.showError(this._IT_SELF,r[0].ruleMsg),r):[]},checkValidate:function(n,t){function s(n,t,i){for(var r,f,e=[],u=0,s=n.length;u<s;u++)if(r=n[u],f=o[r][i?i.usingUploader==!0?"usingUploader":"default":"hasRules"].call(this,i),f){e.push({method:r,ruleMsg:t||i&&i.dataRulesMsg||""});break}return e}for(var o={required:{"default":function(n){return n.files.length<=0},usingUploader:function(){return this.getFileControl().getUploadFiles().length<=0},hasRules:function(){return!this._groups.any(function(n){return n.usingUploader==!0?this.getFileControl().getUploadFiles().length>0:n.files.length>0}.bind(this))}}},r=[],u,e,i,f=0,h=this._groups.length;f<h;f++)if(i=this._groups[f],i.isShow==!0&&(u=n||i.dataRules||[],e=t||i.dataRulesMsg||"",u.length&&(r=s.call(this,u,e,i),r.length)))break;return r},setDataRules:function(n,t,i){var r=this.getGroup(n);r&&(arguments.length==2&&t==null&&(r.dataRules=null,r.dataRulesMsg=null),t&&(r.dataRules=t),i&&(r.dataRulesMsg=i))},serialize:function(n){return this.isNotUsed===!0?null:{key:n||this.id,value:this._groups.map(function(n){return n.usingUploader==!0?$.extend(!0,n,this.get(this.fileControlIndex)._getGroup()):n}.bind(this))}},save:function(){var n=["02","07"],t=this._groups.filter(function(t){if(n.includes(t.id))return!0}.bind(this));return{key:this.id,value:_.cloneDeep(t)}},restore:function(n){n&&$.isArray(n)&&n.forEach(function(n){n.files.forEach(function(t){this.addFiles(n.id,t)}.bind(this))}.bind(this))},openPopup:function(n){var t,i;if(arguments.length>1&&["SLIP","POST"].contains(arguments[1].toUpperCase())){t=this.WidgetReferenceList["ref_"+arguments[1]];t&&t.openPopup(n);return}i=$.extend({},{width:n.width||775,height:n.height||600,name:(n.popupType===!0?this.id:this.subTitle)||"",url:n.url,popupType:n.popupType==undefined?!0:n.popupType,responseID:this.callbackID,isFileGroupWidget:"Y"},n.param);this.delegator&&this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:$.extend({},i),handler:function(n,t,i,r){var e,u,f;this.responseID=t;n.popupLevel=r;n.parentPageID=i||this.parentPageID;n.__ecPageID=this.ecPageID;n.ecRepositoryID=ecount.common.createPageOption(this.ecPageID,n.pageOption);e=n.modal||this._modal;u=n.additional;delete n.modal;delete n.additional;f={url:n.url,name:n.name||"",param:n,popupType:n.popupType,popupID:this.id,modal:n.modal||this._modal,control:{ctype:this.controlType,name:this.subTitle,id:this.id},popupLevel:r,parentPageID:n.parentPageID,alreadyIncludedLayout:!n.popupType,additional:u};ecount.popup.openWindow(f)}.bind(this)})},_openPopup:function(){this.openPopup.apply(this,arguments)},getIsToogleFn:function(){return this.hasFn&&this.isToggleFn},getUploadFiles:function(){if(!this._groups)return[];var n=[];return this._groups.forEach(function(t){t.usingUploader||t.files&&t.files.forEach(function(t){t.status!=plupload.DONE&&n.push(t)})}),n},getRemoveFiles:function(){if(!this._groups)return[];var n=[];return this._groups.forEach(function(t){t.usingUploader||t.removeFiles&&t.removeFiles.forEach(function(t){t.status==plupload.DONE&&n.push(t)})}),n},save:function(){var n=["02","07"],t=this._groups.filter(function(t){if(n.includes(t.id))return!0}.bind(this));return{key:this.id,value:_.cloneDeep(t)}},restore:function(n){n&&$.isArray(n)&&n.forEach(function(n){$.isEmpty(this.getGroup(n.id))||(this.getGroup(n.id).files=[]);$.isEmpty(this.getFileListControl())||this.getFileListControl().removeGroupItems(n);n.files.forEach(function(t){this.addFiles(n.id,t)}.bind(this))}.bind(this))},hideGroupTitle:function(){},getFoldLayerValue:function(){return String.format("[{0}]",this.getFileCount())}},radioMulti:{controlType:"widget.combine.radioMulti",onInitChildControl:function(n,t){var e=widget.generator,u=e.control(),r=t.id,i=ecount.resource,o=u.define("widget.radio",r+"_radioMulti",r+"_radioMulti").label([i.LBL02475,i.LBL15181,i.LBL15182]).value(["0","1","2"]).select("0").setChangeStateFuncName("toggleDisplay"),f;n.addControl(o);f=u.define("widget.radio",r+"_secondRadioMulti",r+"_secondRadioMulti").label([i.LBL02475,i.LBL09329,i.LBL01947]).value(["0","N","Y"]).select("0").setAddonTitle(i.LBL16391).hide();n.addControl(f)},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0);n==t[1]?this.get(1).show():this.get(1).hide()}},setRepeatPeriod:{controlType:"widget.combine.setRepeatPeriod",customPeriodIdx:0,onInitChildControl:function(n,t){function c(n){var t=[];return n.length&&$.each(n,function(n){t.push(n+1)}),t}var h=widget.generator,u=h.control(),l=ecount.resource,f=t.id,e=t.name,i=[],o=[],s=t.select||1,r;i=t.data.map(function(n){return n.label});o=c(i);this.customPeriodIdx=t.customPeriodIdx||i.length;n.addControl(u.define("widget.radio",f+"_radio",e+"_radio").setChangeStateFuncName("toggleRadio").label(i).value(o).select(s).setInlineIndex(0));r=u.define("widget.multiDate",f+"_multiDate",e+"_multiDate").setInlineIndex(1);!this.customPeriodIdx||this.customPeriodIdx==s||r.hide();n.addControl(r)},toggleRadio:function(){var n=this.get(0).getValue();n==this.customPeriodIdx?this.get(1).show():this.get(1).hide()}},generateCodesIntegratedWidget:{controlType:"widget.combine.generateCodesIntegratedWidget",onInitChildControl:function(n,t){function c(n){var t=[];return n.length&&$.each(n,function(n){t.push(n+1)}),t}function o(n){return n&&t.data.map(function(t){return t[n]})}var s=widget.generator,i=s.control(),l=ecount.resource,r=t.id,u=t.name,f=[],e=[],h=t.select||1;f=o("label");e=o("value")||c(f);n.addControl(i.define("widget.radio",r+"_radio_Main",u+"_radio_Main").setChangeStateFuncName("toggleRadio").label(["Auto-Number","Set Menually"]).value(["A","M"]).select("A").setInlineIndex(0));n.addControl(i.define("widget.radio",r+"_radio_Zone",u+"_radio_Zone").label(f).value(e).select(h).hide().setInlineIndex(1));n.addControl(i.define("widget.input",r+"_input",u+"_input").dataRules(["required"]).filter("regexp",{regexp:"[^0-9a-z]"}).maxLength(6).hide().setInlineIndex(2))},toggleRadio:function(){var n=this.get(0).getValue();n=="M"?(this.get(1).show(),this.get(2).show()):(this.get(1).hide(),this.get(2).hide())}},callbackInquiryMsgLink:{controlType:"widget.combine.callbackInquiryMsgLink",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;n.addControl(i.define("widget.code.callbackInquiryMessageType",r+"_CallBackInquiryMsgType",u+"_CallBackInquiryMsgType").codeType(7).setInlineIndex(0));n.addControl(i.define("widget.link",r+"_CBlink",u+"_CBlink").label(t.data&&t.data[0]&&t.data[0].label||"Apply").noneFlex(!0).setInlineIndex(0))}},testCombine:{controlType:"widget.combine.testCombine",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name,e=t.data;n.addControl(i.define("widget.radio",r+"_radio_1",u+"_radio_1").label(["",""]).value(["1","2"]).select("1").setChangeStateFuncName("toggleDisplay").setAddonTitle("").setInlineIndex(0));n.addControl(i.define("widget.input",r+"_input_1",u+"_input_1").setAddonTitle("input_1").hide().setInlineIndex(1));n.addControl(i.define("widget.combine.testCombine2",r+"_testCombine2",u+"_testCombine2").hide().setInlineIndex(2));n.addControl(i.define("widget.input",r+"_input_2",u+"_input_2").setAddonTitle("input_2").setInlineIndex(3))},toggleDisplay:function(){var n=this.get(0).getValue();n=="1"?(this.get(1).hide(),this.get(2).hide()):(this.get(1).show(),this.get(2).show())},toggleSyncTest:function(){var n=this.myFlag;n===!0?(this.get(3).show(),this.myFlag=!1):(this.get(3).hide(),this.myFlag=!0)}},testCombine2:{controlType:"widget.combine.testCombine2",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name,e=t.data;n.addControl(i.define("widget.radio",r+"_radio_1",u+"_radio_1").label(["",""]).value(["1","2"]).select("1").setChangeStateFuncName("toggleDisplay").setAddonTitle("").setInlineIndex(0));n.addControl(i.define("widget.checkbox",r+"_checkbox_2",u+"_checkbox_2").label([""]).value(["3"]).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();n=="2"?this.get(1).show():this.get(1).hide()}},radioGroup:{controlType:"widget.combine.radioGroup",onInitChildControl:function(n,t){for(var e=widget.generator,o=e.control(),c=ecount.resource,s=t.id,h=t.name,r=t._group,u=t._fixedSelectedValue||[],f=[],i=0;i<r.length;i++)n.addControl(o.define("widget.radio",s+i+"_radio",h+i+"_radio").label(r[i].label).value(r[i].value).setChangeStateFuncName("toggleRadio").select(u[i]?u[i]:r[i].value[0]).noneFlex(!0).setInlineIndex(0)),i!==r.length-1&&f.push({index:i,html:'<span class="inline-divider"><\/span>'});this.setCutInControlsTag(f)},toggleRadio:function(){var n=this,i,t;_.each(this.controlList,function(r,u){i=n.get(u).getValue();t=n._group[u].option;_.isPlainObject(n._group[u].option)&&(i==t.toggleValue?_.each(t.disableList,function(t){n.get(t).setReadOnly(!0)}):_.each(t.disableList,function(t){n.get(t).setReadOnly(!1)}))})}},multiMenualSearch:{controlType:"widget.combine.multiMenualSearch",onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),r=t.id,f=t.name,e=t.data;n.addControl(i.define("widget.radio",r+"_radio",f+"_radio").label(["Contents","Tutorial"]).value(["C","T"]).select("C").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.multiCode.multimanualSearch",r+"_multimanualSearch","multimanualSearch").setInlineIndex(1));n.addControl(i.define("widget.multiCode.tutorialSearch",r+"_tutorialSearch","tutorialSearch").hide().setInlineIndex(2))},toggleDisplay:function(){var n=this.get(0).getValue();n=="C"?(this.get(1).show(),this.get(2).hide(),this.setFocus(1)):n=="T"&&(this.get(1).hide(),this.get(2).show(),this.setFocus(2))}},paymentDate:{controlType:"widget.combine.paymentDate",isForm:!1,onInitChildControl:function(n,t){var f=widget.generator,e=f.control(),c=ecount.resource,o=t.id,s=t.name,u=t.data,l=t._fixedSelectedValue||[],h=this,i={mi:null,si:null},r=_.isEmpty(u)?_.isEmpty(this.labels)?[[]]:this.labels:this.toGeneratorOption(u,"label");this.labels=r;r.map(function(n,t){n.map(function(n,r){n.type=="radio"&&n.checked=="checked"&&(i.mi=t,i.si=r)})});i.mi!==null&&(this.selectedIndex=i.mi);_.each(r,function(t,r){_.each(t,function(t,u){var c=t.type,a=t.label,f=t.value,v=t.checked,y=t.selectedValue,l=e.define("widget."+c,o+c+"_"+r+"_"+u,s+"_"+r+"_"+u).label(_.isString(a)?a:f?f:"").value(f?f:"").setInlineIndex(r).noneFlex(!0);_.isEqual(c,"radio")&&l.setChangeStateFuncName("toggleRadio");_.isEqual(v,"checked")&&i.mi===r&&i.si===u&&l.select(f);_.isEqual(c,"select")&&(l.option(_.isEqual(c,"select")?h.getSelectedDataType(f):[]),l.select(y));n.addControl(l)})})},extract:function(){var n=this._super.extract.call(this);return n.labels=this.labels,n.selectedIndex=this.selectedIndex,n},initializeOptions:function(){this.selectedIndex},toggleRadio:function(n,t,i){_.each(this.controlList,function(n){_.isEqual(n.controlType,"widget.radio")&&(_.isEqual(n.id,i)||n.setUncheck())});var r=this.get(i);this.selectedIndex=r.inlineIndex},getActiveCtrlId:function(){return this.inlineInfo[this.selectedIndex]},serialize:function(){return{key:this.name,value:this.getValue()}},getSelectedValue:function(){var n=[],t=this.getActiveCtrlId(),i=this;return _.each(t,function(t){var u=i.get(t),r;_.isEqual(u.controlType,"widget.label")||(r=u.getValue(),$.isEmpty(r)||n.push(r))}),n},getValue:function(){return this.getSelectedValue()},getSelectedDataType:function(n){var f=[],t=0,i=0,u,r;switch(n){case"31":t=1;i=31;break;case"12":t=0;i=12;break;case"lastday":t=1;i=30;break;case"lastdayAndCurrent_Eng":t=1;i=30;break;case"365":t=1;i=365;break;case"52":t=0;i=52;break;case"weekly":t=1;i=7;break;case"112":t=1;i=12;break;case"152":t=1;i=52;break;case"0365":t=0;i=365;break;case"beforeAfter":t=0;i=1;break;case"beforeAfter_Eng":t=0;i=1}for(u=t;u<=i;u++){if(n=="weekly")switch(u){case 1:r=ecount.resource.LBL08023;break;case 2:r=ecount.resource.LBL04596;break;case 3:r=ecount.resource.LBL03132;break;case 4:r=ecount.resource.LBL01680;break;case 5:r=ecount.resource.LBL01161;break;case 6:r=ecount.resource.LBL00777;break;case 7:r=ecount.resource.LBL02890}else if(n=="beforeAfter")switch(u){case 0:r=ecount.resource.LBL03266;break;case 1:r=ecount.resource.LBL05473}else if(n=="beforeAfter_Eng")switch(u){case 0:r="ago";break;case 1:r="later"}else r=u.toString();f.push([u,r])}return n=="lastday"?f.push(["31",ecount.resource.LBL01084]):n=="lastdayAndCurrent_Eng"&&f.push(["L","Last Date"]),f},validate:function(){var n=[],t;return this._executeValidateIfVisible&&!this.get(0).isVisible()&&!this.get(3).isVisible()?n:(t=this.getValue(),t.length===0&&(n.push({control:this,message:"This field is required.",method:"required"}),this.showError()),n)}},radioDoubleSelect:{controlType:"widget.combine.radioDoubleSelect",onInitChildControl:function(n,t){var c=widget.generator,u=c.control(),l=ecount.resource,f=t.id,e=t.name,p=t.data,i,a=t.radioLabels||[],r=t.radioValues||[],o=t.radioSelected||r[0],s=t.selectLeft||[],h=t.selectRight||[],v=t.leftSelected||s[0],y=t.rightSelected||h[0];n.addControl(u.define("widget.radio",f+"_radio",e+"_radio",l.LBL10466).label(a).value(r).select(o).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));i=u.define("widget.select",f+"_selectFirst",e+"_selectFirst").option(s).select(v).setInlineIndex(0);r[r.length-1]!==o&&i.hide();n.addControl(i);i=u.define("widget.select",f+"_selectSecond",e+"_selectSecond").option(h).select(y).setInlineIndex(0);r[r.length-1]!==o&&i.hide();n.addControl(i)},toggleDisplay:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);n[n.length-1]!=t?(this.controlList[1].hide(),this.controlList[2].hide()):(this.controlList[1].show(),this.controlList[2].show())},getValue:function(){for(var t,r=[],n=0,i=this.controlList.length;n<i;n++)t=this.get(n).getStandardValue(),r.push($.isArray(t)?t[0]:t);return r}},warehouseMethod:{controlType:"widget.combine.warehouseMethod",initializeOptions:function(n){this._callback=n._callback},onInitChildControl:function(n,t){var l=widget.generator,u=l.control(),f=ecount.resource,e=t.id,o=t.name,s=t.data,a=t.setAddonTitle||"",h=h||"",c=c||"",v=this.toGeneratorOption(s,"label"),r=this.toGeneratorOption(s,"value"),i;n.addControl(u.define("widget.radio",e+"_radio",o+"_radio",f.LBL16771).label(v).value(r).setChangeStateFuncName("toggleDisplay").select(t._fixedSelectedValue[0]?t._fixedSelectedValue[0]:r[1]).setInlineIndex(0));i=u.define("widget.input",e+"_input01",o+"_input01",f.LBL16435).setAddonTitle(f.LBL16435).select(h).setInlineIndex(1);t._fixedSelectedValue[0]==r[0]&&i.hide();n.addControl(i);i=u.define("widget.input",e+"_input02",o+"_input02").setAddonTitle(a).select(c).setInlineIndex(2);t._fixedSelectedValue[0]==r[0]&&i.hide();n.addControl(i)},ON_FOCUSOUT:function(n,t,i){i.controlType=="widget.input"&&this._callback&&this._callback(this)},ON_KEYDOWN_ENTER:function(n,t,i){i.controlType=="widget.input"&&this._callback&&this._callback(this)},toggleDisplay:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(0);switch(t){case n[0].toString():this.controlList[1].hide();this.controlList[2].hide();break;case n[1].toString():this.controlList[1].show();this.controlList[2].show()}}},depreciationCalcYN:{controlType:"widget.combine.depreciationCalcYN",_showOnlyDprExpPrd:!1,onInitChildControl:function(n,t){var f=widget.generator,r=f.control(),u=ecount.resource,e=t.id,o=t.name,s=t.data,i=t._fixedSelectedValue||[];n.addControl(r.define("widget.radio","DPCRT_CALC_TF","DPCRT_CALC_TF").label([u.LBL18041,u.LBL17004]).value(["1","0"]).select(i[0]||"1").setChangeStateFuncName("toggleDisplay").setInlineIndex(0).end());n.addControl(r.define("widget.multiCode.account","txtDeprGyeCode","DEPR_GYE_CODE").dataRules(["required"]).maxSelectCount(1).setAddonTitle(ecount.resource.LBL07839).setInlineIndex(1).addCode(i[1]&&i[1].value?i[1]:[]));n.addControl(r.define("widget.multiCode.account","txtCostGyeCode","COST_GYE_CODE").maxSelectCount(1).setAddonTitle(ecount.resource.LBL00286).setInlineIndex(2).addCode(i[2]&&i[2].value?i[2]:[]));n.addControl(r.define("widget.radio","rbProcGubun","PROC_GUBUN").label([ecount.resource.LBL02524,ecount.resource.LBL02516]).value(["1","2"]).select(i[3]||"1").setAddonTitle(ecount.resource.LBL01509).setInlineIndex(3));n.addControl(r.define("widget.radio","rbLifeUnit","LIFE_UNIT").label([ecount.resource.LBL00926,ecount.resource.LBL02042]).value(["Y","M"]).select(i[4]||"Y").setAddonTitle(ecount.resource.LBL10303).setInlineIndex(4));n.addControl(r.define("widget.input.general","txtYearCnt","YEAR_CNT").value(i[5]||"0").numericOnly(4,0,ecount.resource.MSG04553,!1,!0).setAddonTitle(ecount.resource.LBL00913).setInlineIndex(5));n.addControl(r.define("widget.input.general","txtResidualAmt","RESIDUAL_AMT").numericOnly(18+ecount.config.company.DEC_AMT,ecount.config.company.DEC_AMT,ecount.resource.MSG04553).value(i[6]||0).showZeroInPoint(ecount.config.company.ZERO_CHK_YN).setAddonTitle(ecount.resource.LBL35804).setInlineIndex(6));t.HideExcluperiodAnchor!=!0&&n.addControl(r.define("widget.link","excluperiodAnchor","EXCLUPERIOD_CD").setAddonTitle(ecount.resource.LBL04835).label(u.LBL11726).setInlineIndex(7))},toggleDisplay:function(){var n=this.get(0).getValue();n=="1"?this._showOnlyDprExpPrd?(this.hideAll(),this.get(0).show(),this.get(7).show()):this.showAll():(this.hideAll(),this.get(0).show())},toggleFixedAssetsTypeSet:function(n){this._showOnlyDprExpPrd=n;this.toggleDisplay()},toggleLinkColorSet:function(n){var i=this,t=this.controlList.filter(function(n){return n.id=="excluperiodAnchor"}.bind(this));n?t[0].addClass(0,"text-primary-inverse"):t[0].removeClass(0,"text-primary-inverse")},setFocusByIdx:function(n){n&&this.setFocus(n)},setValue:function(n){for(var t=0,i=this.controlList.length;t<i;t++)n[t]&&typeof n[t]=="object"&&($.isEmpty(n[t].value)||$.isEmpty(n[t].label))||this.get(t).setStandardValue(n[t])}},testActiveCombine:{controlType:"widget.combine.testActiveCombine",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name,o=t.data,s=t._fixedSelectedValue;n.addControl(i.define("widget.radio",r+"_radio",u+"_radio").setChangeStateFuncName("toggleDisplay").label(["","",""]).value(["1","2","3"]).setInlineIndex(0));n.addControl(i.define("widget.radio",r+"_radio2",u+"_radio2").label(["",""]).value(["4","5"]).setInlineIndex(1));n.addControl(i.define("widget.radio",r+"_radio3",u+"_radio3").label(["",""]).value(["6","7"]).setAddonTitle("radio").setInlineIndex(2))},toggleDisplay:function(){var i=this.get(0).getValue(),n=1,t=[];switch(i){case"1":this.removeChildControl(n);break;case"2":this.controlList.length>2&&this.removeChildControl(n);t=[{baseType:"code",controlType:"widget.code.wh",id:this.id+"_code",name:this.name+"_code",setAddonTitle:"ecount.resource.LBL03253",dataRules:["required"]}];break;case"3":this.controlList.length>2&&this.removeChildControl(n);t=[{baseType:"numeric",controlType:"widget.select",id:this.id+"_select",name:this.name+"_select",setAddonTitle:"ecount.resource.LBL03253",option:[["N1","="],["N2","<>"],["N3",">"],["N4",">="],["N5","<"],["N6","<="],["N7","~"]]},{baseType:"numeric",controlType:"widget.input",id:this.id+"_input1",name:this.name+"_input1",numericOnly:[18,2,"ecount.resource.MSG04553"]},{baseType:"numeric",controlType:"widget.label",id:"~",name:"~",label:"~",isHide:!0},{baseType:"numeric",controlType:"widget.input",id:this.id+"_input2",name:this.name+"_input2",numericOnly:[18,2,"ecount.resource.MSG04553"],isHide:!0}]}t.length>0&&this.addChildControl(t,n)}},convertible:{controlType:"widget.combine.convertible",radioType:"R",onInitChildControl:function(n,t){var h=widget.generator,f=h.control(),c=ecount.resource,e=t.id,o=t.name,s=t.data,l=t.option,r,u=this.toGeneratorOption(s,"label"),i=this.toGeneratorOption(s,"value");u.length<6?r=f.define("widget.radio",e+"_control",o).label(u).value(i).select(i[0]):(this.radioType="S",r=f.define("widget.select",e+"_control",o).option(this.makeSelectOptions(i,u)).select(i[0]));n.addControl(r)},getValue:function(){return this.get(0).getValue()},setValue:function(n){this.get(0).setValue(n)},serialize:function(){return this.get(0).serialize()}},taxTypeTaiwan:{controlType:"widget.combine.taxTypeTaiwan",renderMoldingFlag:!0,_editMode:"V",_menuType:"",_invoiceType:ecount.config.company.TW_ECTAX_BASE_TYPE_CD||1,_invoiceGroup:["None","B2B","B2B","B2C"],_beforeBarcodeValue:"",_viewModeWidget:[],_invoiceTypeChngCnt:0,controlIndex:{taxType:0,combineView:1,trxType:2,trxKind:3,invoiceNo:4,discountNo:5,invoiceNo2:6,disposalDes:7,ccMethod:8,invoiceMethod:9,donationOrg:10,userNoType:11,surfNo:12,cancelDes:13,printYn:14},stateIndex:{taxType:0,trxType:1,trxKind:2,invoiceNo:3,discountNo:4,invoiceNo2:5,disposalDes:6,ccMethod:7,invoiceMethod:8,donationOrg:9,userNoType:10,surfNo:11,cancelDes:12,printYn:13},onInitChildControl:function(n,t){function l(n){for(var i=n.length,t=0;t<i;t++)$.isNull(n[t])||typeof n[t]!="object"||($.isNull(n[t].label)||$.isNull(n[t].value))&&(n[t]=null);return n}function a(){this._viewModeWidget=["trxType","trxKind","invoiceNo","discountNo","invoiceNo2","disposalDes","ccMethod","invoiceMethod","donationOrg","userNoType","surfNo","cancelDes","printYn"];s=["","","","","","","","","","","","",""]}var h=widget.generator,u=h.control(),v=t.id,y=t.name,p=t.data,e=!1,c=!1,o=!1,r=ecount.resource,i=t._fixedSelectedValue&&l(t._fixedSelectedValue),f={},s=[];this._menuType=t.menuType;c=this._menuType&&this._menuType!="N"?!0:!1;e=this._menuType&&this._menuType=="S"?!0:!1;o=i&&[2,3].indexOf(i[1])>-1&&i[2]==1&&i[3]&&!$.isEmpty(i[3].value)?!0:!1;this._invoiceType=this._menuType=="N"?ecount.config.company.TW_ECTAX_BASE_TYPE_CD||1:$.isNull(i&&i[1])?1:i[1];a.call(this);n.addControl(u.define("widget.select.taxType","taxType","TAX_TYPE").defaultOptions({isAllAdd:!1,isAdd:!1}).select($.isNull(i&&i[0])?71:i[0]).readOnly(e).setChangeStateFuncName("toggleTaxType").end());n.addControl(u.define("widget.label.combineView","combineView","combineView").userData(this._viewModeWidget).label(s).setOptions({onClick:this.onViewModeClick.bind(this)}).end());n.addControl(u.define("widget.radio","trxType","INVOICE_TYPE"+(t.rowKey||this.ecPageID)).setAddonTitle(r.LBL04920).setAddonOptions({css:"text-left"}).label([r.LBL16288,r.LBL14131,r.LBL14133,r.LBL14134]).value([0,1,2,3]).select(o?3:this._invoiceType).readOnly(e||o).setChangeStateFuncName("toggleRadio").isUserNameSet().end());f=u.define("widget.select","trxKind","INVOICE_KIND").setAddonTitle(r.LBL04853).setAddonOptions({css:"text-left"}).readOnly(e||o).setChangeStateFuncName("toggleSelect");i&&["2","3"].indexOf(i[1]+"")>-1?f.option([["1",r.LBL01777],["2",r.LBL14154],["4",r.LBL14156],["6",r.LBL14158],["7",r.LBL20709],]):f.option([["1",r.LBL01777],["2",r.LBL14154],["4",r.LBL14156],]);f.select($.isNull(i&&i[2])?0:i[2]);n.addControl(f.end());this._menuType!="S"||$.isNull(i&&i[3])?(f=u.define("widget.multiCode.twEInvoiceNo","invoiceNo","INVOICE_NO").setAddonTitle(r.LBL14147).setAddonOptions({css:"text-left"}).setChangeStateFuncName("toggleNoSelect"),f.addCode($.isNull(i&&i[3])?[]:i[3])):f=u.define("widget.label","invoiceNo","INVOICE_NO").setAddonTitle(r.LBL14147).setAddonOptions({css:"text-left"}).value($.isNull(i&&i[3])?"":i[3].label);n.addControl(f.end());this._menuType=="S"?n.addControl(u.define("widget.label","discountNo","DISCOUNT_NO").setAddonTitle(r.LBL14149).setAddonOptions({css:"text-left"}).value($.isNull(i&&i[5])?"":i[5].label).end()):n.addControl(u.define("widget.multiCode.twEInvoiceNo","discountNo","DISCOUNT_NO").setAddonTitle(r.LBL14149).setAddonOptions({css:"text-left"}).setChangeStateFuncName("toggleNoSelect").end());this._menuType!="S"||$.isNull(i&&i[4])?n.addControl(u.define("widget.multiCode.twEInvoiceNo","invoiceNo2","INVOICE_NO2").setAddonTitle(r.LBL14147).setAddonOptions({css:"text-left"}).setOptions({checkMaxCount:1}).setChangeStateFuncName("toggleNoSelect").end()):n.addControl(u.define("widget.label","invoiceNo2","INVOICE_NO2").setAddonTitle(r.LBL14147).setAddonOptions({css:"text-left"}).value($.isNull(i&&i[4])?"":i[4].label).end());n.addControl(u.define("widget.input.general","disposalDes","RSN").setAddonTitle(r.LBL14496).setAddonOptions({css:"text-left"}).filter("maxbyte",{message:r.MSG01396,max:40}).value($.isNull(i&&i[6])?"":i[6]).readOnly(e).end());n.addControl(u.define("widget.radio","ccMethod","CUCL_MTHD"+(t.rowKey||this.ecPageID)).setAddonTitle(r.LBL14136).setAddonOptions({css:"text-left"}).label([r.LBL14137,r.LBL14138]).value([0,1]).select($.isNull(i&&i[7])?0:i[7]).isUserNameSet().end());n.addControl(u.define("widget.radio","invoiceMethod","INVOICE_MTHD"+(t.rowKey||this.ecPageID)).setAddonTitle(r.LBL14139).setAddonOptions({css:"text-left"}).label([r.LBL14150,r.LBL14151,r.LBL14140]).value([0,1,2]).select($.isNull(i&&i[8])?0:i[8]).setChangeStateFuncName("toggleRadioInvoice").isUserNameSet().end());n.addControl(u.define("widget.code.twEInvoiceDonation","donationOrg","DON_ORGAN_CD").setAddonTitle(r.LBL14141).setAddonOptions({css:"text-left"}).addCode($.isNull(i&&i[9])?{}:i[9]).end());n.addControl(u.define("widget.radio","userNoType","USER_NO_TYPE"+(t.rowKey||this.ecPageID)).setAddonTitle(r.LBL14142).setAddonOptions({css:"text-left"}).label([r.LBL03552,r.LBL14143,r.LBL14144]).value([0,1,2]).select($.isNull(i&&i[10])?0:i[10]).setChangeStateFuncName("toggleBarcodeRadio").isUserNameSet().end());this._menuType=="S"?n.addControl(u.define("widget.label","surfNo","SURF_NO").setAddonTitle(r.LBL14145).setAddonOptions({css:"text-left"}).value($.isNull(i&&i[11])?"":i[11]).readOnly(e).end()):n.addControl(u.define("widget.input.general","surfNo","SURF_NO").setAddonTitle(r.LBL14145).setAddonOptions({css:"text-left"}).filter("maxlength",{message:String.format(ecount.resource.MSG01136,64,64),max:64}).value($.isNull(i&&i[11])?"":i[11]).end());n.addControl(u.define("widget.input.general","cancelDes","RSN").setAddonTitle(r.LBL15124).setAddonOptions({css:"text-left"}).filter("maxbyte",{message:r.MSG01396,max:40}).value($.isNull(i&&i[12])?"":i[12]).end());n.addControl(u.define("widget.radio","printYn","PRINT_YN"+(t.rowKey||this.ecPageID)).setAddonTitle(r.LBL15238).setAddonOptions({css:"text-left"}).label([r.LBL02155,r.LBL01159]).value([0,1]).select($.isNull(i&&i[13])?0:i[13]).isUserNameSet().end())},ON_CLICK:function(n){if(n&&n.cid=="combineView")this.onViewModeClick(2+n.cindex);if(!this.isGridV3)return!1},onAfterRender:function(){this._menuType=="N"&&this.controlHideAndShowByTrxType()},controlHideAndShowByTrxType:function(){var n=this.get(this.controlIndex.trxType).getValue();(this.get(this.controlIndex.taxType).getValue()!="72"||this.get(this.controlIndex.trxType).getValue()=="0")&&this.get(this.controlIndex.ccMethod).hide();n==0&&this.hideControls("trxKind");this.setLabelListValue();this.setViewModeChange()},toggleTaxType:function(n,t){var i=this.get(this.controlIndex.taxType).getValue();["71","72","73"].contains(i)?(this._menuType!="N"&&this.hideControls("trxKind"),this.get(this.controlIndex.trxType).show(),this.get(this.controlIndex.trxKind).show(),i=="72"&&this.get(this.controlIndex.trxType).getValue()!="0"?this.get(this.controlIndex.ccMethod).show():this.get(this.controlIndex.ccMethod).hide(),this.toggleRadio(null,t)):this.hideControls("trxType")},toggleRadio:function(n,t){var i=this.get(this.controlIndex.trxType).getValue(),r=this.get(this.controlIndex.trxKind),u=r.getValue();r.removeOption();switch(this._invoiceGroup[i]){case"":case"None":this.hideControls("trxKind");break;case"B2B":this.get(this.controlIndex.trxKind).show();i==1?r.addOption([["1",ecount.resource.LBL01777],["2",ecount.resource.LBL14154],["4",ecount.resource.LBL14156]]):i==2&&r.addOption([["1",ecount.resource.LBL01777],["2",ecount.resource.LBL14154],["4",ecount.resource.LBL14156],["6",ecount.resource.LBL14158],["7",ecount.resource.LBL20709]]);this.get(this.controlIndex.trxKind).setValue(u==3?0:u);break;case"B2C":this.get(this.controlIndex.trxKind).show();r.addOption([["1",ecount.resource.LBL01777],["2",ecount.resource.LBL14154],["4",ecount.resource.LBL14156],["6",ecount.resource.LBL14158],["7",ecount.resource.LBL20709]]);this.get(this.controlIndex.trxKind).setValue(u)}this._invoiceTypeChngCnt++;i=i&&Number(i);this._invoiceType=i;this._invoiceGroup[i]!="None"?this.toggleSelect(null,t):this.get(this.controlIndex.trxKind).hide();this.setAddOnTitleResize()},toggleSelect:function(n,t){var i=this.get(this.controlIndex.trxKind).getValue();this.hideControls("invoiceNo");this._menuType=="N"?this.isFromSetValue==!1&&((this._fixedSelectedValue[3]==null||this._invoiceTypeChngCnt>2)&&this.get(this.controlIndex.invoiceNo).removeAll(),(this._fixedSelectedValue[5]==null||this._invoiceTypeChngCnt>2)&&this.get(this.controlIndex.invoiceNo2).removeAll(),(this._fixedSelectedValue[4]==null||this._invoiceTypeChngCnt>2)&&this.get(this.controlIndex.discountNo).removeAll()):this._menuType=="U"&&this._invoiceTypeChngCnt>1&&(this.get(this.controlIndex.invoiceNo).removeAll(),this.get(this.controlIndex.invoiceNo2).removeAll(),this.get(this.controlIndex.discountNo).removeAll());switch(Number(i)){case 1:this._invoiceType===1||this._invoiceType===2?($.isEmpty(this.get(this.controlIndex.invoiceNo).getValue())||this.get(this.controlIndex.invoiceNo).show(),this.toggleRadioInvoice(null,t)):($.isEmpty(this.get(this.controlIndex.invoiceNo).getValue())||this.get(this.controlIndex.invoiceNo).show(),this.get(this.controlIndex.invoiceMethod).show(),this.toggleRadioInvoice(null,t));break;case 2:this.get(this.controlIndex.invoiceNo).show();this.get(this.controlIndex.disposalDes).show();break;case 4:this._menuType=="S"&&this.get(this.controlIndex.discountNo).show();this.get(this.controlIndex.invoiceNo2).show();break;case 6:this.get(this.controlIndex.discountNo).show();this.get(this.controlIndex.disposalDes).show();break;case 7:this.get(this.controlIndex.invoiceNo).show();this.get(this.controlIndex.cancelDes).show()}},toggleNoSelect:function(n,t,i){var r=this.get(i).getSelectedItem();$.isArray(r)&&r.length>0&&!$.isEmpty(r[0].TAX_TYPE)&&this.get(this.controlIndex.taxType).setValue(r[0].TAX_TYPE)},toggleRadioInvoice:function(n,t){var i=this.get(this.controlIndex.invoiceMethod).getValue();if(this.hideControls("ccMethod"),this.get(this.controlIndex.taxType).getValue()=="72"?this.get(this.controlIndex.ccMethod).show():this.get(this.controlIndex.ccMethod).hide(),this._invoiceType!=3)return!1;this.get(this.controlIndex.userNoType).setReadOnly(!1,0);switch(Number(i)){case 1:(t===!0||$.isArray(t)&&($.isEmpty(t[10])||t[10]=="0"))&&this.get(this.controlIndex.userNoType).setValue("1");this.get(this.controlIndex.userNoType).show();this.get(this.controlIndex.userNoType).setReadOnly(!0,0);this.get(this.controlIndex.surfNo).show();break;case 2:this.get(this.controlIndex.donationOrg).show();this.get(this.controlIndex.userNoType).show();this.get(this.controlIndex.surfNo).hide();break;default:this.get(this.controlIndex.userNoType).setValue("0")}this.toggleBarcodeRadio()},toggleBarcodeRadio:function(){var n=Number(this.get(this.controlIndex.userNoType).getValue()),t=Number(this.get(this.controlIndex.invoiceMethod).getValue());if(this._invoiceType!=3)return!1;t===0||n===0?(this.get(this.controlIndex.surfNo).hide(),this.get(this.controlIndex.surfNo).setDataRules([])):(this.get(this.controlIndex.surfNo).show(),this.get(this.controlIndex.surfNo).setDataRules(["required"]));this.get(this.controlIndex.printYn).hide()},onViewModeClick:function(n){this._editMode="E";this.setViewModeChange();this.get(n).setFocus(0)},setViewModeChange:function(){var n=this.controlIndex.combineView;if(this._editMode=="V"){var t=this.controlIndex.trxType,i=this.controlIndex.trxKind,r=this.controlIndex.discountNo,u=this.controlIndex.invoiceNo,f=this.controlIndex.invoiceNo2,e=this.controlIndex.disposalDes,o=this.controlIndex.cancelDes,s=this.controlIndex.ccMethod,h=this.controlIndex.invoiceMethod,c=this.controlIndex.donationOrg,l=this.controlIndex.userNoType,a=this.controlIndex.surfNo,v=this.controlIndex.printYn;this._editMode="C";this.get(n).getShowLabelList().length>1&&this.get(n).show();this.get(t).hide();this.get(i).hide();this.get(r).hide();this.get(u).hide();this.get(f).hide();this.get(e).hide();this.get(o).hide();this.get(s).hide();this.get(h).hide();this.get(c).hide();this.get(l).hide();this.get(a).hide();this.get(v).hide();this._editMode="V"}else this.setAddonTitleWidthResize(!0),this.get(n).hide()},setAddonTitleWidthResize:function(n){for(var u=this.controlIndex.combineView,r,i=n?this.get(u).getShowLabelList():this._viewModeWidget,t=0;t<i.length;t++)r=this.controlIndex[i[t]],n&&this.get(r).show();this.setAddOnTitleResize()},setLabelListValue:function(){for(var n,t,i=this.controlIndex.combineView,u=this._viewModeWidget,r=0;r<u.length;r++)if(n=u[r],n!="combineView"){t="";switch(n){case"trxType":case"ccMethod":case"invoiceMethod":case"userNoType":case"printYn":t=this.get(this.controlIndex[n]).getCheckedLabel();break;case"trxKind":t=this.get(this.controlIndex[n]).getSelectedItem().label;break;case"discountNo":case"invoiceNo":case"invoiceNo2":this.get(this.controlIndex[n]).controlType=="widget.label"?t=this.get(this.controlIndex[n]).getValue():this.get(this.controlIndex[n]).controlType=="widget.multiCode.twEInvoiceNo"&&this.get(this.controlIndex[n]).getSelectedItem().length>0&&(t=this.get(this.controlIndex[n]).getSelectedItem()[0].label);break;default:t=this.get(this.controlIndex[n]).getValue()}t?(this.get(i).removeClass("label-muted",n),this.get(i).addClass("label-light",n),this.get(i).setValue(t,n)):(t=this.get(this.controlIndex[n]).getAddonTitle(),this.get(i).setValue(t,n),this.get(i).addClass("label-muted",n),this.get(i).removeClass("label-light",n))}},hideControls:function(n){for(var i=this.controlIndex[n],t=i,r=this.controlList.length;t<r;t++)(n!="ccMethod"||t!=this.controlIndex.invoiceMethod)&&this.get(t).hide()},childHide:function(n,t){var i=this.controlIndex.combineView;this._editMode=="V"&&this._viewModeWidget.contains(t.id)||n&&n.apply(t);this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.get(i).hideLabelById(t.id);this.adjustContentsDimensions()},childShow:function(n,t){var i=this.controlIndex.combineView;this._editMode!="V"&&(n&&n.apply(t),this._viewModeWidget.contains(t.id)&&this.setAddonTitleWidthResize());this._editMode!="C"&&this._viewModeWidget.contains(t.id)&&this.get(i).showLabelById(t.id,this._editMode!="E");this.adjustContentsDimensions()},getValue:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)t.push(this.get(n).getStandardValue()[0]);return t},setValue:function(n){var t,u,f,r,e,i;for(this.setChangeStateFuncCallFlag(!1),t={},u="",r=0,e=this.controlList.length;r<e;r++)if((i=r,t=this.get(r),t.isReadOnly()?(f=!0,t.setReadOnly(!1)):f=!1,r!=1)&&(r>1&&i--,r==2&&$.isNull(n[i])&&(n[i]=0),!$.isNull(n[i]))){if((this._menuType=="S"||this._menuType=="U")&&t.controlType=="widget.label"){u=typeof n[i]=="object"?n[i].label:n[i];t.setLabel(u);this.setLabelListValue();this.setViewModeChange();continue}_.has(t,"codeType")?t.setStandardValue(n[i],!0):t.setStandardValue(n[i]);f&&t.setReadOnly(!0);this.setLabelListValue();this.setViewModeChange()}this.isFromSetValue=!0;this.toggleTaxType(null,n);this.setChangeStateFuncCallFlag(!0)},restore:function(n){var i,t,r;for(this.setChangeStateFuncCallFlag(!1),i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&this.get(t).controlType!="widget.label.combineView"&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this.setLabelListValue();this.setViewModeChange();this.toggleTaxType(null,i);this.setChangeStateFuncCallFlag(!0)}},taxTypeVn:{controlType:"widget.combine.taxTypeVn",renderMoldingFlag:!0,_editMode:"V",_menuType:"N",_invoiceType:1,_optionlist:{},_alwayDisplayControl:["trxType","combineView"],_viewModeWidget:["trxKind","applyType","targetInvoiceNo","adjType","invoiceForm","invoiceFormTxt","invoiceSerial","invoiceSerialTxt","invoiceNo","invoiceNoTxt","taxType","invoiceMethod","paymentMethod","reason","idIssue"],_hiddenPrevSelectedSerial:{},_invoiceTypeControl:{"1":{display:"all",except:["applyType","invoiceFormTxt","invoiceSerialTxt","invoiceNoTxt","idIssue"]},"2":{display:"all",except:["trxKind","invoiceSerial","invoiceNo","reason","targetInvoiceNo","adjType"]},"3":{display:"none",except:["taxType"]}},_invoiceKindControl:{N:{display:"all",except:["reason","targetInvoiceNo","adjType"]},A:{display:"all",except:[]},R:{display:"all",except:["adjType"]}},_invoiceFormControl:{"1":{display:"all",except:["invoiceMethod"]},"2":{display:"all",except:[]}},_mappingTarget:{trxType:"InvoiceType",trxKind:"InvoiceKind",applyType:"ApplyType",targetInvoiceNo:"InvoiceNoTarget",adjType:"AdjType",invoiceForm:"InvoiceForm",invoiceFormTxt:"InvoiceFormTxt",invoiceSerial:"InvoiceSerial",invoiceSerialTxt:"InvoiceSerialTxt",invoiceNo:"InvoiceNo",invoiceNoTxt:"InvoiceNoTxt",taxType:"TaxType",invoiceMethod:"InvoiceMethod",paymentMethod:"PaymentMethod",reason:"ReasonMsg",idIssue:"IdIssue"},controlIndex:{trxType:0,combineView:1,trxKind:2,applyType:3,targetInvoiceNo:4,adjType:5,invoiceForm:6,invoiceFormTxt:7,invoiceSerial:8,invoiceSerialTxt:9,invoiceNo:10,invoiceNoTxt:11,taxType:12,invoiceMethod:13,paymentMethod:14,reason:15,idIssue:16},_invoiceKindMapping:{A:ecount.resource.LBL21963,R:ecount.resource.LBL21964,N:ecount.resource.LBL21962},onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),i=ecount.resource,r=t._fixedSelectedValue[0],f,e;this._menuType=t.menuType;this._isCollectInvoice=t.isCollectInvoice;this._hiddenInvoiceKind=Object.keys(this._invoiceKindControl).contains(r[this._mappingTarget.trxKind])?r[this._mappingTarget.trxKind]:"N";this._hiddenTargetInvoiceNo=r[this._mappingTarget.targetInvoiceNo]||{value:"",label:""};this._hiddenPrevSelectedSerial[r[this._mappingTarget.invoiceForm]||"1"]=r[this._mappingTarget.invoiceSerial];this._optionlist.Form=this.initData.result.Data.InvoiceFormOption||[];this._optionlist.Serial=this.initData.result.Data.InvoiceSerialOption||{};r[this._mappingTarget.trxType]=this._menuType=="N"?r[this._mappingTarget.trxType]||ecount.config.company.VN_ECTAX_BASE_TYPE_CD||"1":r[this._mappingTarget.trxType]||"3";this._isCollectInvoice==!0?(f=ecount.config.company.VN_ECTAX_BASE_TYPE_CD||"1",f=="2"&&(f="1"),n.addControl(u.define("widget.radio","trxType","INVOICE_TYPE"+(t.rowKey||this.ecPageID)).setAddonTitle(i.LBL03519).setAddonOptions({css:"text-left"}).label([i.LBL03518,i.LBL16288]).value(["1","3"]).select(f).setChangeStateFuncName("toggleRadioTrxType").isUserNameSet().end())):n.addControl(u.define("widget.radio","trxType","INVOICE_TYPE"+(t.rowKey||this.ecPageID)).setAddonTitle(i.LBL03519).setAddonOptions({css:"text-left"}).label([i.LBL03518,i.LBL05853,i.LBL16288]).value(["1","2","3"]).select(r[this._mappingTarget.trxType]||"1").setChangeStateFuncName("toggleRadioTrxType").isUserNameSet().end());n.addControl(u.define("widget.label.combineView","combineView","combineView").userData(this._viewModeWidget).label(this._viewModeWidget.map(function(){return""})).setOptions({onClick:this.onViewModeClick.bind(this)}).end());n.addControl(u.define("widget.label","trxKind","INVOICE_KIND").setAddonTitle(i.LBL04853).setAddonOptions({css:"text-left"}).setChangeStateFuncName("toggleSelectTrxKind").value(this._invoiceKindMapping[this._hiddenInvoiceKind]).end());n.addControl(u.define("widget.select","applyType","APPLY_TYPE").setAddonTitle(i.LBL21972).setAddonOptions({css:"text-left"}).setChangeStateFuncName("toggleSelectApplyType").option([["1",i.LBL21973||"Ha n in t theo Ngh nh 123/2020/N-CP"],["2",i.LBL21974||"Ha n in t c m xc thc theo Ngh nh 51/2010/N-CP v Ngh nh 04/2014/N-CP"],["3",i.LBL21975||"Cc loi ha n khc theo Ngh nh 51/2010/N-CP v Ngh nh 04/2014/N-CP"],["4",i.LBL21976||"Ha n t in theo Ngh nh 123/2020/N-CP"]]).select(r[this._mappingTarget.applyType]||"1").end());n.addControl(u.define("widget.label","targetInvoiceNo","TARGET_INVOICE_NO").setAddonTitle(i.LBL21991).setAddonOptions({css:"text-left"}).value(this._hiddenTargetInvoiceNo.label).end());r[this._mappingTarget.adjType]=="IN"?n.addControl(u.define("widget.label","adjType","ADJ_TYPE").setAddonTitle(i.LBL21965).setAddonOptions({css:"text-left"}).value(i.LBL02355).end()):n.addControl(u.define("widget.radio","adjType","ADJ_TYPE"+(t.rowKey||this.ecPageID)).setAddonTitle(i.LBL21965).setAddonOptions({css:"text-left"}).label([i.LBL00013,i.LBL00279]).value(["IC","DC"]).select(r[this._mappingTarget.adjType]||"IC").isUserNameSet().end());e=(r[this._mappingTarget.trxType]||"1")=="2"&&(r[this._mappingTarget.applyType]||"1")!="1";n.addControl(u.define("widget.select","invoiceForm","INVOICE_FORM").setAddonTitle(i.LBL21966||"Invoice Form").setAddonOptions({css:"text-left"}).setChangeStateFuncName("toggleSelectInvoiceForm").option(this.initData.result.Data.InvoiceFormOption).select(r[this._mappingTarget.invoiceForm]||"1").hide(e).end());n.addControl(u.define("widget.input","invoiceFormTxt","INVOICE_FORM_TXT").setAddonTitle(i.LBL21966||"Invoice Form").maxLength(11).setAddonOptions({css:"text-left"}).value(r[this._mappingTarget.invoiceFormTxt]).hide(!e).end());n.addControl(u.define("widget.select","invoiceSerial","INVOICE_SERIAL").setAddonTitle(i.LBL21967).setAddonOptions({css:"text-left"}).option(this.getInvoiceSerialByInvoiceForm(r[this._mappingTarget.invoiceForm])).select(r[this._mappingTarget.invoiceSerial]||"").setChangeStateFuncName("toggleSelectInvoiceSerial").end());n.addControl(u.define("widget.input.codeType","invoiceSerialTxt","INVOICE_SERIAL_TXT").setAddonTitle(i.LBL21967).maxLength(8).setAddonOptions({css:"text-left"}).value(r[this._mappingTarget.invoiceSerialTxt]).end());n.addControl(u.define("widget.label","invoiceNo","INVOICE_NO").setAddonTitle(i.LBL17060).setAddonOptions({css:"text-left"}).value(r[this._mappingTarget.invoiceNo]).hide(_.isEmpty(r[this._mappingTarget.invoiceNo])).end());n.addControl(u.define("widget.input.digit","invoiceNoTxt","INVOICE_NO_TXT").setAddonTitle(i.LBL17060).maxLength(8).setAddonOptions({css:"text-left"}).value(r[this._mappingTarget.invoiceNoTxt]).end());n.addControl(u.define("widget.select.taxType","taxType","TAX_TYPE").setAddonTitle(i.LBL01355).defaultOptions({isAllAdd:!1,isAdd:!1}).select(r[this._mappingTarget.taxType]).end());n.addControl(u.define("widget.radio","invoiceMethod","INVOICE_MTHD"+(t.rowKey||this.ecPageID)).setAddonTitle(i.LBL21969||"Area").setAddonOptions({css:"text-left"}).label([i.LBL21970,i.LBL21971]).value(["1","0"]).select(r[this._mappingTarget.invoiceMethod]||"0").isUserNameSet().end());n.addControl(u.define("widget.select","paymentMethod","PAYMENT_MTHD").setAddonTitle(i.LBL02629).setAddonOptions({css:"text-left"}).option([["TM/CK",i.LBL21968],["TM",i.LBL03092],["CK",i.LBL20940],["CTCN",i.LBL18830]]).select(r[this._mappingTarget.paymentMethod]||"TM/CK").end());n.addControl(u.define("widget.textarea","reason","REASON_MSG").setAddonTitle(i.LBL01427).filter("maxbyte",{message:String.format(ecount.resource.MSG00957,255),max:255}).setAddonOptions({css:"text-left"}).value(r[this._mappingTarget.reason]||"1").end());n.addControl(u.define("widget.input","idIssue","ID_ISSUE").setAddonTitle(i.LBL22111).maxLength(34).setAddonOptions({css:"text-left"}).value(r[this._mappingTarget.idIssue]).end())},ON_CLICK:function(n){if(n&&n.cid=="combineView"){this.onViewModeClick(1);this.adjustContentsDimensions()}if(!this.isGridV3)return!1},onAfterRender:function(){this._editMode=="V";this.setLabelListValue(this.getViewModeControlByType(),!1);this.setViewModeChange()},toggleRadioTrxType:function(){(value=this.get(this.controlIndex.trxType).getValue(),value)&&(this._invoiceType=value,this._editMode=="V"?(this.setLabelListValue(this.getViewModeControlByType(),!0),this.setViewModeChange()):this.toggleSelectTrxKind("toggleRadioTrxType"))},toggleSelectTrxKind:function(n){var t=this._hiddenInvoiceKind;t&&(this.toggleSelectInvoiceForm(null),n!="toggleRadioTrxType"&&this.get(this.controlIndex.targetInvoiceNo).setValue(""))},toggleSelectInvoiceForm:function(){var n=this.get(this.controlIndex.invoiceForm).getValue(),t;n&&(t=this.get(this.controlIndex.invoiceSerial),t.removeOption(),t.addOption(this.getInvoiceSerialByInvoiceForm(n)),this._hiddenPrevSelectedSerial[n]&&t.setValue(this._hiddenPrevSelectedSerial[n]),this.displayControlByType())},toggleSelectApplyType:function(){this.displayControlByType()},toggleSelectInvoiceSerial:function(n){var t=this.get(this.controlIndex.invoiceForm).getValue();t&&n==null&&(this._hiddenPrevSelectedSerial[t]=this.get(this.controlIndex.invoiceSerial).getValue())},getInvoiceSerialByInvoiceForm:function(n){return this._optionlist&&this._optionlist.Serial&&this._optionlist.Serial.hasOwnProperty(n)?this._optionlist.Serial[n]:[]},onViewModeClick:function(n){this._editMode="E";this.setViewModeChange();this.get(n).setFocus(0)},setViewModeChange:function(){this._editMode=="V"?this.hideAllControls():(this.toggleRadioTrxType(null),this.get(this.controlIndex.combineView).hide())},getViewModeControlByType:function(){var u=[],f=[],t=[],i=this.get(this.controlIndex.trxType).getValue()||"3",n,r;if(this._invoiceTypeControl[i].display=="all")u=this._viewModeWidget.where(function(n){return!this._invoiceTypeControl[i].except.contains(n)}.bind(this));else return this._invoiceTypeControl[i].except;if(n=this._hiddenInvoiceKind,this._invoiceKindControl[n].display=="all")f=this._viewModeWidget.where(function(t){return!this._invoiceKindControl[n].except.contains(t)}.bind(this));else return this._invoiceKindControl[n].except;if(i=="2"){if(r=this.get(this.controlIndex.applyType).getValue(),t=this._viewModeWidget,["1","2"].contains(r)||(t=t.where(function(n){return!["idIssue"].contains(n)}.bind(this))),r!="1")t=t.where(function(n){return!["invoiceForm","invoiceMethod"].contains(n)}.bind(this));else if(n=this.get(this.controlIndex.invoiceForm).getValue(),n&&n!="undefined")if(this._invoiceFormControl[n].display=="all")t=t.where(function(t){return!this._invoiceFormControl[n].except.concat(["invoiceFormTxt"]).contains(t)}.bind(this));else return this._invoiceFormControl[n].except}else if(n=this.get(this.controlIndex.invoiceForm).getValue(),n&&n!="undefined")if(this._invoiceFormControl[n].display=="all")t=this._viewModeWidget.where(function(t){return!this._invoiceFormControl[n].except.contains(t)}.bind(this));else return this._invoiceFormControl[n].except;return _.intersection(u,f,t)},setLabelListValue:function(n,t){var f=this.controlIndex.combineView,u,i,r;if(n=n||this._viewModeWidget,t)for(u=0;u<this._viewModeWidget.length;u++)this.get(f).setValue("",this._viewModeWidget[u]);for(u=0;u<n.length;u++)if(i=n[u],this.showControlValidate(i)!=!1){r="";switch(i){case"trxType":case"adjType":case"invoiceMethod":r=this.get(this.controlIndex[i]).controlType=="widget.label"?this.get(this.controlIndex[i]).getValue():this.get(this.controlIndex[i]).getCheckedLabel();break;case"invoiceForm":case"invoiceSerial":case"taxType":case"paymentMethod":case"applyType":r=this.get(this.controlIndex[i]).getSelectedItem().label;break;default:r=this.get(this.controlIndex[i]).getValue()}_.isEmpty(r)||r=="undefined"?(r=this.get(this.controlIndex[i]).getAddonTitle(),this.get(f).setValue(r,i),this.get(f).addClass("label-muted",i),this.get(f).removeClass("label-light",i)):(this.get(f).removeClass("label-muted",i),this.get(f).addClass("label-light",i),this.get(f).setValue(r,i))}},displayControlByType:function(){this.hideAllControls();this.showControls(this.getViewModeControlByType());this.setAddOnTitleResize()},hideAllControls:function(n){n=n||[];n=this._alwayDisplayControl.concat(n);Object.keys(this.controlIndex).where(function(t){return!n.contains(t)}).forEach(function(n){this.get(this.controlIndex[n]).hide()}.bind(this))},showControls:function(n){n=n||[];n.forEach(function(n){this.showControlValidate(n)&&this.get(this.controlIndex[n]).show()}.bind(this))},getValue:function(){var i={},r,n,t;for(r in this._mappingTarget)n=this.get(this.controlIndex[r]),t=this._mappingTarget[r],n.controlType=="widget.select"&&typeof t=="object"?i[t[1]]=n.getStandardValue()[0]:i[t]=n.getStandardValue()[0];return[i]},setValue:function(n){var t=n[0],f,e,i,u;t.InvoiceFormOption&&(this._optionlist.Form=t.InvoiceFormOption,f=this.get(this.controlIndex.invoiceForm),f.removeOption(),f.addOption(this._optionlist.Form));t.InvoiceSerialOption&&(this._optionlist.Serial=t.InvoiceSerialOption,e=this.get(this.controlIndex.invoiceSerial),e.removeOption(),e.addOption(this.getInvoiceSerialByInvoiceForm(this.get(this.controlIndex.invoiceForm).getValue())));for(i in this._mappingTarget)if(t[this._mappingTarget[i]]!=undefined){var s=this.controlIndex[i],r=this.get(s),o=!1;r.isReadOnly()?(o=!0,r.setReadOnly(!1)):o=!1;switch(r.id){case"trxKind":u=this._invoiceKindMapping[this._hiddenInvoiceKind];break;case"targetInvoiceNo":u=this._hiddenTargetInvoiceNo.label;break;case"adjType":u=t[this._mappingTarget[i]]=="IN"?ecount.resource.LBL02355:t[this._mappingTarget[i]];break;default:u=t[this._mappingTarget[i]]}r.setStandardValue(u);o&&r.setReadOnly(!0)}this._editMode=="V"&&(this.setLabelListValue(this.getViewModeControlByType(),!0),this.setViewModeChange())},showControlValidate:function(n){var t=!0;switch(n){case"invoiceNo":this.get(this.controlIndex.invoiceNo).getValue()==""&&(t=!1)}return t},preChildShowError:function(){if(this._editMode=="V"){this.onViewModeClick(1);this.adjustContentsDimensions()}},serialize:function(){for(var i,n=[],t=0,r=this.controlList.length;t<r;t++)switch(this.controlList[t].id){case"trxType":n.push(this.controlList[t].serialize("INVOICE_TYPE"));break;case"invoiceMethod":n.push(this.controlList[t].serialize("INVOICE_MTHD"));break;case"trxKind":n.push({key:"INVOICE_KIND",value:this._hiddenInvoiceKind});break;case"targetInvoiceNo":n.push({key:"TARGET_INVOICE_NO",value:this._hiddenTargetInvoiceNo.value});break;case"adjType":this.controlList[t].controlType=="widget.label"?n.push({key:"ADJ_TYPE",value:"IN"}):n.push(this.controlList[t].serialize("ADJ_TYPE"));break;case"invoiceSerial":this.controlList[t].getValue()=="undefined"?n.push({key:"INVOICE_SERIAL",value:""}):n.push(this.controlList[t].serialize());break;default:i=this.controlList[t].serialize();$.isArray(i)?n=n.concat(i):n.push(i)}return n},restore:function(n){var i,t,r;for(this.setChangeStateFuncCallFlag(!1),i=[],t=0,r=this.controlList.length;t<r;t++)n[t]&&this.get(t).controlType!="widget.label.combineView"&&(this.controlList[t].restore(n[t].value),i.push(n[t].value));this.setLabelListValue(this.getViewModeControlByType(),!0);this.setViewModeChange();this.setChangeStateFuncCallFlag(!0)}},callbackInquiryStatus:{controlType:"widget.combine.callbackInquiryStatus",hideStandardValue:"",hideStandardValue2:"",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=t.id,f=t.name,h=t.data,s=t.selectOptions||[],e=t.selectValue||"",i;this.hideStandardValue=t.hideStandardValue||"";this.hideStandardValue2=t.hideStandardValue2||"";n.addControl(r.define("widget.select",u+"_select",f+"_select").setChangeStateFuncName("toggleSelect").option(s).select(e).setInlineIndex(0));i=r.define("widget.code.callbackInquiryMessageType",u+"_MessageType",f+"_MessageType").codeType(7).setAddonTitle("Message").setInlineIndex(1);this.hideStandardValue!==e&&i.hide();n.addControl(i);i=r.define("widget.checkbox",u+"_NotificationType",f+"_NotificationType").label(["SMS","Msg."]).value(["S","M"]).select(t.selectCheck).dataRules(["required"]).setAddonTitle("Notification").setInlineIndex(2);this.hideStandardValue!==e&&i.hide();n.addControl(i);i=r.define("widget.code.callbackInquiryMessageType",u+"_CancelType",f+"_CancelType").codeType(7).setAddonTitle("PIC Cancelation").setInlineIndex(3);this.hideStandardValue2!==e&&i.hide();n.addControl(i)},toggleSelect:function(){var n=this.get(0).getValue();n==this.hideStandardValue?(this.get(1).show(),this.get(2).show(),this.get(3).hide(),this.setFocus(1)):n==this.hideStandardValue2?(this.get(1).hide(),this.get(2).hide(),this.get(3).show(),this.setFocus(3)):(this.get(1).hide(),this.get(2).hide(),this.get(3).hide())},getValue:function(){for(var t,r=[],n=0,i=this.controlList.length;n<i;n++)t=this.get(n).getStandardValue(),r.push(t.length>1?t:t[0]);return r},setValue:function(n){for(var t=0,i=this.controlList.length;t<i;t++)this.get(t).setStandardValue(n[t])}},projectionInputType:{controlType:"widget.combine.projectionInputType",_setDefaultPlaceholder:!1,onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,o=t.data;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL01906,i.LBL01826]).value([0,1]).select(0).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.code.bankAccount",u+"_bankAccount",f+"_bankAccount").setPlaceHolder(i.LBL00504).setInlineIndex(1))},toggleDisplay:function(n){var t=this.get(this.id+"_bankAccount");t[+n==0?"show":"hide"]()}},planStatementStateType:{controlType:"widget.combine.planStatementStateType",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL03123,i.LBL17452]).value(["0","1"]).select("1").setChangeStateFuncName("toggleRadio").setInlineIndex(0));n.addControl(r.define("widget.multiDate",u+"_multiDate",f+"_multiDate").setAddonTitle(i.LBL00847).hide().setInlineIndex(1).useSlipDate(!1))},toggleRadio:function(){var n=this.get(0).getValue();this.hideAll();this.get(0).show();switch(n){case"0":this.get(1).show();break;case"1":this.get(1).hide()}},getValue:function(){return[this.get(0).getValue(),this.get(1).getDate()]},setValue:function(n){this.get(0).setStandardValue(n[0]);this.get(1).setStandardValue(n[1])},getDateControl:function(){return this.get(1)}},depositWithdrawType:{controlType:"widget.combine.depositWithdrawType",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),i=ecount.resource,f=t.id,e=t.name,r;n.addControl(u.define("widget.radio",f+"_radio",e+"_radio").label([i.LBL08019,i.LBL02829,i.LBL08775]).value(["0","1","2"]).select("0").setChangeStateFuncName("toggleRadio").setInlineIndex(0));r=u.define("widget.checkbox.whole",f+"_inputType",e+"_inputType").setAddonTitle(i.LBL09409).label([i.LBL08019,i.LBL02291,i.LBL01685,i.LBL04713,i.LBL01826,i.LBL02739,i.LBL02740]).value(["all","1","2","3","4","5","6"]).setInlineIndex(1).setChangeStateFuncName("toggleCheckBox");this.isPlan?r.select("1","2","3"):r.select("all","1","2","3","4","5","6");n.addControl(r);n.addControl(u.define("widget.radio.withDivider",f+"_radio_02",e+"_radio_02").setAddonTitle(i.LBL17924).label([i.LBL08019,i.LBL01906,i.LBL01826]).value(["all","C","H"]).select("all").setInlineIndex(2))},toggleRadio:function(){function i(t){switch(t){case"0":n.get(1).setValue(["1","2","3"],!0);n.get(2).show();break;case"1":n.get(1).setValue(["1","3"],!0);n.get(1).setReadOnly(!0,["2","5"]);n.get(2).show();break;case"2":n.get(1).setValue(["1","2"],!0);n.get(1).setReadOnly(!0,["3","6"]);n.get(2).show()}}function r(t){switch(t){case"0":n.get(2).show();break;case"1":n.get(1).setValue(["2","5"],!1);n.get(1).setReadOnly(!0,["2","5"]);n.get(2).show();break;case"2":n.get(1).setValue(["3","6"],!1);n.get(1).setReadOnly(!0,["3","6"]);n.get(2).show()}}var t=this.get(0).getValue(),n=this;this.get(1).setReadOnly(!1);this.isPlan?(this.get(1).setCheckedAll(!1),i(t)):(this.get(1).setCheckedAll(!0),r(t))},toggleCheckBox:function(){var n=this.get(1).isCheckedAll(),t=this.get(0).getValue(),i=this.get(1).getCheckedValue(),r=this.checkValue(i);if(n)switch(t){case"1":this.get(1).setReadOnly(!1,["2","5"]);this.get(1).setValue(["2","5"],!1);this.get(1).setReadOnly(!0,["2","5"]);break;case"2":this.get(1).setReadOnly(!1,["3","6"]);this.get(1).setValue(["3","6"],!1);this.get(1).setReadOnly(!0,["3","6"])}r?this.get(2).show():this.get(2).hide()},checkValue:function(n){var r=["1","2","3"],i=!1,t;if(n&&n.length>0)for(t=0;t<n.length;t++)if(r.contains(n[t])){i=!0;break}return i},getValue:function(){return[this.get(0).getValue(),this.get(1).getCheckedValue()]},setValue:function(n){this.get(0).setValue(n[0]);this.get(1).setValue(n[1][0],n[1][1])}},adaptationValue:{controlType:"widget.combine.adaptationValue",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),r=ecount.resource,u=t.id,f=t.name,o=t.data;n.addControl(i.define("widget.code.account",u+"_accountCode",f+"accountCode").setAddonTitle(r.LBL00475).codeType(7).dataRules(["required"]));n.addControl(i.define("widget.code.cust",u+"_custCode",f+"_custCode").setAddonTitle(r.LBL00174).codeType(7).dataRules(["required"]))}},displayType:{controlType:"widget.combine.displayType",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,o=t.data;n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label([i.LBL11417,i.LBL16403,i.LBL16404]).value(["1","2","3"]).select("1").setAddonTitle(i.LBL11071));n.addControl(r.define("widget.code.codeTypeCommonAddField",u+"_codeTypeCommonAddField",f+"codeTypeCommonAddField").codeType(7).dataRules(["required"]))}},autoSet_Date:{controlType:"widget.combine.autoSet_Date",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,s=t.data,h=t.numericOnly&&t.numericOnly,o=[["Before",i.LBL17024],["After",i.LBL17025],["Within",i.LBL17026]];n.addControl(r.define("widget.radio",u+"_RADIO",f+"_RADIO").label([i.LBL03589,i.LBL17957,i.LBL17956]).value(["1","2","3"]).select("2").setChangeStateFuncName("toggleRadio").setInlineIndex(0));n.addControl(r.define("widget.multiDate",u+"_MULTIDATE",f+"_MULTIDATE").setInlineIndex(1));n.addControl(r.define("widget.input.digit",u+"_INPUT",f+"_INPUT").setOptions({isNotChangeWidth:!0}).hide().maxLength(3).setInlineIndex(2));n.addControl(r.define("widget.select",u+"_SELECT",f+"_SELECT").noneFlex(!0).hide().option(o).setInlineIndex(2))},toggleRadio:function(){var n=this.get(0).getValue();switch(n){case"2":this.get(1).show();this.get(2).hide();this.get(3).hide();break;case"3":this.get(1).hide();this.get(2).show();this.get(3).show();break;default:this.get(1).hide();this.get(2).hide();this.get(3).hide()}}},autoSet_String:{controlType:"widget.combine.autoSet_String",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),o=ecount.resource,u=t.id,f=t.name,c=t.data,e=t.numericOnly&&t.numericOnly,h=[["Contain",o.LBL03755],["NotContain",o.LBL04294]],i;e&&e.totLen?(i=r.define("widget.input.digit",u+"_INPUT",f+"_INPUT"),i.maxLength(e.totLen)):i=r.define("widget.input",u+"_INPUT",f+"_INPUT");i.setOptions({isNotChangeWidth:!0}).setInlineIndex(0).setContainsType("search");n.addControl(i);n.addControl(r.define("widget.select",u+"_SELECT",f+"_SELECT").inline().option(h).noneFlex(!0).setInlineIndex(0))}},autoSet_Number:{controlType:"widget.combine.autoSet_Number",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),o=ecount.resource,u=t.id,f=t.name,s=t.data,i=t.numericOnly?t.numericOnly:i={totLen:18,decimalLen:2,msg:o.MSG04553,isRequired:!0,isPositiveInteger:!0};n.addControl(r.define("widget.select",u+"_SELECT",f+"_SELECT").inline().option([["=","="],["<>","<>"],[">",">"],[">=",">="],["<","<"],["<=","<="],["Between","~"]]).noneFlex(!0).setChangeStateFuncName("toggleSelect").setInlineIndex(1));n.addControl(r.define("widget.input",u+"_FRONTINPUT",f+"_FRONTINPUT").numericOnly(i.totLen,i.decimalLen,i.msg,i.isRequired,i.isPositiveInteger).setOptions({isNotChangeWidth:!0}).setInlineIndex(1));n.addControl(r.define("widget.label",u+"_LABEL",f+"_LABEL").hide().label("~").noneFlex(!0).setInlineIndex(1));n.addControl(r.define("widget.input",u+"_ENDINPUT",f+"_ENDINPUT").hide().numericOnly(i.totLen,i.decimalLen,i.msg,i.isRequired,i.isPositiveInteger).setOptions({isNotChangeWidth:!0}).setInlineIndex(1))},toggleSelect:function(){var n=this.get(0).getSelectedItem();switch(n.label){case"~":this.get(2).show();this.get(3).show();this.get(3).setDataRules(["required"]);break;default:this.get(2).hide();this.get(3).hide();this.get(3).setDataRules([])}}},salesOrderSearchType:{controlType:"widget.combine.salesOrderSearchType",_calendarTypeValue:"",onInitChildControl:function(n,t){var c=widget.generator,e=c.control(),f=ecount.resource,o=t.id,s=t.name,r=t.data||[],i={label:[f.LBL03311,f.LBL09363],value:[0,1]},u=t.dateType,h=function(n,t){return t};t._calendarTypeValue&&(this._calendarTypeValue=t._calendarTypeValue);!$.isEmpty(r)&&$.isArray(r)&&(i.label=r.map(function(n){return n.label}),i.value=r.map(function(n){return n.value}),$.isEmpty(i.value)&&(i.value=i.label.map(h)));n.addControl(e.define("widget.radio",o+"_type",s+"_type").label(i.label).value(i.value).select(0).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));$.isEmpty(u)||n.addControl(e.define("widget.radio",o+"_dateType",s+"_dateType").setAddonTitle(f.LBL12051).label(u.label).value(u.value||u.label.map(h)).select(0).hide().setInlineIndex(1))},toggleDisplay:function(n){var t=this.get(1);t&&t[n===this._calendarTypeValue?"show":"hide"]()}},searchMethod:{controlType:"widget.combine.searchMethod",onInitChildControl:function(n,t){var e=widget.generator,u=e.control(),s=t.id,h=t.name,c=t.data,i=ecount.resource,o=t.setRadioSelect,f=t.searchMethodValue,r;this.isSetHide=t.isSetHide;r=u.define("widget.select","searchMethod","SEARCH_METHOD",i.LBL09420).option([["S",i.LBL09421],["A",i.LBL09422],["P",i.LBL09423]]).setChangeStateFuncName("toggleSelect").select(f||"S").setInlineIndex(0);n.addControl(r);r=u.define("widget.radio","hgrkAcBasicCd","HGRK_AC_BASIC_CD").label([i.LBL02433,i.LBL01731]).value(["F","O"]).select(o||"F").setInlineIndex(1);(this.isSetHide||f==="S")&&r.hide();n.addControl(r)},toggleSelect:function(){if(this.isSetHide)return!1;var n=this.get(0).getValue();n==="A"||n==="P"?this.get(1).show():this.get(1).hide()}},inventorySeqNoWMS:{controlType:"widget.combine.inventorySeqNoWMS",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,e=t.name,s=t.data,h=t.aaaa,i=ecount.resource,r;r=u.define("widget.radio",f+"_radio_01",e+"_radio_01").label([i.LBL05716,i.LBL03311]).value(["D","P"]).select("D").setChangeStateFuncName("toggleRadio").setInlineIndex(0);n.addControl(r);r=u.define("widget.input.digit",f+"_input_",e+"_input_").setAddonTitle(i.LBL17717).filter("max",{message:i.MSG09474,max:100}).setInlineIndex(1);n.addControl(r);r=u.define("widget.radio",f+"_radio_02",e+"_radio_02").label([i.LBL05716,i.LBL03254]).value(["D","A"]).select("D").setChangeStateFuncName("toggleRadio").setAddonTitle(i.LBL17718).setInlineIndex(2);n.addControl(r);r=u.define("widget.multiCode.invtSeqNoWMS",f+"_multiCode_",e+"_multiCode_").setAddonTitle(i.LBL16435).setInlineIndex(3);n.addControl(r);r=u.define("widget.radio",f+"_radio_03",e+"_radio_03").label([i.LBL03254,i.LBL17719]).value(["A","L"]).select("A").setChangeStateFuncName("toggleRadio").setAddonTitle(i.LBL17718).setInlineIndex(4).hide();n.addControl(r);r=u.define("widget.code.locationWMS",f+"_code_",e+"_code_").codeType(7).setAddonTitle(i.LBL16834).setInlineIndex(5).hide();n.addControl(r)},toggleRadio:function(){var n=this.get(0).getValue(),t=this.get(2).getValue(),i=this.get(4).getValue();n==="D"?(this.get(1).show(),this.get(2).show(),this.get(3).show(),this.get(4).hide(),this.get(5).hide(),t==="D"?(this.get(3).show(),this.get(5).hide()):(this.get(3).hide(),this.get(5).show())):(this.get(1).hide(),this.get(2).hide(),this.get(3).hide(),this.get(4).show(),this.get(5).show(),i==="A"?this.get(5).show():this.get(5).hide())}},accountStatement:{controlType:"widget.combine.accountStatement",onInitChildControl:function(n,t){var e=widget.generator,u=e.control(),f=t.id,o=t.name,s=t.data,r=ecount.resource,i;this.isNotUsed=t.isNotUsed;i=u.define("widget.radio","ACCOUNT_TYPE","ACCOUNT_TYPE").label([r.LBL05470,r.LBL03582]).value(["S","P"]).select("S").setChangeStateFuncName("toggleRadio").setInlineIndex(0);n.addControl(i);i=u.define("widget.radio","PARENT_TYPE","PARENT_TYPE").label([r.LBL02433,r.LBL01731]).value(["F","O"]).select("F").setAddonTitle(r.LBL00703).hide().setInlineIndex(1);this.isNotUsed&&i.hide();n.addControl(i);i=u.define("widget.multiCode.account",f+"_multiCode_01","SUB_ACCOUNT").setAddonTitle(r.LBL00475).setInlineIndex(2);n.addControl(i);i=u.define("widget.code.accountParent",f+"_code_01","PARENT_ACCOUNT").codeType(7).dataRules(["required"]).setAddonTitle(r.LBL00475).hide().setInlineIndex(3);n.addControl(i)},toggleRadio:function(){var n=this.get(0).getValue();n==="S"?(this.get(1).hide(),this.get(2).show(),this.setFocus(2),this.get(3).hide()):(this.isNotUsed||this.get(1).show(),this.get(2).hide(),this.get(3).show(),this.setFocus(3))}},costCreation:{controlType:"widget.combine.costCreation",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=t.id,f=t.name,s=t.data,e=ecount.resource,i;i=r.define("widget.radio",u+"_radio_01",f+"_radio_01").label([e.BTN00425,e.LBL18040]).value(["A","P"]).select("A").setChangeStateFuncName("toggleRadio").setInlineIndex(0);n.addControl(i);i=r.define("widget.multiCode.processCode",u+"_multiCode_01",f+"_multiCode_01").setInlineIndex(1).hide();n.addControl(i)},toggleRadio:function(){var n=this.get(0).getValue();n==="A"?this.get(1).hide():this.get(1).show()}},radioTypeTime:{controlType:"widget.combine.radioTypeTime",onInitChildControl:function(n,t){var e=widget.generator,i=e.control(),r=t.id,u=t.name,o=t.data,f=ecount.resource;n.addControl(i.define("widget.radio",r+"_radio_1",u+"_radio_1").label([f.LBL17693,f.LBL17694]).value(["1","2"]).select("1").setChangeStateFuncName("toggleRadio").setInlineIndex(0));n.addControl(i.define("widget.date",r+"_date_1",u+"_date_1").setAddonTitle("").setInlineIndex(1).setOptions({_isTime:!0,_hideDateButton:!0,_isOnlyUseTime:!0}));n.addControl(i.define("widget.date",r+"_date_2",u+"_date_2").setAddonTitle("").hide().noneFlex(!0).setInlineIndex(2).setOptions({_isTime:!0,_hideDateButton:!0,_isOnlyUseTime:!0,_isTimeRange:!0,isNotChangeWidth:!0}));this.setCutInControlsTag([{index:2,value:""}]);n.addControl(i.define("widget.select",r+"_select_1",u+"_select_1").noneFlex(!0).setInlineIndex(2).hide().option([["00",f.LBL80272],["01",f.LBL17695]]).select("00"))},toggleRadio:function(){var n=this.get(0).getValue();n==="1"?(this.get(1).show(),this.get(2).hide(),this.get(3).hide()):(this.get(1).hide(),this.get(2).show(),this.get(3).show())}},gridRadioLink:{controlType:"widget.combine.gridRadioLink",onInitChildControl:function(n,t){var s=widget.generator,r=s.control(),u=ecount.resource,f=t.id,e=t.name,o=t.isSetLabel,h=t.isSetCss,c=t.isSetLinkLabel,i;i=r.define("widget.radio",f+"_radio",e+"_radio").label([u.LBL06247,u.LBL09235]).value(["D","N"]).select("D").setChangeStateFuncName("toggleRadio").setInlineIndex(0);n.addControl(i);i=r.define("widget.link",f+"_link",e+"_link").label(c||u.BTN00168).setOptions({wrapperCss:"ellipsis"}).css(h||"").setInlineIndex(1);i.hide();n.addControl(i);i=r.define("widget.label",f+"_label",e+"_label").setOptions({wrapperCss:"ellipsis"}).setInlineIndex(2);o&&i.label(o);n.addControl(i)},toggleRadio:function(){var n=this.get(0).getValue();n==="D"?(this.get(1).hide(0),this.get(2).show(0)):(this.get(1).show(0),this.get(2).hide(0))},setValue:function(n){n&&this.setStandardValue(n)},setStandardValue:function(n){var r=n[1][0],t=n[1][1]&&n[1][1].FUNC,i=n[1][1]&&n[1][1].CLASS;t==undefined&&(t=n[1][1]&&n[1][1].func);i==undefined&&(i=n[1][1]&&n[1][1].class);n[0]&&this.get(0).setValue(n[0]);r&&(this.setLinkLabel(r),t==="add"?this.addLinkClass(i):t==="remove"&&this.removeLinkClass(i));n[2]&&this.setLabel(n[2])},setLinkLabel:function(n){this.get(1).setLabel(n)},getLinkLabel:function(){return this.get(1).getState(0,"label")},setLabel:function(n){this.get(2).setLabel(n)},getLabel:function(){return this.get(2).getLabel()},addLinkClass:function(n){this.get(1).changeCss(this.get(1)._addClass(n))},removeLinkClass:function(n){this.get(1).changeCss(this.get(1)._removeClass(n))},getValue:function(){return[this.get(0).getValue(),this.get(1).getState(0,"label"),this.get(2).getLabel()]},executeChangeDelegator:function(n){n===undefined?n={}:n;n.type="button.click";n.command="on"+["gridRadioLink"].select(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join("");ecount.control.prototype.executeChangeDelegator.call(this,n)},ON_CLICK:function(n,t,i){i&&i.id.indexOf("_link")!=-1&&this.executeChangeDelegator()},setReadOnly:function(n,t){var f=$.isNull(t),i,u,r;if($.isBoolean(n)||(n=!0),f)for(i=0,u=this.controlList.length;i<u;i++)r=this.get(i),r&&r.setReadOnly(n);else for($.isArray(t)||(t=[t]),i=0,u=t.length;i<u;i++)r=this.get(t[i]),r&&r.setReadOnly(n)}},labelWidgetLink:{controlType:"widget.combine.labelWidgetLink",wllOptoins:null,showIndex:0,onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,f=t.name,o=t.data,i;this.wllOptions=t.wllOptions;this.wllOptions.map(function(n,t){n.show===!0&&(this.showIndex=t)},this);n.addControl(r.define("widget.label",u+"_label",f+"_label").label(this.wllOptions[0].label||"").setInlineIndex(0));i=this.wllOptions[1];n.addControl(i.setInlineIndex(1));i=r.define("widget.link",u+"_link",f+"_link").label(this.wllOptions[2].label||ecount.resource.BTN00026).setOptions(this._getFormTableIndex(t,t.originControlID,"test")).setInlineIndex(2);i.setOptions({_makeCommand:"hahaha"});n.addControl(i)},showControl:function(n){this.showIndex=n===null||n===undefined?this.showIndex:Number(n);this.get(this.showIndex).show();for(var t=0;t<this.controlList.length;t++)t!==this.showIndex&&this.get(t).hide()},onAfterRender:function(){this.showControl()},executeChangeDelegator:function(n){n.type="button.click";n.command="on"+[this.containerName,"labelWidgetLink"].select(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join("");ecount.control.prototype.executeChangeDelegator.call(this,n)},ON_CLICK:function(n){n.cid==this.id+"_link"&&this.executeChangeDelegator({id:n.id,cid:n.cid,pcid:n.pcid,text:n.text,oType:n.oType})},ON_KEYDOWN_ENTER:function(n,t,i){if(i){var r={cid:i.id,pcid:this.id,__self:this,targetID:i.id,isCombine:!0};this.delegator&&this.delegator.triggerEvent("control.change",r)}}},siteCodeKCP:{controlType:"widget.combine.siteCodeKCP",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=t.id,f=t.name,e=ecount.resource,i;this.siteCodeList=t.siteCodeList!==undefined?$.isArray(t.siteCodeList)?t.siteCodeList:[t.siteCodeList]:[];i=r.define("widget.code.pgCodebyNation",u+"_select_1",f+"_select_1").codeType(7).singleCell().setChangeStateFuncName("toggleValue");n.addControl(i);i=r.define("widget.button",u+"_button_1",f+"_button_1").label(e.LBL02263).setAddonTitle(e.LBL18078).setInlineIndex(1).hide();n.addControl(i)},toggleValue:function(){for(var t=this.get(0).getSelectedCode(),i=this.siteCodeList.length,n=0;n<i;n++)if(t==this.siteCodeList[n]){this.get(1).show();break}else this.get(1).hide()}},accountUserWMS:{controlType:"widget.combine.accountUserWMS",onInitChildControl:function(n,t){var o=widget.generator,r=o.control(),u=t.id,f=t.name,h=t.data,s=t._fixedSelectedValue,e=ecount.resource,i=r.define("widget.radio",u+"_radio_1",f+"_radio_1").label([e.LBL02475,e.LBL09092]).value(["0","1"]).setInlineIndex(0).setChangeStateFuncName("toggleRadio");s==undefined&&i.select("1");n.addControl(i);i=r.define("widget.multiCode.user",u+"_multiCode_1",f+"_multiCode_1").setInlineIndex(1).dataRules(["required"]);n.addControl(i)},toggleRadio:function(){var n=this.get(0).getValue(),t=n=="1";this.get(1)[t?"show":"hide"]()}},labelCheckbox:{controlType:"widget.combine.labelCheckbox",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,e=t.name,s=t.data,i=t.isOptions||[],h=ecount.resource,r=u.define("widget.label",f+"_label_1",e+"_label_1").label(i[0]).setInlineIndex(0);n.addControl(r);r=u.define("widget.checkbox",f+"_checkbox_1",e+"_checkbox_1").value(i[1]).select(i[2]).setAddonTitle(i[3]).noneFlex(!0).setInlineIndex(0);n.addControl(r)}},dateSearchType:{controlType:"widget.combine.dateSearchType",onInitChildControl:function(n,t){var y=widget.generator,r=y.control(),i=ecount.resource,u=t.id,p=t.name,rt=t.data,w=t.targetList,b=$.isEmpty(t.isTargetUse)?!0:t.isTargetUse,k=$.isEmpty(t.isCompareUse)?!0:t.isCompareUse,d=t.compareResxList||[i.LBL03589,i.LBL08411,i.LBL08412,i.LBL08413,i.LBL08414],g=t.titleResxList||[i.LBL14818,i.LBL14819,i.LBL14820,i.LBL14821,i.LBL14822],nt=t.defaultOtherChkValue,tt=t.defaultCompareValue,it=t.defaultConditionList?this.setOrders(t.defaultConditionList):[["0","none"]],f=t._tempOptions&&t._tempOptions.label||[i.LBL00909],e=t._tempOptions&&t._tempOptions.value||["1"],o=t._tempOptions&&t._tempOptions.selected,h=t._subOptions&&t._subOptions.label||[i.LBL02191,i.LBL02056,i.LBL09363,i.LBL03312,i.LBL03311,i.LBL05305,i.LBL00363,i.LBL09605],s=t._subOptions&&t._subOptions.value||["1","2","3","4","5","6","7","8"],v=t._subOptions&&t._subOptions.selected,c=null,l=null,a=null;this.isSingleDate=t.isSingleDate||!1;t.useUserCustomizeSummary&&!f.contains(i.LBL02692)&&(f.push(i.LBL02692),e.push("9"));t.useCustEmailSend&&(h.push(i.LBL18982),s.push("10"));c=r.define("widget.radio",u+"_tempType","VIEW_TYPE").label(f).value(e).setChangeStateFuncName("toggleDisplay").select(o||e[0]);f.length==1&&c.hide();n.addControl(c);l=h.length<6?r.define("widget.radio",u+"_radio","SUM_FLAG").label(h).value(s).setChangeStateFuncName("toggleDisplay").select(v||s[2]):r.define("widget.select",u+"_radio","SUM_FLAG").option(this.makeSelectOptions(s,h)).setChangeStateFuncName("toggleDisplay").select(v||s[2]);o&&o!=e[0]&&l.hide();n.addControl(l);this.isSingleDate?(n.addControl(r.define("widget.date",u+"_date","BASE_DATE")),n.addControl(r.define("widget.date",u+"_date_ym","BASE_DATE").setOptions({_isMonthCalendar:!1}).hide())):(n.addControl(r.define("widget.multiDate",u+"_date","BASE_DATE")),n.addControl(r.define("widget.multiDate",u+"_date_ym","BASE_DATE").setOptions({_isMonthCalendar:!1}).hide()),n.addControl(r.define("widget.date",u+"_date_single","BASE_DATE").hide()));f.contains(i.LBL02692)&&(a=r.define("widget.combine.userAggregate",u+"_userAggregate",p+"_userAggregate").setOptions({targetList:w,isTargetUse:b,isCompareUse:k,compareResxList:d,titleResxList:g,defaultOtherChkValue:nt,defaultCompareValue:tt,defaultConditionList:it}),o&&o==e[1]||a.hide(),n.addControl(a))},toggleDisplay:function(){var u=this.id,n=this.get(0).getValue(),t=this.getValueOrigin(0),f=this.getSumFlagValue()||{},i=this.get(4).hide(),r=this.get(u+"_userAggregate"),e=this.controlList.slice(1,this.controlList.length);if(e.forEach(function(n){n.hide()}),n==t[0]){this.get(1).show();switch(f.label){case ecount.resource.LBL02056:this.get(3).show();break;case"12":case"22":i&&i.show();break;default:this.get(2).show()}}else n==t[1]?(this.get(2).show(),r&&r.show()):this.get(2).show();this.adjustDimensions()},getSumFlagWithType:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0),i=this.getSumFlagValue()||{};return n==t[0]?i.value:n},getValue:function(){var n=[],i=this.get(0).getValue(),t=this.getValueOrigin(0),r=this.getSumFlagValue()||{},u=this.get(this.id+"_userAggregate");n.push(i);n.push(r.value);switch(i){case t[0]:switch(r.label){case ecount.resource.LBL02056:n.push(this.get(3).getDate());break;default:n.push(this.get(2).getDate())}break;case t[1]:n.push(this.get(2).getDate());n.push(u.getStandardValue());break;case t[2]:n.push(this.get(2).getDate())}return n},getSumFlagValue:function(){var n={},t=this.isNewType?this.get(0):this.get(1);return t.controlType=="widget.radio"?(n.value=t.getValue(),n.label=t.getCheckedLabel()):n=t.getSelectedItem()||{},n},setValue:function(n){var t=this.get(this.id+"_userAggregate");this.get(0).setStandardValue(n[0]);this.get(1).setStandardValue(n[1]);this.get(2).setStandardValue(n[2]);n.length>3?t?(this.get(3).setStandardValue(n[2]),t.setStandardValue(n[3])):this.get(3).setStandardValue(n[3]):this.get(3).setStandardValue(n[2])},getDateControl:function(){var i=this.get(0).getValue(),r=this.getValueOrigin(0),t=this.get(1),n={};return t.controlType=="widget.select"?n=this.get(1).getSelectedItem()||{}:t.controlType=="widget.radio"&&(n={label:this.get(1).getCheckedLabel()}),i==r[0]&&n.label==ecount.resource.LBL02056?this.get(3):this.get(2)},serialize:function(){var n=[],i=this.get(0).getValue(),r=this.getValueOrigin(0),e=this.get(1),u=this.getSumFlagValue()||{},f=this.get(this.id+"_userAggregate"),t;return n.push(this.get(0).serialize()),n.push(this.get(1).serialize()),i==r[0]&&u.label==ecount.resource.LBL02056?(t=this.get(3).serialize(),t[0].value=t[0].value.substr(0,6)+"01",t[1].value=new Date(this.get(3).getStandardValue()[1].getFullYear(),this.get(3).getStandardValue()[1].getMonth()+1,0).format("yyyyMMdd"),n=n.concat(t)):n=n.concat(this.get(2).serialize()),f&&(n=n.concat(this.controlList.find(function(n){return n.id==this.id+"_userAggregate"},this).serialize())),n},getSelectOption:function(n){var t=this.get(this.id+"_userAggregate");return t&&t.getSelectOption(n)},setSelectOption:function(n,t,i){var r=this.get(this.id+"_userAggregate");r&&r.setSelectOption(n,t,i)},save:function(){for(var n=[],r=this.id+"_userAggregate",t,i=0;i<this.controlList.length;i++)t=this.controlList[i],t.id===r?n=n.concat(t.save().value):n.push(t.save());return{key:this.id,value:n}},restore:function(n){if(n&&$.isArray(n)){for(var t=Object.clone(n,!0),f,i,r,u=0;u<this.controlList.length;u++)i=this.controlList[u],r=t.find(function(n){return n.key===i.id}),i.id===this.id+"_userAggregate"?f=i:r&&(t.splice(t.findIndex(function(n){return n.key===r.key}),1),i.restore(r.value));!$.isEmpty(t)&&f&&f.restore(t)}}},noDateSearchType:{controlType:"widget.combine.noDateSearchType",initializeOptions:function(n){this.useUserCustomizeSummary=n.useUserCustomizeSummary},onInitChildControl:function(n,t){var st=widget.generator,r=st.control(),i=ecount.resource,f=t.id,p=t.name,ct=t.data,d=t.targetList,g=$.isEmpty(t.isTargetUse)?!0:t.isTargetUse,ht=$.isEmpty(t.isCompareUse)?!0:t.isCompareUse,w=t.compareResxList||[i.LBL03589,i.LBL08411,i.LBL08412,i.LBL08413,i.LBL08414],nt=t.titleResxList||[i.LBL14818,i.LBL14819,i.LBL14820,i.LBL14821,i.LBL14822],tt=t.defaultOtherChkValue,b=t.defaultCompareValue,it=t.defaultConditionList?this.setOrders(t.defaultConditionList):[["0","none"]],o=t.isUseSaleType||!1,rt=t.isUseToggleBtn||!1,ut=t.isDifferenceUse||!1,ft=$.isEmpty(t.isUseEct)?!0:t.isUseEct,s=t._tempOptions&&t._tempOptions.label||[i.LBL00909],e=t._tempOptions&&t._tempOptions.value||["1"],u=t._tempOptions&&t._tempOptions.selected,a=t._subOptions&&t._subOptions.label||[i.LBL02191,i.LBL02056,i.LBL09363,i.LBL03312,i.LBL03311,i.LBL05305,i.LBL00363,i.LBL09605],h=t._subOptions&&t._subOptions.value||["1","2","3","4","5","6","7","8"],y=t._subOptions&&t._subOptions.selected,et=!1,ot=!1,c=null,v=null,l=null,k;this.isNewType=t.isNewType||!1;t.useUserCustomizeSummary&&!s.contains(i.LBL02692)&&(s.push(i.LBL02692),e.push("9"));t.useCustEmailSend&&(a.push(i.LBL18982),h.push("10"));this.isNewType===!0?(o||(c=r.define("widget.radio",f+"_tempType","VIEW_TYPE").label(s).value(e).setChangeStateFuncName("toggleDisplay").select(u||e[0]),s.length==1&&c.hide(),n.addControl(c)),v=r.define("widget.select",f+"_radio","SUM_FLAG").option(this.makeSelectOptions(h,a)).setChangeStateFuncName("toggleDisplay").select(y||h[2]),u=="9"?(v.hide(),et=!0):y=="10"&&(ot=!0)):(o||(c=r.define("widget.radio",f+"_tempType","VIEW_TYPE").label(s).value(e).setChangeStateFuncName("toggleDisplay").select(u||e[0]),s.length==1&&c.hide(),n.addControl(c)),v=a.length<6?r.define("widget.radio",f+"_radio","SUM_FLAG").label(a).value(h).setChangeStateFuncName("toggleDisplay").select(y||h[2]):r.define("widget.select",f+"_radio","SUM_FLAG").option(this.makeSelectOptions(h,a)).setChangeStateFuncName("toggleDisplay").select(y||h[2]));(u&&u!=e[0]||o)&&v.hide();n.addControl(v);s.contains(i.LBL02692)&&(this.isNewType?(l=r.define("widget.combine.userAggregate",f+"_userAggregate",p+"_userAggregate").setOptions({targetList:d,isTargetUse:g,isCompareUse:!1,titleResxList:nt,defaultOtherChkValue:tt,defaultCompareValue:b,defaultConditionList:it,isUseSaleType:o,isDifferenceUse:ut,isUseToggleBtn:rt,isNewType:this.isNewType,isUseEct:ft}),u&&u==e[1]||o||et||l.hide(),n.addControl(l),k=r.addControl(r.define("widget.radio",f+"_comparePeriod",p+"_comparePeriod").setAddonTitle(i.LBL00389).label(w||[i.LBL03589,i.LBL08411,i.LBL08412,i.LBL08413,i.LBL08414]).value(w.map(function(n,t){return t})).select(b)),ot&&k.hide(),n.addControl(k)):(l=r.define("widget.combine.userAggregate",f+"_userAggregate",p+"_userAggregate").setOptions({targetList:d,isTargetUse:g,isCompareUse:ht,compareResxList:w,titleResxList:nt,defaultOtherChkValue:tt,defaultCompareValue:b,defaultConditionList:it,isUseSaleType:o,isDifferenceUse:ut,isUseToggleBtn:rt,isNewType:this.isNewType,isUseEct:ft}),u&&u==e[1]||o||l.hide(),n.addControl(l)))},toggleDisplay:function(){var i=this.id,r=this.get(0).getValue(),u=this.getValueOrigin(0),f=this.getSumFlagValue()||{},n=this.get(i+"_userAggregate"),t;compareCondition=this.get(i+"_comparePeriod");this.isNewType===!0?(t=this.get(i+"_radio"),this.useUserCustomizeSummary&&r=="9"?(t.hide(),compareCondition.show(),n.show()):(t.show(),n.hide(),t.getValue()=="10"?compareCondition.hide():compareCondition.show())):this.isUseSaleType||(r==u[0]?(this.get(1).show(),this.useUserCustomizeSummary&&n.hide()):r==u[1]?(this.get(1).hide(),this.useUserCustomizeSummary&&n.show()):(this.get(1).hide(),this.useUserCustomizeSummary&&n.hide()));this.adjustDimensions()},getSumFlagWithType:function(){var n=this.get(0).getValue(),t=this.getValueOrigin(0),i=this.getSumFlagValue()||{};return n==t[0]?i.value:n},getValue:function(){var n=[],t=this.get(0).getValue(),r=this.getValueOrigin(0),u=this.getSumFlagValue()||{},i=this.get(this.id+"_userAggregate");n.push(t);n.push(u.value);switch(t){case r[1]:i&&n.push(i.getStandardValue())}return n},getSumFlagValue:function(){var t={},n=this.get(1);return n.controlType=="widget.radio"?(t.value=n.getValue(),t.label=n.getCheckedLabel()):t=n.getSelectedItem?n.getSelectedItem()||{}:{},t},getSelectOption:function(n){var t=this.get(this.id+"_userAggregate");return t&&t.getSelectOption(n)},setSelectOption:function(n,t,i){var r=this.get(this.id+"_userAggregate");r&&r.setSelectOption(n,t,i)},save:function(){for(var n=[],r=this.id+"_userAggregate",t,i=0;i<this.controlList.length;i++)t=this.controlList[i],t.id===r?n=n.concat(t.save().value):n.push(t.save());return{key:this.id,value:n}},restore:function(n){if(n&&$.isArray(n)){for(var t=Object.clone(n,!0),f,i,r,u=0;u<this.controlList.length;u++)i=this.controlList[u],r=t.find(function(n){return n.key===i.id}),i.id===this.id+"_userAggregate"?f=i:r&&(t.splice(t.findIndex(function(n){return n.key===r.key}),1),i.restore(r.value));!$.isEmpty(t)&&f&&f.restore(t)}},serialize:function(){var n=this._super.serialize.call(this),i,t;return this.isNewType&&(i=_.findIndex(n,function(n){return _.includes(n.key,"comparePeriod")}),i>-1&&(n[i].key="REPORT_OPT_COMPARE_TYPE"),t=_.findIndex(n,function(n){return n.key=="SUM_FLAG"}),t>-1&&n[t].value=="10"&&(n[t].value="0")),n},extract:function(){var n=this._super.extract.call(this);return n.useUserCustomizeSummary=this.useUserCustomizeSummary,n}},radioSearchType:{controlType:"widget.combine.radioSearchType",renderParent:null,onInitChildControl:function(n,t){function b(n){var t=[];return n&&n instanceof Array&&$.each(n,function(n){t.push(n)}),t}var o=widget.generator,r=o.control(),u=t.id,f=t.name,i=ecount.resource,k=t.data,e=t.types||[ecount.resource.LBL09363,ecount.resource.LBL14831],s=b(e),h=t.targetList,c=$.isEmpty(t.isTargetUse)?!0:t.isTargetUse,l=$.isEmpty(t.isCompareUse)?!0:t.isCompareUse,a=t.compareResxList||[i.LBL03589,i.LBL08411,i.LBL08412,i.LBL08413,i.LBL08414],v=t.titleResxList||[i.LBL14818,i.LBL14819,i.LBL14820,i.LBL14821,i.LBL14822],y=t.defaultOtherChkValue,p=t.defaultCompareValue,w=t.defaultConditionList?this.setOrders(t.defaultConditionList):[["0","none"]];n.addControl(r.define("widget.radio",u+"_radio",f+"_radio").label(e).value(s).select(0).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.combine.userAggregate",u+"_userAggregate",f+"_userAggregate").setOptions({targetList:h,isTargetUse:c,isCompareUse:l,compareResxList:a,titleResxList:v,defaultOtherChkValue:y,defaultCompareValue:p,defaultConditionList:w}).hide().setInlineIndex(1))},toggleDisplay:function(){var n=this.getValue(),t=n[0]==1;this.get(this.id+"_userAggregate")[t?"show":"hide"]();this.adjustDimensions()},getValue:function(){var n=this.get(1).getStandardValue();return n.unshift(this.get(0).getStandardValue()),n},serialize:function(){var n=[],t=this.controlList.find(function(n){return n.id==this.id+"_radio"},this).serialize();return n.push({key:"REPORT_TYPE",value:t.value}),this.get(0).getValue()=="1"&&(n=n.concat(this.controlList.find(function(n){return n.id==this.id+"_userAggregate"},this).serialize())),n},save:function(){var n=[],t=this.get(0)&&this.get(0).save(),i=this.get(1)&&this.get(1).save();return t&&n.push(t),i&&(n=n.concat(i.value)),{key:this.id,value:n}},validate:function(){var n=[],t,i,r,u,f;return this.get(0).getValue()=="0"?n:(t=this.controlList.find(function(n){return n.id==this.id+"_userAggregate"},this).serialize(),i=t.find(function(n){return n.key=="REPORT_CONDITION"}).value,!i)?(this.showError(ecount.resource.MSG08884),n.push({message:ecount.resource.MSG08884,control:this,targetControl:this}),n):(r=t.find(function(n){return n.key=="REPORT_OPT_PIVOT"}),r&&i.split("|").length<2&&r.value==!0)?(this.showError(ecount.resource.MSG08854),n.push({message:ecount.resource.MSG08854,control:this,targetControl:this.controlList.find(function(n){return n.id=="rbReportType_userAggregate_othersChk"})}),n):(u=t.find(function(n){return n.key=="REPORT_OPT_COMPARE_TYPE"}),f=t.find(function(n){return n.key=="REPORT_SORT_INDEX"}),u&&u.value!="0"&&f&&f.value.indexOf("-3")>-1)?(this.showError(ecount.resource.MSG08916),n.push({message:ecount.resource.MSG08916,control:this,targetControl:this.controlList.find(function(n){return n.id=="rbReportType_userAggregate_comparePeriod"})}),n):n},restore:function(n){if(n&&$.isArray(n)){var t=Object.clone(n,!0),i=t.shift();this.controlList[0].restore(i.value);this.controlList[1].restore(t)}},getSelectOption:function(n){var t=this.get(1);return t&&t.getSelectOption(n)},setSelectOption:function(n,t,i){var r=this.get(1);r&&r.setSelectOption(n,t,i)}},userAggregate:{controlType:"widget.combine.userAggregate",conditionList:[],targetList:[],initializeOptions:function(n){n.extractData?(this.targetList=n.extractData.targetList,this.conditionList=n.extractData.conditionList,this.isUseSaleType=n.extractData.isUseSaleType,this.isDifferenceUse=n.extractData.isDifferenceUse,this.isUseToggleBtn=n.extractData.isUseToggleBtn):(this.targetList=n.targetList.filter(function(n){return n.SUMR_TGT_TF}),this.conditionList=n.targetList.filter(function(n){return n.SUMR_COND_TF}),this.isUseSaleType=n.isUseSaleType,this.isDifferenceUse=n.isDifferenceUse,this.isUseToggleBtn=n.isUseToggleBtn||!1,this.isNewType=n.isNewType||!1)},onInitChildControl:function(n,t){var l=widget.generator,r=l.control(),e=t.id,i=ecount.resource,u=t.name,k=t.data,a=$.isEmpty(t.isTargetUse)?!0:t.isTargetUse,v=$.isEmpty(t.isCompareUse)?!0:t.isCompareUse,h=t.compareResxList||[i.LBL03589,i.LBL08411,i.LBL08412,i.LBL08413,i.LBL08414],c=t.titleResxList||[i.LBL14818,i.LBL14819,i.LBL14820,i.LBL14821,i.LBL14822],y=t.defaultOtherChkValue,p=t.defaultCompareValue,w=t.defaultConditionList?t.defaultConditionList:[["0","none"]],b=$.isEmpty(t.isUseEct)?!0:t.isUseEct,f,o,s;c.forEach(function(t,f){var e=f+1,s="widget.code.searchSUMR",o;this.isNewType&&(s="widget.code.totalCondition");o=r.define(s,"balanceCode_"+e,u+"_balanceCode_"+e).setAddonTitle(t).codeType(7).setChangeStateFuncName("toggleCode").setInlineIndex(f);f>1&&o.hide();n.addControl(o);this.isNewType||n.addControl(r.define("widget.select","innerSelect_"+e,u+"_innerSelect_"+e).option(w).inline().hide().noneFlex(!0).setInlineIndex(f));this.isUseToggleBtn?(n.addControl(r.define("widget.button.toggling","innerBtn1_"+e,u+"_innerBtn1_"+e).setOptions({toggleClass:["btn-asc","btn-desc"],togglePopover:[i.LBL07443,i.LBL07377]}).noneFlex().hide().setInlineIndex(f)),n.addControl(r.define("widget.button.toggling","innerBtn2_"+e,u+"_innerBtn2_"+e).setOptions({toggleClass:["btn-add-sum","btn-unadd-sum"],togglePopover:[i.LBL00090,i.LBL18494]}).noneFlex().hide().setInlineIndex(f))):n.addControl(r.define("widget.checkbox","innerChk_"+e,u+"_innerChk_"+e).label([i.LBL07377]).value([1]).hide().noneFlex(!0).setInlineIndex(f))}.bind(this));f=c.length;a&&n.addControl(r.define("widget.multiCode.summaryTarget",e+"_multiCode",u+"_multiCode").setAddonTitle(i.LBL14823).setInlineIndex(f++));v&&n.addControl(r.define("widget.radio",e+"_comparePeriod",u+"_comparePeriod").setAddonTitle(i.LBL00389).label(h).value(h.map(function(n,t){return t})).select(p).setInlineIndex(f++));o=[i.LBL14824,i.LBL14825,i.LBL02884];s=[0,1,2];this.isUseSaleType&&this.isDifferenceUse&&(o.push(i.LBL18172),s.push(3));b&&n.addControl(r.define("widget.checkbox",e+"_othersChk",u+"_othersChk").setAddonTitle(i.LBL00870).label(o).value(s).select(y).setInlineIndex(f))},toggleCode:function(n,t,i){var e,o,y,u,c;if(t.value!==-Infinity){var l=this.get(i),r=l.id.split("_")[1]-1,a=l.getSelectedCode(),f=a.length>0&&a[0]!==""?"show":"hide",v=this.controlList.filter(this.nameQuery.call(this,"balanceCode")),p=this.controlList.filter(this.nameQuery.call(this,"balanceCode")).find(function(n,t){return t==r}),s=this.conditionList.find(function(n){return n.SUMR_SEQ==p.getSelectedCode()[0]});if(s&&this.setSelectOption(r,s.DATA_TYPE1,!1,s),v.some(function(n,t){return t<r&&n.getSelectedCode()[0]!=""})&&!v.some(function(n,t){return t>r&&n.getSelectedCode()[0]!=""})){var w=this.controlList.filter(this.nameQuery.call(this,"balanceCode")).find(function(n,t){return t<r&&n.getSelectedCode()[0]!=""}),b=+this.controlList.filter(this.nameQuery.call(this,"balanceCode")).filter(function(n,t){return t<r&&n.getSelectedCode()[0]!=""}).pop().id.split("_")[1],h=this.conditionList.find(function(n){return n.SUMR_SEQ==w.getSelectedCode()[0]});h&&this.setSelectOption(+b-1,h.DATA_TYPE1,!1,h)}for(this.isNewType||this.get("innerSelect_"+(r+1))[f](),this.isUseToggleBtn?(this.get("innerBtn1_"+(r+1))[f](),this.get("innerBtn2_"+(r+1))[f]()):this.get("innerChk_"+(r+1))[f](),e=0,o=0,u=0;u<5;u++)this.get("balanceCode_"+(u+1)).isEmpty()||(e++,o=u+1);for(y=e>=o-2?e:o-2,u=0;u<y;u++)if(c=this.get("balanceCode_"+(3+u)),c)c.show();else break;this.adjustDimensions()}},setOrders:function(n,t){var i=this.setDefaultOrders(n,t);return this.targetList.forEach(function(n){i.push([n.SUMR_SEQ,ecount.resource[n.RESX_SUB_CD]])}),i},setDefaultOrders:function(n,t){var i=[];return n=="DATETIME"?i.push([-3,ecount.resource.LBL15219]):(i.push([-1,ecount.resource.LBL02882]),$.isEmpty(t)?i.push([-2,ecount.resource.LBL02880]):$.isEmpty(t.SORT_COL_CD)||i.push([-2,ecount.resource.LBL02880])),i},save:function(){for(var t,i=[],n=0,r=this.controlList.length;n<r;n++)t=null,t=this.controlList[n].controlType=="widget.select"?{key:this.controlList[n].id,value:this.controlList[n].getValue(),option:this.getSelectOption(n)}:this.controlList[n].save(),i.push(t);return{key:this.id,value:i}},setSelectOption:function(n,t,i,r){function h(n){return this.query(function(t,i){return i<=n})}if(!$.isEmpty(n)&&t){n=Number(n);var i=$.isNull(i)?!0:i,e,o=!1,s=this.controlList.filter(this.nameQuery.call(this,"balanceCode"));s.forEach(function(t,i){i>n&&t.getSelectedCode()[0]!=""&&(o=!0)});var c=s.filter(h.call(this,n)),u=this.controlList.filter(this.nameQuery.call(this,"innerSelect")).filter(h.call(this,n)),f=[];u.forEach(function(i,s){if(s==n)e=u[n].getValue(),u[s].removeOption(),f=o?this.setDefaultOrders(t,r):this.setOrders(t,r),r&&r.Key&&r.Key.FORM_TYPE=="AO330"&&r.Key.COL_CD.toUpperCase()=="ACC002.GYE_CODE"&&f.push([-4,ecount.resource.LBL06766]),u[s].addOption(f),u[s].setSelectedValue(e);else{e=u[s].getValue();u[s].removeOption();var l=c[s].getSelectedCode()[0],h=this.conditionList.find(function(n){return n.SUMR_SEQ==l});h&&(f=this.setDefaultOrders(h.DATA_TYPE1,h),h.Key&&h.Key.FORM_TYPE=="AO330"&&h.Key.COL_CD.toUpperCase()=="ACC002.GYE_CODE"&&f.push([-4,ecount.resource.LBL06766]),u[s].addOption(f),f.any(function(n){return n[0]==e})&&u[s].setSelectedValue(e))}},this)}},nameQuery:function(n){return this.query(function(t){return t.name.indexOf(n)>-1})},query:function(n){return function(t,i){return n(t,i)}},validate:function(){var n=[],t,r,u,i,f,s,e,o;if(this.get(0).getValue()=="0")return n;if(t=this.serialize(),i=null,this.isNewType===!0){if(r=!0,u=t.find(function(n){return n.key=="CONDITIONS"}),!$.isNull(u)&&u.value?u.value.length==0&&(r=!1):r=!1,!r)return this.showError(ecount.resource.MSG08884),n.push({message:ecount.resource.MSG08884,control:this,targetControl:this}),n}else{if(i=t.find(function(n){return n.key=="REPORT_CONDITION"}).value,!i)return this.showError(ecount.resource.MSG08884),n.push({message:ecount.resource.MSG08884,control:this,targetControl:this}),n;if(f=t.find(function(n){return n.key=="REPORT_OPT_PIVOT"}),f){if(i.split("|").length<2&&f.value==!0)return this.showError(ecount.resource.MSG08854),n.push({message:ecount.resource.MSG08854,control:this,targetControl:this.controlList.find(function(n){return n.id=="rbReportType_userAggregate_othersChk"})}),n;if(f.value==!0&&(s=t.find(function(n){return n.key=="REPORT_TARGET"}).value,$.isEmpty(s)&&this.targetList&&this.targetList.length>1))return this.showError(ecount.resource.MSG10473),n.push({message:ecount.resource.MSG10473,control:this,targetControl:this.controlList.find(function(n){return n.id=="cmbSumFlag_userAggregate_multiCode"})}),n}}return!this.isUseSaleType&&(e=t.find(function(n){return n.key=="REPORT_OPT_COMPARE_TYPE"}),o=t.find(function(n){return n.key=="REPORT_SORT_INDEX"}),e&&e.value!="0"&&o&&o.value.indexOf("-3")>-1)?(this.showError(ecount.resource.MSG08916),n.push({message:ecount.resource.MSG08916,control:this,targetControl:this.controlList.find(function(n){return n.id=="rbReportType_userAggregate_comparePeriod"})}),n):n},restore:function(n){var t,r,i;if(n.length>0)for(t=0,r=n.length;t<r;t++)i=this.controlList.head(function(i){return i.id==n[t].key}),i&&(n[t].option?(i.removeOption(),i.addOption(n[t].option),i.setSelectedValue(n[t].value)):i.restore(n[t].value))},serialize:function(){function t(n){return this.query(function(t){return t.id.indexOf(n)>-1})}var n=[],f=[],e=[],o=[],s=[],h=[],i=this.controlList.filter(t.call(this,"balanceCode")),w=this.controlList.filter(t.call(this,"innerSelect")),c=this.controlList.filter(t.call(this,"innerChk")),l=this.controlList.filter(t.call(this,"innerBtn1")),a=this.controlList.filter(t.call(this,"innerBtn2")),v=this.controlList.find(t.call(this,this.id+"_comparePeriod")),y=this.controlList.find(t.call(this,this.id+"_othersChk")),p=this.controlList.find(t.call(this,this.id+"_multiCode")),u,r;return this.isNewType===!0?(u=[],i.forEach(function(n,t){var f=n.serialize().value,r,i;$.isEmpty(f)||(r=n.getSelectedItem(),r&&r.length&&(i={},i.COL_CD=f,i.RESX_SUB_DES=r[0].rawData.RESX_SUB_DES||"",i.CODE_DES=r[0].rawData.CODE_DES||"",i.CONVERT_COL_NM=r[0].rawData.CONVERT_COL_NM||"",i.DATA_TYPE1=r[0].rawData.DATA_TYPE1||"",i.DATA_TYPE2=r[0].rawData.DATA_TYPE2||"",this.isUseToggleBtn?(i.SORT_TYPE=l[t].serialize().value[0]=="A"?"ASC":"DESC",i.USE_SUBTOTAL=a[t].serialize().value[0]=="A"?"1":"0"):i.SORT_TYPE=c[t].serialize().value[0]?"DESC":"ASC"),u.push(i))}.bind(this)),u.length&&n.push({key:"CONDITIONS",value:Object.clone(u,!0)})):(i.forEach(function(n){n.serialize().value&&f.push(n.serialize().value)}),this.pcid||n.push({key:"SUM_FLAG",value:"9"}),n.push({key:"REPORT_CONDITION",value:f.join("|")}),w.forEach(function(n,t){i[t].serialize().value&&h.push(n.serialize().value)}),n.push({key:"REPORT_SORT_INDEX",value:h.join("|")}),this.isUseToggleBtn?(l.forEach(function(n,t){i[t].serialize().value&&o.push(n.serialize().value[0]=="A"?"0":"1")}),n.push({key:"REPORT_SORT_TYPE",value:o.join("|")}),a.forEach(function(n,t){i[t].serialize().value&&s.push(n.serialize().value[0]=="A"?"1":"0")}),n.push({key:"REPORT_SUBTOTAL_USE",value:s.join("|")})):(c.forEach(function(n,t){i[t].serialize().value&&e.push(n.serialize().value[0]?"1":"0")}),n.push({key:"REPORT_SORT_TYPE",value:e.join("|")})),v&&n.push({key:"REPORT_OPT_COMPARE_TYPE",value:v.serialize().value||"0"}),y&&(r=y.serialize().value,n.push({key:"REPORT_OPT_PIVOT",value:r.indexOf("0")>-1}),n.push({key:"REPORT_OPT_RATIO",value:r.indexOf("1")>-1}),n.push({key:"REPORT_OPT_CODE",value:r.indexOf("2")>-1}),this.isUseSaleType&&n.push({key:"REPORT_OPT_DIFF",value:r.indexOf("3")>-1})),p&&n.push({key:"REPORT_TARGET",value:p.serialize().value.split("").join("|")})),n},getSelectOption:function(n){var t=[];return this.controlList[n].getSelectOptions().map(function(n){t.push([n.value,n.label])}),t},getValue:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)t.push(this.get(n).getStandardValue());return t},extract:function(){var n=this._super.extract.call(this);return n.targetList=this.targetList,n.conditionList=this.conditionList,n.isUseSaleType=this.isUseSaleType,n.isDifferenceUse=this.isDifferenceUse,n.isUseToggleBtn=this.isUseToggleBtn,n}},simpleSearch:{selectBoxOptions:{searchList:{funName:"setSearchList"},selectValue:{funName:"select"},selectAddonTitle:{funName:"setAddonTitle"}},dateOptions:{_extractFormat:{funName:"setOptions"},_isMonthCalendar:{funName:"setOptions"},_isLastDay:{funName:"setOptions"},_useSlip:{funName:"useSlipDate"},dateValue:{funName:"select",getValue:function(n,t){return[t.dateFrom,t.dateTo]}},_isDateSpace:{funName:"useDateSpace"}},controlType:"widget.combine.simpleSearch",initializeOptions:function(n){this.searchDateName=n.searchDateName||null},onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,e=t.name,r=t.select||[],s=t.dateType||"widget.multiDate",i;r.length&&(t.dateValue=r[0],t.selectValue=r[1]);i=u.define("widget.select.simpleSearch",f+"_select",e+"_select").setOptions({baseControlType:"widget.button.simpleSearch",notUseOption:t.notUseOption,_selectedValue:t._selectedValue});i.setChangeStateFuncName("toggleSelect");t.selectFnList&&i.hasFn(t.selectFnList);t.customInitData&&i.setCustomInitData(t.customInitData);this.setDefineOptions(this.selectBoxOptions,t,i);n.addControl(i);i=u.define(s,f+"_date",e+"_date").setOptions({_isSyncCustomTab:!1});i.setChangeStateFuncName("toggleDate");i.hide();this.setDefineOptions(this.dateOptions,t,i);n.addControl(i)},get_setOptionsObj:function(n,t){var i={};return i[n]=t,i},getDefineValue:function(n,t,i,r){return n=="setOptions"?this.get_setOptionsObj(i,r):$.isFunction(t.getValue)?t.getValue(i,r):r},setDefineOptions:function(n,t,i){var f,e,u,r;for(var o in n)f=t[o],$.isEmpty(f)||(e=n[o],r=e.funName,u=this.getDefineValue(r,e,o,f),r&&$.isFunction(i[r])&&i[r].apply(i,$.isArray(u)?u:[u]))},onLazyRender:function(){var t=this.get(0),n=this.get(1);t.getValue()!="N"&&n.show();n.isInlineMode()&&n.setActiveInlineMode(n.getActiveInlineMode())},getDateControl:function(){return this.get(1)},setShortcut:function(n){var t=this.get(0),i=t.getValue();i!=n&&t.setValue(n,!0)},toggleSelect:function(){var n=this.get(1),r=this.get(0),f=r.getValue(),u=r.getCodeData(),t,i;u&&(t=this.getSimpleSearchParam(u),i=[t.fromDate,t.toDate],n.isSingleDate()&&i.shift(),n.disableTabSync(),n.setDate(i),n.enableTabSync(),this.oldDateValue=n.getDateFormat("yyyyMMdd"));f=="N"?n.hide():n.show()},toggleDate:function(){var n=this.get(1),t=n.getDateFormat("yyyyMMdd"),i;_.isEqual(this.oldDateValue,t)==!1&&(this.oldDateValue=t,n.isAbleTabSync()&&(i=this.get(0),i.setValue("D",!0)))},serialize:function(){var n=[],t=this.get(0).serialize(this.name+"_SELECT");return n.push(t),t.value!="N"&&(n=n.concat(this.get(1).serialize(this.name))),n.push({key:this.name+"_DATECHK",value:t.value=="N"?0:1}),n},save:function(){for(var n=[],f=this.get(0),t,r,i=0,u=this.controlList.length;i<u;i++)r=this.controlList[i],t=r.save(),_.isArray(t)?n=n.concat(t):n.push(t);return{key:this.id,value:n}},restore:function(n){for(var i,r,u,f,e,t=0,o=this.controlList.length;t<o;t++)r=this.controlList[t],n[t]&&r.isVisible()&&(n[t].key==this.get(0).id?(i=r.save().value,n[t].value&&n[t].value.selected&&(i.selected=n[t].value.selected)):(["N","D"].contains(this.get(0).getValue())||(u=this.get(0).getCodeData(),u&&(f=u.FROM_DATE,e=u.TO_DATE,f&&e&&(n[t].value.date=[ecount.control.date.strToDate(f),ecount.control.date.strToDate(e)]))),i=n[t].value),r.restore(i))}},inOutTimeApplyMethod:{controlType:"widget.combine.inOutTimeApplyMethod",onInitChildControl:function(n,t){var c=widget.generator,r=c.control(),i=ecount.resource,u=t.id,f=t.name,y=t.data,l=t.ApplyType||"W",a=t.Standard||"U",o=t.StandardTime||{SNextDay:"1",SHours:"19",SMinutes:"00",ENextDay:"2",EHours:"06",EMinutes:"00"},e=t.HalfLeaveTime||{SNextDay:"1",SHours:"19",SMinutes:"00",ENextDay:"2",EHours:"06",EMinutes:"00",IsUse:"Y"},v=t.WorkingDayHoliday||"A",s=[["00","00"],["01","01"],["02","02"],["03","03"],["04","04"],["05","05"],["06","06"],["07","07"],["08","08"],["09","09"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"],["21","21"],["22","22"],["23","23"]],h=[["1",i.LBL09095],["2",i.LBL00955]];n.addControl(r.define("widget.radio",u+"_radioApplyType",f+"_radioApplyType").label([i.LBL09348,i.LBL09305,i.LBL09306,i.LBL05875]).value(["W","L","E","C"]).select(l).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_applyStandard",f+"_applyStandard").setAddonTitle(i.LBL01369).label([i.LBL17722,i.LBL09235]).value(["W","U"]).select(a).setChangeStateFuncName("toggleDisplay").setInlineIndex(1));n.addControl(r.define("widget.select.fromToDouble.fromToDoubleInOutTime",u+"_standardTime",f+"_standardTime").setAddonTitle(i.LBL09302).addItem({option:h,selectedValue:o.SNextDay}).addItem({option:s,selectedValue:o.SHours}).addItem({from:0,to:59,padLength:2,padString:0,postfix:"",category:"minutes",selectedValue:o.SMinutes}).addItem({option:h,selectedValue:o.ENextDay}).addItem({option:s,selectedValue:o.EHours}).addItem({from:0,to:59,padLength:2,padString:0,postfix:"",category:"minutes",selectedValue:o.EMinutes}).setOptions({canValidate:!1}).setInlineIndex(2).end());n.addControl(r.define("widget.label",u+"_halfLeave",f+"_halfLeave").label(i.LBL17873).noneFlex(!0).setInlineIndex(3).end());n.addControl(r.define("widget.select.fromToDouble.fromToDoubleInOutTime",u+"_morningOff",f+"_morningOff").setAddonTitle("").addItem({option:h,selectedValue:e.SNextDay}).addItem({option:s,selectedValue:e.SHours}).addItem({from:0,to:59,padLength:2,padString:0,postfix:"",category:"minutes",selectedValue:e.SMinutes}).addItem({option:h,selectedValue:e.ENextDay}).addItem({option:s,selectedValue:e.EHours}).addItem({from:0,to:59,padLength:2,padString:0,postfix:"",category:"minutes",selectedValue:e.EMinutes}).setOptions({canValidate:!1}).setInlineIndex(3).hide().end());n.addControl(r.define("widget.checkbox",u+"_checkBoxMorningOff",f+"_checkBoxMorningOff").label(i.LBL07879).value("Y").select(e.IsUse).setChangeStateFuncName("toggleCheckBox").hide().setInlineIndex(3));n.addControl(r.define("widget.link",u+"_linkCalculation",f+"_linkCalculation").label(i.LBL01593).noneFlex(!0).hide().setInlineIndex(4));n.addControl(r.define("widget.checkbox.whole",u+"_checkBoxDay",f+"_checkBoxDay").setAddonTitle(i.LBL01992).label([i.LBL08019,i.LBL04602,i.LBL04596,i.LBL09596,i.LBL01680,i.LBL01161,i.LBL00777,i.LBL09600]).value(["0","1","2","3","4","5","6","7"]).select("2","3","4","5","6").setInlineIndex(5));n.addControl(r.define("widget.radio",u+"_radioWorkingDayHoliday",f+"_radioWorkingDayHoliday").label([i.LBL08019,i.LBL09208,i.LBL09209]).value(["A","B","H"]).setAddonTitle(i.LBL09208+"/"+i.LBL09209).select(v).setInlineIndex(6))},onAfterRender:function(){this.toggleDisplay()},toggleCheckBox:function(){var n=this.get(5).getValue();n?this.get(4).show():this.get(4).hide()},toggleDisplay:function(){var n=this.get(0).getValue(),t=this.get(1).getValue();this.showAll();n=="W"?(this.get(3).hide(),this.get(4).hide(),this.get(5).hide(),this.get(6).hide()):n=="L"||n=="E"?(n=="L"?this.get(3).setLabel(ecount.resource.LBL17873):n=="E"&&this.get(3).setLabel(ecount.resource.LBL17874),this.get(6).hide(),this.get(5).getValue()?this.get(4).show():this.get(4).hide()):n=="C"&&(this.get(1).hide(),this.get(2).hide(),this.get(3).hide(),this.get(4).hide(),this.get(5).hide());t=="W"&&(this.get(2).hide(),this.get(3).hide(),this.get(4).hide(),this.get(5).hide(),n!="C"&&(this.get(7).hide(),this.get(8).hide()))}},recordTimeType:{controlType:"widget.combine.recordTimeType",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name;rest_des=t.rest_des;rest_cd=t.rest_cd;n.addControl(r.define("widget.radio",u+"_recordTimeType",f+"_recordTimeType").label([i.LBL00832,i.LBL12890,i.LBL02809]).value([1,2,3]).select(1).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.code.paidLeave",u+"_paidLeave",f+"_paidLeave").setAddonTitle(i.LBL05325).addCode(t.codes||[]).codeType(7).dataRules(["required"]).hide().end());n.addControl(r.define("widget.code.clockInOut",u+"_ClockInOut",f+"_ClockInOut").setAddonTitle(i.LBL90131).addCode(t.codes||[]).codeType(7).dataRules(["required"]).hide().end())},toggleDisplay:function(){var n=this.get(0).getValue();n=="1"?(this.get(1).hide(),this.get(2).hide()):n=="2"?(this.get(1).show(),this.get(2).hide()):n=="3"&&(this.get(1).hide(),this.get(2).show())}},workingTime:{controlType:"widget.combine.workingTime",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),e=ecount.resource,r=t.id,u=t.name;linkDropDownMenu=t.linkDropDownMenu;n.addControl(i.define("widget.label",r+"_label",u+"_label","label").label(t.label).noneFlex(!0).setInlineIndex(0).end());n.addControl(i.define("widget.link",r+"_testLink",u+"_testLink","testLink").label(e.LBL01593).css("position-relative").hasDropdown(linkDropDownMenu).setInlineIndex(0).end())},setLabel:function(n){this.get(0).setLabel(n)},addLinkClass:function(n){this.get(1).changeCss(this.get(1)._addClass(n))},removeLinkClass:function(n){this.get(1).changeCss(this.get(1)._removeClass(n))},dropdownSetItems:function(n){this.get(1).removeDropdownItem({},!0);this.get(1).addDropdownItem(n)},dropdownRemoveItem:function(n,t){this.get(1).removeDropdownItem(n,t===!0)},dropdownAddItems:function(n){this.get(1).addDropdownItem(n)},getDropdownItemList:function(){return this.get(1).getDropdownItem()}},workType:{controlType:"widget.combine.workType",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),i=ecount.resource,u=t.id,f=t.name,o=t.customData||1;n.addControl(r.define("widget.radio",u+"_workOrNot",f+"_workOrNot").label([i.LBL02475,i.LBL15181,i.LBL15182]).value([1,2,3]).select(o).setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(r.define("widget.radio",u+"_workingOnDeskOrOutside",f+"_workingOnDeskOrOutside").setAddonTitle(i.LBL16391).label([i.LBL02475,i.LBL09329,i.LBL01947]).value([1,2,3]).select(1).hide().setInlineIndex(1))},onAfterRender:function(){this.toggleDisplay()},toggleDisplay:function(){var n=this.get(0).getValue();n=="2"?this.get(1).show():this.get(1).hide()}},accountConnectionCheck:{controlType:"widget.combine.accountConnectionCheck",onInitChildControl:function(n,t){var s=widget.generator,u=s.control(),f=t.id,e=t.name,c=t.data,o=t.isChecked||"",h=t.isModify||!1,r=ecount.resource,i=u.define("widget.checkbox",f+"_checkbox_1",e+"_checkbox_1").value(["Z"]).label(r.LBL00344).select(o).setInlineIndex(0).setChangeStateFuncName("toggleChecked").noneFlex(!0);n.addControl(i);i=u.define("widget.radio",f+"_radio_1",e+"_radio_1").label(["Y","N"]).value([1,0]).select(1).setAddonTitle(r.LBL00558).setAddonPopover({content:r.MSG09668,isLeftView:!0}).setInlineIndex(0);n.addControl(i);i=h?u.define("widget.label",f+"_label_1",e+"_label_1").label(t.isLabel):u.define("widget.input.codeType",f+"_input_1",e+"_input_1").dataRules(["required"]).filter("maxbyte",{message:String.format(ecount.resource.MSG00297,"15","30"),max:30}).hasFn([{id:"checkCode",label:r.LBL02613}]);i.setAddonTitle(r.LBL01851);i.setInlineIndex(1);o!="Z"&&i.hide();n.addControl(i);i=u.define("widget.input",f+"_input_2",e+"_input_2").filter("maxbyte",{message:String.format(ecount.resource.MSG00297,"50","50"),max:50}).setAddonTitle(r.LBL01837).setInlineIndex(2);o!="Z"&&i.hide();n.addControl(i);i=u.define("widget.input",f+"_input_3",e+"_input_3").filter("maxbyte",{message:String.format(ecount.resource.MSG00297,"50","50"),max:50}).setAddonTitle(r.LBL01035).setInlineIndex(3);o!="Z"&&i.hide();n.addControl(i);i=u.define("widget.input",f+"_input_4",e+"_input_4").filter("maxbyte",{message:String.format(ecount.resource.MSG00297,"50","50"),max:50}).setAddonTitle(r.LBL02570).setInlineIndex(4);o!="Z"&&i.hide();n.addControl(i)},toggleChecked:function(n){var t=n||this.get(0).getValue();t?(this.get(1).setState(1,"attr.disabled",!0),this.get(1).setValue(1),this.get(2).show(),this.get(3).show(),this.get(4).show(),this.get(5).show()):(this.get(1).setState(1,"attr.disabled",!1),this.get(2).hide(),this.get(3).hide(),this.get(4).hide(),this.get(5).hide())},setRadioReadOnly:function(n){this.get(1).setState(1,"attr.disabled",n)},setRadioValue:function(n){this.get(1).setValue(n)},checkValidate:function(){var n=this.get(0).getValue();n&&(this.validate(),this.setFocus(2))}},userNewUpgrade:{controlType:"widget.combine.userNewUpgrade",onInitChildControl:function(n,t){var e=widget.generator,r=e.control(),u=t.id,f=t.name,o=t.data,s=t.isType,h=ecount.resource,i=r.define("widget.radio",u+"_radio_1",f+"_radio_1").label(["All","Select","Exclude","Country"]).value(["A","S","E","C"]).select("A").setInlineIndex(0);n.addControl(i);i=r.define("widget.multiCode.company",u+"_multiCode_1",f+"_multiCode_1").setInlineIndex(1);n.addControl(i);i=r.define("widget.radio",u+"_radio_2",f+"_radio_2").label(["All","Select","Marster ID"]).value(["A","S","M"]).select("A").setInlineIndex(2);n.addControl(i);i=r.define("widget.multiCode.user",u+"_multiCode_2",f+"_multiCode_2").setInlineIndex(3);n.addControl(i)}},accountConnectionRadio:{controlType:"widget.combine.accountConnectionRadio",onInitChildControl:function(n,t){var o=widget.generator,u=o.control(),f=t.id,e=t.name,s=t.data,i=ecount.resource,r=u.define("widget.radio",f+"_radio_1",e+"_radio_1").label([i.LBL02475,i.LBL00344,i.LBL80270]).value(["A","Y","N"]).select("A").setAddonTitle(i.LBL18268).setChangeStateFuncName("toggleRadio").setInlineIndex(0);n.addControl(r);r=u.define("widget.radio",f+"_radio_2",e+"_radio_2").label([i.LBL02475,"Y","N"]).value(["A","Y","N"]).select("A").setAddonTitle(i.LBL00558).setInlineIndex(1);n.addControl(r)},toggleRadio:function(){var t=this.get(0).getValue(),n=this.getValueOrigin(1);t=="Y"?(this.get(1).setState(0,"attr.disabled",!0),this.get(1).setState(2,"attr.disabled",!0),this.get(1).setValue(n[1])):(this.get(1).setState(2,"attr.disabled",!1),this.get(1).setState(0,"attr.disabled",!1),this.get(1).setValue(n[0]))}},checkDateNotification:{controlType:"widget.combine.checkDateNotification",onInitChildControl:function(n,t){var s=widget.generator,u=s.control(),f=t.id,e=t.name,r=t.data,o=ecount.resource,i;this.isCsPortal=t.isCsPortal||!1;i=u.define("widget.checkbox",f+"_checkbox_1",e+"_checkbox_1").label(o.LBL00344).setAddonTitle(o.LBL18281).value("A").setChangeStateFuncName("checkboxToggle").noneFlex(!0).setInlineIndex(0);n.addControl(i);i=u.define("widget.date.time",f+"_date_2",e+"_date_2").setInlineIndex(0).hide();n.addControl(i);this.isCsPortal||(i=u.define("widget.checkbox",f+"_checkbox_2",e+"_checkbox_2").label(o.LBL00344).setAddonTitle(o.LBL08855).value("A").setChangeStateFuncName("checkboxToggle").noneFlex(!0).setInlineIndex(1).hide(),n.addControl(i),i=u.define("widget.select",f+"_select_2",e+"_select_2").option(r&&r[0]&&r[0].option||[]).select(r&&r[0]&&r[0].selectedValue).inline().noneFlex(!0).setInlineIndex(1).hide(),n.addControl(i))},checkboxToggle:function(){var t=this.get(0).getValue(),n;this.isCsPortal||(n=this.get(2).getValue());t?(this.get(1).show(),this.isCsPortal||(this.get(2).show(),this.get(3)[n?"show":"hide"]())):(this.get(1).hide(),this.isCsPortal||(this.get(2).hide(),this.get(3).hide()))},customCheckboxToggle:function(n,t){n?(this.get(0).setState(0,"attr.checked",!0),this.get(1).show(),this.isCsPortal||(this.get(2).show(),this.get(2).setState(0,"attr.checked",t?!0:!1),this.get(3)[t?"show":"hide"]())):(this.get(0).setState(0,"attr.checked",!1),this.get(1).hide(),this.isCsPortal||(this.get(2).hide(),this.get(3).hide()))}},codeWaveCode:{controlType:"widget.combine.codeWaveCode",onInitChildControl:function(n,t){var c=widget.generator,f=c.control(),e=t.id,o=t.name,l=t.data,u=t.isType||1,a=ecount.resource,i,s=String.format("_code_{0}",2*u-1),h=String.format("_code_{0}",2*u),r;switch(u){case 1:i="widget.code.cust";break;case 2:i="widget.code.prod";break;case 3:i="widget.code.project";break;case 4:i="widget.code.crmClient";break;case 5:i="widget.code.account";break;case 6:i="widget.code.codeWMS";break;case 7:i="widget.code.wh";break;case 8:i="widget.code.fixedAssetsCode";break;case 9:i="widget.code.prodGroup";break;case 10:i="widget.code.PIC";break;case 11:i="widget.code.MgmtField";break;case 12:i="widget.code.priceGroup";break;case 13:i="widget.code.custGroup";break;case 14:i="widget.code.processCode";break;case 15:i="widget.code.prdnRscList";break;case 16:i="widget.code.omCd";break;case 17:i="widget.code.earningsCode";break;case 18:i="widget.code.searchEmployeeHr";break;case 19:i="widget.code.searchEmployee"}r=f.define(i,e+s,o+s).noneFlex(!0).setInlineIndex(0);n.addControl(r);this.setCutInControlsTag([{index:0,value:"~"}]);r=f.define(i,e+h,o+h).noneFlex(!0).setInlineIndex(0);n.addControl(r)}},changeable:{controlType:"widget.combine.changeable",onInitChildControl:function(n,t){var i=widget.generator,r=i.control(),u=t.id,f=t.name,e=t.data;n.addControl(r.define("widget.label",u+"_base",f+"_base").label("base").hide().setInlineIndex(0))},addControl:function(n,t){t==undefined&&(t=this.controlList.length);this.addChildControl(n,t)},removeControl:function(n){this.removeChildControl(n)},removeAll:function(){var t,n;if(this.controlList.length>1){for(t=[],n=0;n<this.controlList.length;n++)t.push(n);this.removeChildControl(t.splice(1))}},activeDefineControls:function(n,t){var h=widget.generator,c=ecount.resource,u,f,r,i,o,e,s;for(this._activeControls=[],u=0;u<n.length;u++){if(_.isFunction(n[u].end))i=n[u],o=i.getOptions("inlineIndex",!1),_.isNumber(o)||i.setInlineIndex(t+u);else if(n[u].__type&&n[u].__type==="control")i=n[u],o=i.inlineIndex,_.isNumber(o)||(i.inlineIndex=t+u);else for(r=_.merge({},n[u]),i=h.control(),i.define(r.controlType,this.id+r.id,this.name+r.name).setInlineIndex(t+u),r.setAddonTitle&&i.setAddonTitle(r.setAddonTitle),r.controlType=="widget.input"&&i.setOptions({isNotChangeWidth:!0}),r.controlType=null,r.id=null,r.name=null,r.setAddonTitle=null,e=Object.keys(r),f=0;f<e.length;f++)s=r[e[f]],s&&_.isFunction(i[e[f]])&&i[e[f]](s);i.end&&typeof i.end=="function"&&(i=i.end());i.data&&i.data.length>0&&i.data.forEach(function(n){n.pcid=this.id});i._pcid=this.id;this._activeControls.push(i)}}},setNotificationForm:{controlType:"widget.combine.setNotificationForm",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name,e=t.data;n.addControl(i.define("widget.select",r+"_target",u+"_target").option([["row",ecount.resource.LBL19121],["specificCell",ecount.resource.LBL19143]]).select("row").setChangeStateFuncName("toggleDisplay").setInlineIndex(0));n.addControl(i.define("widget.multiCode.applyRange",r+"_setType",u+"_setType").dataRules(["required"]).hide().setOptions({popupURL:"/ECERP/SVC/Popup/FM081P_05",valueColumn:"COL_CD",labelColumn:"TITLE",width:550,isSVC:!0,defaultParam:{isChangePopupType:!1,Request:{PARAM:"",FormColumns:[]}}}).setInlineIndex(1))},toggleDisplay:function(){var n=this.get(0).getValue();n=="row"?this.get(1).hide():this.get(1).show()},setValue:function(n){for(var i,r,t=0,u=this.controlList.length;t<u;t++)r=this.get(t),i=n[t],$.isNull(i)||r.setStandardValue(i,r.controlType=="widget.select"?!0:"")}},regardedPensionPay:{controlType:"widget.combine.regardedPensionPay",onInitChildControl:function(n,t){var o=widget.generator,i=o.control(),h=ecount.resource,r=t.id,u=t.name,s=t.numberOfLast3MonthsWorkingDay||0,e=t.monthListOfLast3MonthsWorkingDay||[null,null,null],f=t.readOnlyList;n.addControl(i.define("widget.label","workingDayLabel_"+r,"workingDayLabel_"+u).label("3").setInlineIndex(0));n.addControl(i.define("widget.input","input_"+r,"input_"+u).value(s).numericOnly(6,0).setInlineIndex(0).readOnly(f[0]));n.addControl(i.define("widget.label","workingDayLabel1_"+r,"workingDayLabel1_"+u).label("").setInlineIndex(0));n.addControl(i.define("widget.date","workingMonthLabelFirstOfLast_"+r,"workingMonthLabelFirstOfLast_"+u).select(e[0]).readOnly(f[1]).useDateSpace().wholeRow().setInlineIndex(1).setOptions({_isMonthCalendar:!1,_isOnlyUseDatepicker:!1,_hideDateButton:!0}));n.addControl(i.define("widget.date","workingMonthLabelSecondOfLast_"+r,"workingMonthLabelSecondOfLast_"+u).select(e[1]).readOnly(f[2]).useDateSpace().wholeRow().setInlineIndex(2).setOptions({_isMonthCalendar:!1,_isOnlyUseDatepicker:!1,_hideDateButton:!0}));n.addControl(i.define("widget.date","workingMonthLabelThirdOfLast_"+r,"workingMonthLabelThirdOfLast_"+u).select(e[2]).readOnly(f[3]).useDateSpace().wholeRow().setInlineIndex(3).setOptions({_isMonthCalendar:!1,_isOnlyUseDatepicker:!1,_hideDateButton:!0}))},setReadOnly:function(){var t,n;arguments.length===1?(n=arguments[0],this.get(1).readOnly(n),this.get(3).readOnly(n),this.get(4).readOnly(n),this.get(5).readOnly(n)):(t=arguments[0],n=arguments[1]);switch(t){case 0:this.get(1).readOnly(n);break;case 1:this.get(3).readOnly(n);break;case 2:this.get(4).readOnly(n);break;case 3:this.get(5).readOnly(n)}},setValue:function(n){this.get(1).setStandardValue(n[0]);this.get(3).setStandardValue(n[1]);this.get(4).setStandardValue(n[2]);this.get(5).setStandardValue(n[3])},getValue:function(){var n=this._super.getValue.call(this);return[n[1],n[3],n[4],n[5]]},_getDateValue:function(n){var t=!$.isNull(n.getStandardValue()[0])&&n.getStandardValue()[0].getFullYear()||undefined,i=!$.isNull(n.getStandardValue()[0])&&n.getStandardValue()[0].getMonth()+1||undefined;return n&&[t,i]}},pensionTargetPay:{controlType:"widget.combine.pensionTargetPay",increaseNumber:6,onInitChildControl:function(n,t){function s(t,f){var e=f+1;n.addControl(i.define("widget.date.YM","pensionTargetPay_dateYM_"+r+"_"+e,"pensionTargetPay_dateYM"+u+"_"+e).triggerChangeEventOnce().select(t[0]).useSlipDate(!1).setInlineIndex(e).setOptions({}).end());n.addControl(i.define("widget.input","pensionTargetPay_workingDay_"+r+"_"+e,"pensionTargetPay_workingDay"+u+"_"+e).value(t[1][0]||0).numericOnly(2,0).setInlineIndex(e).setOptions({isNotChangeWidth:!0}).end());n.addControl(i.define("widget.label","pensionTargetPay_label_"+r+"_"+e,"pensionTargetPay_label"+u+"_"+e).label("/").setInlineIndex(e).end());n.addControl(i.define("widget.input","pensionTargetPay_LastDayOfMonth_"+r+"_"+e,"pensionTargetPay_endDay"+u+"_"+e).value(t[1][1]).numericOnly(2,0).readOnly(!0).setInlineIndex(e).setOptions({isNotChangeWidth:!0}).end());n.addControl(i.define("widget.label","pensionTargetPay_label_"+r+"_"+e,"pensionTargetPay_label"+u+"_"+e).label("").setInlineIndex(e));n.addControl(i.define("widget.input","pensionTargetPay_eachMonth_"+r+"_"+e,"pensionTargetPay_eachMonth"+u+"_"+e).value(t[2]).numericOnly(10,0).setInlineIndex(e).setOptions({isNotChangeWidth:!0}).end())}var e=widget.generator,i=e.control(),h=ecount.resource,r=t.id,u=t.name,o=t.infoPayEachMonth.map(function(n){return n[1][0]}),f;for(sumOfWorkingDayLast3months=o.reduce(function(n,t){return parseInt(n)+parseInt(t)}),numberOfLast3MonthsWorkingDay=t.numberOfLast3MonthsWorkingDay||sumOfWorkingDayLast3months||0,infoPayEachMonthValue=t.infoPayEachMonth||[null,null,null,null],n.addControl(i.define("widget.label","pensionTargetPayLabel_"+r,"pensionTargetPayLabel_"+u).label("3").setInlineIndex(0)),n.addControl(i.define("widget.input","pensionTargetWorkingDayLast3Months_"+r,"pensionTargetWorkingDayLast3Months_"+u).value(numberOfLast3MonthsWorkingDay).numericOnly(6,0).setInlineIndex(0)),n.addControl(i.define("widget.label","pensionTargetPayLabelDay_"+r,"pensionTargetPayLabelDay_"+u).label("").setInlineIndex(0)),n.addControl(i.define("widget.button","callPayListButton_"+r,"callPayListButton_"+u).label(" ").setInlineIndex(0)),f=0;f<infoPayEachMonthValue.length;f++)s(infoPayEachMonthValue[f],f)},setValue:function(n){var r,i,t;for(this.get(1).setStandardValue(n[0]),r=n[1],i=this.increaseNumber,t=0;t<r.length;t++)this.get(4+i*t).setStandardValue(n[1][t][0]),this.get(5+i*t).setStandardValue(n[1][t][1]),this.get(7+i*t).setStandardValue(n[1][t][2]),this.get(9+i*t).setStandardValue(n[1][t][3])},getValue:function(){for(var r=this.get(1).getValue(),t=this.increaseNumber,i=[],n=0;n<4;n++)i.push([this.get(4+t*n).getStandardValue()[0],this.get(5+t*n).getStandardValue()[0],this.get(7+t*n).getStandardValue()[0],this.get(9+t*n).getStandardValue()[0]]);return[r,i]},getLastDay:function(n,t){return new Date(n,t,0).getDate()},setLastDay:function(n,t){var r=t.selected||{},f=r.id||n.cid,i=parseInt(f.split("_")[3])-1,o=r.value||n.value,u=this.getValue()[1][i][0],e=this.getLastDay(u.getFullYear(),u.getMonth()+1);this.get(7+6*i).cid.indexOf("LastDayOfMonth")>=0&&this.get(7+6*i).setValue(e)},ON_CLICK_SERVICE:function(n,t,i,r){this.setLastDay(n,r)},ON_KEYDOWN_ARROW_UP:function(n,t,i,r){this.setLastDay(n,r)},ON_KEYDOWN_ARROW_DOWN:function(n,t,i,r){this.setLastDay(n,r)},ON_KEYDOWN_ARROW_UP_SERVICE:function(n,t,i,r){this.setLastDay(n,r)},ON_KEYDOWN_ARROW_DOWN_SERVICE:function(n,t,i,r){this.setLastDay(n,r)},ON_KEYUP_OTHERS:function(n,t,i,r){i.id.split("_")[1]==="dateYM"&&this.setLastDay(n,r)},ON_INPUT:function(n,t,i){if(i.id.split("_")[1]==="workingDay"){var r=parseInt(this.get(5).getValue())||0,u=parseInt(this.get(11).getValue())||0,f=parseInt(this.get(17).getValue())||0,e=parseInt(this.get(23).getValue())||0;this.get(1).setValue(r+u+f+e)}}},earningCode:{controlType:"widget.combine.earningCode",onInitChildControl:function(n,t){var i=widget.generator,r=i.control(),u=t.id,f=t.name,e=t._fixedSelectedValue||[];n.addControl(r.define("widget.multiCode.earningsCode",u,f).addCode(e))}},taxErrorMargin:{controlType:"widget.combine.taxErrorMargin",onInitChildControl:function(n,t){var s=widget.generator,f=s.control(),e=t.id,r=ecount.resource,h=t.VAT_LIMIT||0,i=t.paramName,c=t.isInline?0:1,o=t.VAT_ERR_CNFM_TF?"1":"0",l=f.define("widget.radio",e+"_RADIO",i&&i[0]||"VAT_ERR_CNFM_TF").label([r.LBL03589,r.LBL01448]).value(["0","1"]).select(o).setInlineIndex(0).setChangeStateFuncName("toggleDisplay"),u;n.addControl(l);u=f.define("widget.input",e,i&&i[1]||"VAT_LIMIT").numericOnly(15,ecount.config.company.DEC_AMT,"",!1,!0).value(h).setAddonTitle(r.LBL08528).setInlineIndex(c);o=="0"&&u.hide();n.addControl(u)},toggleDisplay:function(){var n=this.get(0).getValue();switch(n){case"1":this.get(1).show();break;case"0":this.get(1).hide()}}},selectInputCode:{controlType:"widget.combine.selectInputCode",onInitChildControl:function(n,t){var f=widget.generator,i=f.control(),r=t.id,u=t.name,e=t._fixedSelectedValue||[];n.addControl(i.define("widget.select",r+"_select",u+"_select").label().option(t.data[0].option||[]).setInlineIndex(0).setChangeStateFuncName("toggleSelect"));n.addControl(i.define("widget.input",r+"_input",u+"_input").setInlineIndex(0));n.addControl(i.define("widget.code.prod",r+"_input",u+"_input").codeType(7).setInlineIndex(0).setOptions({_inline:!0}).hide())},toggleSelect:function(){var n=this.get(0).getSelectedItem();switch(n.value){case"code":this.get(1).hide();this.get(2).show();break;default:this.get(1).show();this.get(2).hide()}}},national:{controlType:"widget.combine.national",onInitChildControl:function(n,t){var u=widget.generator,f=u.control(),e=t.id,o=t.name,s=t.data,r,i=f.define("widget.input",e+"_input",o+"_input",ecount.resource.LBL02001).setPlaceHolder(ecount.resource.LBL02001);t.nationalFlagOptions&&i.setNationalFlag(t.nationalFlagOptions);t.__prettyFilter&&i.prettyFilter(t.__prettyFilter);t.__checkMaxlength&&i.maxLength(t.__checkMaxlength.total,t.__checkMaxlength.message);t.maxLength&&i.maxLength(t.maxLength);t.__filter&&(r=_.isArray(t.__filter)?t.__filter:[t.__filter],r.forEach(function(n){i.filter(n.type,n)},this));n.addControl(i)},setNationalFlag:function(n,t){this.get(0).setNationalFlag(n,t)},getNationalFlag:function(){return this.get(0).getNationalFlag()},setValue:function(n){this.get(0).setValue(_.isArray(n)?n[0]:n)},getValue:function(){return this.get(0).getValue()},addFilterOptions:function(){this.get(0).addFilterOptions.apply(this,arguments)},removeFilterOptions:function(){this.get(0).removeFilterOptions.apply(this,arguments)},setPrettyFilter:function(){this.get(0).setPrettyFilter.apply(this,arguments)},getPrettyFilter:function(){return this.get(0).getPrettyFilter.apply(this,arguments)}},create:function(n){var t,r,i;(n=n||"_default",t=widget.combine.repository[n]||{},widget.combine._baseLoaded||(r=$.Class(ecount.control,widget.combine.repository._default),widget.combine=$.extend(r,widget.combine),widget.combine._baseLoaded=!0,n!="_default"))&&(arguments.length>1?arguments[0][arguments[1]]||(arguments[2]&&(t=widget.combine.repository[arguments[2]]||{}),i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):arguments[0],arguments[0][arguments[1]]=$.Class(i,t)):widget.combine[n]||(t.init||(t.init=function(){widget.combine.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.combine.prototype.render.apply(this,arguments)}),i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.combine,widget.combine[n]=$.Class(i,t)))}}};